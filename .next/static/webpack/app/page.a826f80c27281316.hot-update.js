"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/inbox.js":
/*!***********************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/inbox.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Inbox; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.441.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Inbox = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Inbox\", [\n    [\n        \"polyline\",\n        {\n            points: \"22 12 16 12 14 15 10 15 8 12 2 12\",\n            key: \"o97t9d\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n            key: \"oot6mr\"\n        }\n    ]\n]);\n //# sourceMappingURL=inbox.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvaW5ib3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFhTSxNQUFBQSxRQUFRQyxnRUFBZ0JBLENBQUMsU0FBUztJQUN0QztRQUFDO1FBQVk7WUFBRUMsUUFBUTtZQUFxQ0MsS0FBSztRQUFBO0tBQVU7SUFDM0U7UUFDRTtRQUNBO1lBQ0VDLEdBQUc7WUFDSEQsS0FBSztRQUNQO0tBQ0Y7Q0FDRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vc3JjL2ljb25zL2luYm94LnRzPzIwMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBJbmJveFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0c5c2VXeHBibVVnY0c5cGJuUnpQU0l5TWlBeE1pQXhOaUF4TWlBeE5DQXhOU0F4TUNBeE5TQTRJREV5SURJZ01USWlJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRUVXVORFVnTlM0eE1TQXlJREV5ZGpaaE1pQXlJREFnTUNBd0lESWdNbWd4Tm1FeUlESWdNQ0F3SURBZ01pMHlkaTAyYkMwekxqUTFMVFl1T0RsQk1pQXlJREFnTUNBd0lERTJMamMySURSSU55NHlOR0V5SURJZ01DQXdJREF0TVM0M09TQXhMakV4ZWlJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2luYm94XG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgSW5ib3ggPSBjcmVhdGVMdWNpZGVJY29uKCdJbmJveCcsIFtcbiAgWydwb2x5bGluZScsIHsgcG9pbnRzOiAnMjIgMTIgMTYgMTIgMTQgMTUgMTAgMTUgOCAxMiAyIDEyJywga2V5OiAnbzk3dDlkJyB9XSxcbiAgW1xuICAgICdwYXRoJyxcbiAgICB7XG4gICAgICBkOiAnTTUuNDUgNS4xMSAyIDEydjZhMiAyIDAgMCAwIDIgMmgxNmEyIDIgMCAwIDAgMi0ydi02bC0zLjQ1LTYuODlBMiAyIDAgMCAwIDE2Ljc2IDRINy4yNGEyIDIgMCAwIDAtMS43OSAxLjExeicsXG4gICAgICBrZXk6ICdvb3Q2bXInLFxuICAgIH0sXG4gIF0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgSW5ib3g7XG4iXSwibmFtZXMiOlsiSW5ib3giLCJjcmVhdGVMdWNpZGVJY29uIiwicG9pbnRzIiwia2V5IiwiZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/inbox.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/link-2.js":
/*!************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/link-2.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Link2; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.441.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Link2 = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Link2\", [\n    [\n        \"path\",\n        {\n            d: \"M9 17H7A5 5 0 0 1 7 7h2\",\n            key: \"8i5ue5\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M15 7h2a5 5 0 1 1 0 10h-2\",\n            key: \"1b9ql8\"\n        }\n    ],\n    [\n        \"line\",\n        {\n            x1: \"8\",\n            x2: \"16\",\n            y1: \"12\",\n            y2: \"12\",\n            key: \"1jonct\"\n        }\n    ]\n]);\n //# sourceMappingURL=link-2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbGluay0yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0sTUFBQUEsUUFBUUMsZ0VBQWdCQSxDQUFDLFNBQVM7SUFDdEM7UUFBQztRQUFRO1lBQUVDLEdBQUc7WUFBMkJDLEtBQUs7UUFBQTtLQUFVO0lBQ3hEO1FBQUM7UUFBUTtZQUFFRCxHQUFHO1lBQTZCQyxLQUFLO1FBQUE7S0FBVTtJQUMxRDtRQUFDO1FBQVE7WUFBRUMsSUFBSTtZQUFLQyxJQUFJO1lBQU1DLElBQUk7WUFBTUMsSUFBSTtZQUFNSixLQUFLO1FBQUE7S0FBVTtDQUNsRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vc3JjL2ljb25zL2xpbmstMi50cz82MDBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgTGluazJcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk9TQXhOMGczUVRVZ05TQXdJREFnTVNBM0lEZG9NaUlnTHo0S0lDQThjR0YwYUNCa1BTSk5NVFVnTjJneVlUVWdOU0F3SURFZ01TQXdJREV3YUMweUlpQXZQZ29nSUR4c2FXNWxJSGd4UFNJNElpQjRNajBpTVRZaUlIa3hQU0l4TWlJZ2VUSTlJakV5SWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvbGluay0yXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgTGluazIgPSBjcmVhdGVMdWNpZGVJY29uKCdMaW5rMicsIFtcbiAgWydwYXRoJywgeyBkOiAnTTkgMTdIN0E1IDUgMCAwIDEgNyA3aDInLCBrZXk6ICc4aTV1ZTUnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTUgN2gyYTUgNSAwIDEgMSAwIDEwaC0yJywga2V5OiAnMWI5cWw4JyB9XSxcbiAgWydsaW5lJywgeyB4MTogJzgnLCB4MjogJzE2JywgeTE6ICcxMicsIHkyOiAnMTInLCBrZXk6ICcxam9uY3QnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IExpbmsyO1xuIl0sIm5hbWVzIjpbIkxpbmsyIiwiY3JlYXRlTHVjaWRlSWNvbiIsImQiLCJrZXkiLCJ4MSIsIngyIiwieTEiLCJ5MiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/link-2.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Collab/ChatPanel.tsx":
/*!*********************************************!*\
  !*** ./src/components/Collab/ChatPanel.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPanel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/realtime/provider */ \"(app-pages-browser)/./src/lib/realtime/provider.ts\");\n/* harmony import */ var _MemberPicker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MemberPicker */ \"(app-pages-browser)/./src/components/Collab/MemberPicker.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction dmKey(a, b) {\n    const [x, y] = a < b ? [\n        a,\n        b\n    ] : [\n        b,\n        a\n    ];\n    return \"dm:\".concat(x, \":\").concat(y);\n}\nfunction ChatPanel(param) {\n    let { roomId, userId, user, role = \"employe\", height = 420, onContextUpdate } = param;\n    _s();\n    const rt = (0,_lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__.getRealtimeClient)();\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"room\");\n    const [dmTarget, setDmTarget] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pickerOpen, setPickerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [msgs, setMsgs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const seenIds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const scrollerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [connReady, setConnReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastError, setLastError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canAssignPrivately = role === \"chef\" && mode === \"dm\" && !!dmTarget;\n    const [ptTitle, setPtTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ptProject, setPtProject] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ptDueDate, setPtDueDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ptDueTime, setPtDueTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ptDueText, setPtDueText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ptSaving, setPtSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showAssign, setShowAssign] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canAssignPrivately) setShowAssign(true);\n    }, [\n        canAssignPrivately\n    ]);\n    const roomKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>\"room:\".concat(roomId), [\n        roomId\n    ]);\n    const dmRoomKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>dmTarget ? dmKey(userId, dmTarget.id) : \"\", [\n        dmTarget,\n        userId\n    ]);\n    // Ecoute des commandes globales: ouvrir un DM (depuis une notification)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let bc = null;\n        try {\n            bc = new BroadcastChannel(\"chat-control\");\n            bc.onmessage = (ev)=>{\n                const data = (ev === null || ev === void 0 ? void 0 : ev.data) || {};\n                if ((data === null || data === void 0 ? void 0 : data.type) === \"open-dm\" && (data === null || data === void 0 ? void 0 : data.targetId)) {\n                    setMode(\"dm\");\n                    setDmTarget({\n                        id: String(data.targetId),\n                        name: String(data.targetName || \"Utilisateur\")\n                    });\n                    setPickerOpen(false);\n                }\n            };\n        } catch (e) {}\n        return ()=>{\n            try {\n                bc === null || bc === void 0 ? void 0 : bc.close();\n            } catch (e) {}\n        };\n    }, []);\n    // Propager le contexte au parent\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        onContextUpdate === null || onContextUpdate === void 0 ? void 0 : onContextUpdate({\n            mode,\n            dmTargetId: dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id\n        });\n    }, [\n        mode,\n        dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id,\n        onContextUpdate\n    ]);\n    // Historique + fichiers\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            const key = mode === \"room\" ? roomKey : dmRoomKey;\n            if (!key) {\n                setMsgs([]);\n                setFiles([]);\n                return;\n            }\n            try {\n                const res = await fetch(\"/api/realtime/history?room=\".concat(encodeURIComponent(key)), {\n                    cache: \"no-store\"\n                });\n                const data = await res.json();\n                const items = ((data === null || data === void 0 ? void 0 : data.items) || []).map((m)=>({\n                        id: m.id,\n                        text: m.text,\n                        ts: m.ts,\n                        user: m.user\n                    }));\n                seenIds.current = new Set(items.map((m)=>m.id));\n                setMsgs(items);\n                requestAnimationFrame(()=>{\n                    var _scrollerRef_current;\n                    return (_scrollerRef_current = scrollerRef.current) === null || _scrollerRef_current === void 0 ? void 0 : _scrollerRef_current.scrollTo({\n                        top: scrollerRef.current.scrollHeight\n                    });\n                });\n            } catch (e) {\n                setLastError((e === null || e === void 0 ? void 0 : e.message) || \"Impossible de charger l'historique\");\n            }\n            if (mode === \"room\") {\n                try {\n                    const fres = await fetch(\"/api/files/list?room=\".concat(encodeURIComponent(roomKey)), {\n                        cache: \"no-store\"\n                    });\n                    const fdata = await fres.json();\n                    setFiles((fdata === null || fdata === void 0 ? void 0 : fdata.items) || []);\n                } catch (e) {}\n            } else {\n                try {\n                    const fres = await fetch(\"/api/files/list?userId=\".concat(encodeURIComponent(userId)), {\n                        cache: \"no-store\"\n                    });\n                    const fdata = await fres.json();\n                    const all = (fdata === null || fdata === void 0 ? void 0 : fdata.items) || [];\n                    const filtered = all.filter((f)=>{\n                        var _f_from, _f_from1;\n                        return f.toUserId === userId && ((_f_from = f.from) === null || _f_from === void 0 ? void 0 : _f_from.id) === (dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id) || f.toUserId === (dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id) && ((_f_from1 = f.from) === null || _f_from1 === void 0 ? void 0 : _f_from1.id) === userId;\n                    });\n                    setFiles(filtered);\n                } catch (e) {}\n            }\n        })();\n    }, [\n        mode,\n        roomKey,\n        dmRoomKey,\n        userId,\n        dmTarget\n    ]);\n    // Abonnements temps réel\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        rt.setUser({\n            id: userId,\n            name: user,\n            role\n        });\n        const offs = [];\n        const readyRoom = mode === \"room\" ? roomKey : dmRoomKey || roomKey;\n        offs.push(rt.subscribe(readyRoom, \"ready\", ()=>setConnReady(true)));\n        if (mode === \"room\") {\n            offs.push(rt.subscribe(roomKey, \"chat\", (env)=>{\n                var _env_payload, _env_payload1;\n                const m = {\n                    id: env === null || env === void 0 ? void 0 : (_env_payload = env.payload) === null || _env_payload === void 0 ? void 0 : _env_payload.id,\n                    text: env === null || env === void 0 ? void 0 : (_env_payload1 = env.payload) === null || _env_payload1 === void 0 ? void 0 : _env_payload1.text,\n                    user: env === null || env === void 0 ? void 0 : env.user,\n                    ts: env === null || env === void 0 ? void 0 : env.ts\n                };\n                if (!(m === null || m === void 0 ? void 0 : m.id) || seenIds.current.has(m.id)) return;\n                seenIds.current.add(m.id);\n                setMsgs((prev)=>{\n                    const next = [\n                        ...prev,\n                        m\n                    ].slice(-200);\n                    requestAnimationFrame(()=>{\n                        var _scrollerRef_current;\n                        return (_scrollerRef_current = scrollerRef.current) === null || _scrollerRef_current === void 0 ? void 0 : _scrollerRef_current.scrollTo({\n                            top: scrollerRef.current.scrollHeight,\n                            behavior: \"smooth\"\n                        });\n                    });\n                    return next;\n                });\n            }));\n            offs.push(rt.subscribe(roomKey, \"file\", (env)=>{\n                const p = env === null || env === void 0 ? void 0 : env.payload;\n                if (!(p === null || p === void 0 ? void 0 : p.id)) return;\n                setFiles((prev)=>[\n                        p,\n                        ...prev\n                    ]);\n            }));\n        } else if (dmRoomKey) {\n            offs.push(rt.subscribe(dmRoomKey, \"dm\", (env)=>{\n                var _env_payload, _env_payload1;\n                const m = {\n                    id: env === null || env === void 0 ? void 0 : (_env_payload = env.payload) === null || _env_payload === void 0 ? void 0 : _env_payload.id,\n                    text: env === null || env === void 0 ? void 0 : (_env_payload1 = env.payload) === null || _env_payload1 === void 0 ? void 0 : _env_payload1.text,\n                    user: env === null || env === void 0 ? void 0 : env.user,\n                    ts: env === null || env === void 0 ? void 0 : env.ts\n                };\n                if (!(m === null || m === void 0 ? void 0 : m.id) || seenIds.current.has(m.id)) return;\n                seenIds.current.add(m.id);\n                setMsgs((prev)=>[\n                        ...prev,\n                        m\n                    ].slice(-200));\n            }));\n            offs.push(rt.subscribe(dmRoomKey, \"task\", (env)=>{\n                const p = env === null || env === void 0 ? void 0 : env.payload;\n                const t = p === null || p === void 0 ? void 0 : p.task;\n                if (!(t === null || t === void 0 ? void 0 : t.id)) return;\n                const sys = {\n                    id: \"task-\".concat(t.id),\n                    ts: (env === null || env === void 0 ? void 0 : env.ts) || Date.now(),\n                    user: env === null || env === void 0 ? void 0 : env.user,\n                    text: 'T\\xe2che assign\\xe9e: \"'.concat(t.title, '\" (').concat(t.project, \")\") + (t.dueAt ? \" \\xb7 \\xc9ch\\xe9ance: \".concat(new Date(t.dueAt).toLocaleString()) : \"\")\n                };\n                if (!seenIds.current.has(sys.id)) {\n                    seenIds.current.add(sys.id);\n                    setMsgs((prev)=>[\n                            ...prev,\n                            sys\n                        ].slice(-200));\n                }\n            }));\n            offs.push(rt.subscribe(\"user:\".concat(userId), \"file\", (env)=>{\n                var _env_user, _env_user1;\n                const p = env === null || env === void 0 ? void 0 : env.payload;\n                if (!(p === null || p === void 0 ? void 0 : p.id)) return;\n                if (p.toUserId === userId && (env === null || env === void 0 ? void 0 : (_env_user = env.user) === null || _env_user === void 0 ? void 0 : _env_user.id) === (dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id) || p.toUserId === (dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id) && (env === null || env === void 0 ? void 0 : (_env_user1 = env.user) === null || _env_user1 === void 0 ? void 0 : _env_user1.id) === userId) {\n                    setFiles((prev)=>[\n                            p,\n                            ...prev\n                        ]);\n                }\n            }));\n            offs.push(rt.subscribe(\"user:\".concat(userId), \"dm\", (env)=>{\n                var _env_user, _env_payload, _env_payload1;\n                const fromId = env === null || env === void 0 ? void 0 : (_env_user = env.user) === null || _env_user === void 0 ? void 0 : _env_user.id;\n                if (!fromId || fromId !== (dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.id)) return;\n                const m = {\n                    id: env === null || env === void 0 ? void 0 : (_env_payload = env.payload) === null || _env_payload === void 0 ? void 0 : _env_payload.id,\n                    text: env === null || env === void 0 ? void 0 : (_env_payload1 = env.payload) === null || _env_payload1 === void 0 ? void 0 : _env_payload1.text,\n                    user: env === null || env === void 0 ? void 0 : env.user,\n                    ts: env === null || env === void 0 ? void 0 : env.ts\n                };\n                if (!(m === null || m === void 0 ? void 0 : m.id) || seenIds.current.has(m.id)) return;\n                seenIds.current.add(m.id);\n                setMsgs((prev)=>[\n                        ...prev,\n                        m\n                    ].slice(-200));\n            }));\n            offs.push(rt.subscribe(\"user:\".concat(userId), \"task\", (env)=>{\n                var _t_createdBy;\n                const p = env === null || env === void 0 ? void 0 : env.payload;\n                const t = p === null || p === void 0 ? void 0 : p.task;\n                if (!(t === null || t === void 0 ? void 0 : t.id)) return;\n                if (dmTarget && (t.userId === dmTarget.id || ((_t_createdBy = t.createdBy) === null || _t_createdBy === void 0 ? void 0 : _t_createdBy.id) === dmTarget.id)) {\n                    const sys = {\n                        id: \"task-\".concat(t.id),\n                        ts: (env === null || env === void 0 ? void 0 : env.ts) || Date.now(),\n                        user: env === null || env === void 0 ? void 0 : env.user,\n                        text: 'T\\xe2che assign\\xe9e: \"'.concat(t.title, '\" (').concat(t.project, \")\") + (t.dueAt ? \" \\xb7 \\xc9ch\\xe9ance: \".concat(new Date(t.dueAt).toLocaleString()) : \"\")\n                    };\n                    if (!seenIds.current.has(sys.id)) {\n                        seenIds.current.add(sys.id);\n                        setMsgs((prev)=>[\n                                ...prev,\n                                sys\n                            ].slice(-200));\n                    }\n                }\n            }));\n        }\n        return ()=>{\n            offs.forEach((off)=>off === null || off === void 0 ? void 0 : off());\n        };\n    }, [\n        mode,\n        roomKey,\n        dmRoomKey,\n        userId,\n        user,\n        role,\n        rt,\n        dmTarget\n    ]);\n    async function send() {\n        const txt = text.trim();\n        if (!txt) return;\n        const id = \"\".concat(Date.now(), \"-\").concat(Math.random().toString(36).slice(2, 8));\n        const now = Date.now();\n        const me = {\n            id: userId,\n            name: user,\n            role\n        };\n        const optimistic = {\n            id,\n            text: txt,\n            ts: now,\n            user: me\n        };\n        seenIds.current.add(id);\n        setMsgs((prev)=>{\n            const next = [\n                ...prev,\n                optimistic\n            ].slice(-200);\n            requestAnimationFrame(()=>{\n                var _scrollerRef_current;\n                return (_scrollerRef_current = scrollerRef.current) === null || _scrollerRef_current === void 0 ? void 0 : _scrollerRef_current.scrollTo({\n                    top: scrollerRef.current.scrollHeight,\n                    behavior: \"smooth\"\n                });\n            });\n            return next;\n        });\n        setText(\"\");\n        setLastError(null);\n        try {\n            if (mode === \"room\") {\n                await rt.trigger(roomKey, \"chat\", {\n                    id,\n                    text: txt\n                });\n            } else if (dmTarget) {\n                await rt.trigger(dmRoomKey, \"dm\", {\n                    id,\n                    text: txt,\n                    toUserId: dmTarget.id\n                });\n            }\n        } catch (e) {\n            setLastError((e === null || e === void 0 ? void 0 : e.message) || \"\\xc9chec de l'envoi\");\n        }\n    }\n    function onKeyDown(e) {\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            send();\n        }\n    }\n    async function handlePickFile(e) {\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (!file) return;\n        await uploadFile(file);\n        e.currentTarget.value = \"\";\n    }\n    async function uploadFile(file) {\n        setUploading(true);\n        try {\n            const fd = new FormData();\n            fd.append(\"actorId\", userId);\n            fd.append(\"actorName\", user);\n            fd.append(\"actorRole\", role);\n            if (mode === \"room\") {\n                fd.append(\"scope\", \"room\");\n                fd.append(\"room\", roomKey);\n            } else if (dmTarget) {\n                fd.append(\"scope\", \"direct\");\n                fd.append(\"toUserId\", dmTarget.id);\n            }\n            if (text.trim()) fd.append(\"message\", text.trim());\n            fd.append(\"file\", file, file.name);\n            const res = await fetch(\"/api/files/upload\", {\n                method: \"POST\",\n                body: fd\n            });\n            const data = await res.json();\n            if (!res.ok) {\n                alert((data === null || data === void 0 ? void 0 : data.error) || \"Upload \\xe9chou\\xe9\");\n                return;\n            }\n            setFiles((prev)=>[\n                    data.file,\n                    ...prev\n                ]);\n            setText(\"\");\n        } catch (e) {\n            alert(\"Erreur r\\xe9seau\");\n        } finally{\n            setUploading(false);\n        }\n    }\n    async function assignPrivateTask() {\n        if (!(role === \"chef\" && dmTarget)) return;\n        if (!ptTitle.trim() || !ptProject.trim()) return;\n        setPtSaving(true);\n        try {\n            const res = await fetch(\"/api/team/tasks\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    actor: {\n                        id: userId,\n                        name: user,\n                        role\n                    },\n                    userId: dmTarget.id,\n                    title: ptTitle.trim(),\n                    project: ptProject.trim(),\n                    dueDate: ptDueDate || undefined,\n                    dueTime: ptDueTime || undefined,\n                    dueText: ptDueText || undefined\n                })\n            });\n            const data = await res.json();\n            if (!res.ok) {\n                alert((data === null || data === void 0 ? void 0 : data.error) || \"Erreur lors de l’assignation\");\n                return;\n            }\n            setPtTitle(\"\");\n            setPtProject(\"\");\n            setPtDueDate(\"\");\n            setPtDueTime(\"\");\n            setPtDueText(\"\");\n        } catch (e) {\n            alert(\"Erreur r\\xe9seau\");\n        } finally{\n            setPtSaving(false);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            border: \"1px solid #e5e7eb\",\n            borderRadius: 10\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 8,\n                    padding: \"10px 14px\",\n                    borderBottom: \"1px solid #e5e7eb\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontWeight: 700\n                        },\n                        children: \"Chat\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 230,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            setMode(\"room\");\n                            setDmTarget(null);\n                        },\n                        className: \"text-xs px-2 py-1 rounded \".concat(mode === \"room\" ? \"bg-gray-900 text-white\" : \"border\"),\n                        title: \"Salon g\\xe9n\\xe9ral\",\n                        children: \"G\\xe9n\\xe9ral\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setPickerOpen(true),\n                        className: \"text-xs px-2 py-1 rounded \".concat(mode === \"dm\" ? \"bg-gray-900 text-white\" : \"border\"),\n                        title: \"Message priv\\xe9\",\n                        children: [\n                            \"Priv\\xe9\",\n                            dmTarget ? \": \".concat(dmTarget.name) : \"\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 232,\n                        columnNumber: 9\n                    }, this),\n                    mode === \"dm\" && dmTarget && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [\n                            \"En priv\\xe9 avec \",\n                            dmTarget.name\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 39\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        title: connReady ? \"Connect\\xe9\" : \"Connexion…\",\n                        style: {\n                            width: 8,\n                            height: 8,\n                            borderRadius: 9999,\n                            background: connReady ? \"#10b981\" : \"#d1d5db\",\n                            display: \"inline-block\",\n                            marginLeft: \"auto\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 234,\n                        columnNumber: 9\n                    }, this),\n                    lastError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            color: \"#dc2626\",\n                            fontSize: 12,\n                            marginLeft: 8\n                        },\n                        children: [\n                            \"Erreur: \",\n                            lastError\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 23\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                lineNumber: 229,\n                columnNumber: 7\n            }, this),\n            role === \"chef\" && mode === \"dm\" && dmTarget && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: 12,\n                    borderBottom: \"1px solid #e5e7eb\",\n                    background: \"#fafafa\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold text-sm\",\n                                children: [\n                                    \"Assigner une t\\xe2che \\xe0 \",\n                                    dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 241,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowAssign((v)=>!v),\n                                className: \"text-xs px-2 py-1 rounded border\",\n                                children: showAssign ? \"Masquer\" : \"Afficher\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 11\n                    }, this),\n                    showAssign && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: ptTitle,\n                                onChange: (e)=>setPtTitle(e.target.value),\n                                placeholder: 'Titre (ex: \"Pr\\xe9parer le rapport\")',\n                                className: \"border rounded-md px-2 py-1\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 246,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: ptProject,\n                                onChange: (e)=>setPtProject(e.target.value),\n                                placeholder: 'Projet (ex: \"Client X\")',\n                                className: \"border rounded-md px-2 py-1\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"\\xc9ch\\xe9ance (date/heure OU texte)\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 248,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-2 gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"date\",\n                                        value: ptDueDate,\n                                        onChange: (e)=>setPtDueDate(e.target.value),\n                                        className: \"border rounded-md px-2 py-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 250,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"time\",\n                                        value: ptDueTime,\n                                        onChange: (e)=>setPtDueTime(e.target.value),\n                                        className: \"border rounded-md px-2 py-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 251,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: ptDueText,\n                                onChange: (e)=>setPtDueText(e.target.value),\n                                placeholder: 'Texte (ex: \"lundi\", \"demain 14:00\")',\n                                className: \"border rounded-md px-2 py-1\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 253,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: assignPrivateTask,\n                                        disabled: ptSaving || !ptTitle.trim() || !ptProject.trim(),\n                                        className: \"px-3 py-2 rounded-md bg-gray-900 text-white disabled:opacity-50\",\n                                        children: ptSaving ? \"Assignation…\" : \"Assigner\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 255,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>{\n                                            const today = new Date();\n                                            const yyyy = today.getFullYear();\n                                            const mm = String(today.getMonth() + 1).padStart(2, \"0\");\n                                            const dd = String(today.getDate()).padStart(2, \"0\");\n                                            setPtDueDate(\"\".concat(yyyy, \"-\").concat(mm, \"-\").concat(dd));\n                                            setPtDueTime(\"17:00\");\n                                        },\n                                        className: \"px-3 py-2 rounded-md border\",\n                                        children: \"Aujourd'hui 17:00\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>{\n                                            const d = new Date();\n                                            d.setDate(d.getDate() + 1);\n                                            const yyyy = d.getFullYear();\n                                            const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n                                            const dd = String(d.getDate()).padStart(2, \"0\");\n                                            setPtDueDate(\"\".concat(yyyy, \"-\").concat(mm, \"-\").concat(dd));\n                                            setPtDueTime(\"09:00\");\n                                        },\n                                        className: \"px-3 py-2 rounded-md border\",\n                                        children: \"Demain 09:00\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 254,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 245,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                lineNumber: 239,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollerRef,\n                style: {\n                    height,\n                    overflow: \"auto\",\n                    background: \"#f9fafb\",\n                    padding: 12,\n                    lineHeight: 1.5,\n                    fontSize: 14\n                },\n                children: [\n                    msgs.map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: 10\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    style: {\n                                        fontWeight: 600\n                                    },\n                                    children: m.user.name\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                    lineNumber: 276,\n                                    columnNumber: 13\n                                }, this),\n                                \": \",\n                                m.text,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    style: {\n                                        color: \"#6b7280\",\n                                        marginLeft: 6,\n                                        fontSize: 12\n                                    },\n                                    children: new Date(m.ts).toLocaleTimeString()\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                    lineNumber: 277,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    style: {\n                                        color: \"#9ca3af\",\n                                        marginLeft: 6,\n                                        fontSize: 12\n                                    },\n                                    children: [\n                                        \"(\",\n                                        m.user.role,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                    lineNumber: 278,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, m.id, true, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                            lineNumber: 275,\n                            columnNumber: 11\n                        }, this)),\n                    files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            borderTop: \"1px solid #e5e7eb\",\n                            marginTop: 8,\n                            paddingTop: 8\n                        },\n                        children: files.map((f)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginBottom: 8\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        style: {\n                                            fontWeight: 600\n                                        },\n                                        children: \"Fichier\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 17\n                                    }, this),\n                                    \": \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: f.url,\n                                        target: \"_blank\",\n                                        rel: \"noreferrer\",\n                                        style: {\n                                            color: \"#2563eb\"\n                                        },\n                                        children: f.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 67\n                                    }, this),\n                                    \" \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"\".concat(f.url).concat(f.url.includes(\"?\") ? \"&\" : \"?\", \"download=1\"),\n                                        className: \"ml-2 text-xs text-gray-600 underline\",\n                                        title: \"T\\xe9l\\xe9charger\",\n                                        children: \"T\\xe9l\\xe9charger\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        style: {\n                                            color: \"#6b7280\",\n                                            fontSize: 12,\n                                            marginLeft: 6\n                                        },\n                                        children: [\n                                            \"(\",\n                                            Math.round(f.size / 1024),\n                                            \" Ko)\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 287,\n                                        columnNumber: 17\n                                    }, this),\n                                    f.message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            color: \"#374151\"\n                                        },\n                                        children: f.message\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                        lineNumber: 288,\n                                        columnNumber: 40\n                                    }, this)\n                                ]\n                            }, f.id, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 11\n                    }, this),\n                    msgs.length === 0 && files.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#6b7280\"\n                        },\n                        children: \"Aucun message pour l’instant.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 293,\n                        columnNumber: 53\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                lineNumber: 273,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    gap: 8,\n                    alignItems: \"center\",\n                    padding: \"10px 12px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        rows: 2,\n                        value: text,\n                        onChange: (e)=>setText(e.target.value),\n                        onKeyDown: onKeyDown,\n                        placeholder: mode === \"room\" ? \"\\xc9crire un message… (Entr\\xe9e pour envoyer, Shift+Entr\\xe9e pour nouvelle ligne)\" : \"Message priv\\xe9 \\xe0 \".concat((dmTarget === null || dmTarget === void 0 ? void 0 : dmTarget.name) || \"…\"),\n                        style: {\n                            flex: 1,\n                            padding: 10,\n                            resize: \"vertical\",\n                            border: \"1px solid #e5e7eb\",\n                            borderRadius: 8\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 297,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            var _fileInputRef_current;\n                            return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                        },\n                        disabled: uploading,\n                        title: \"Joindre un fichier\",\n                        className: \"px-3 py-2 border rounded-md\",\n                        children: uploading ? \"…\" : \"\\uD83D\\uDCCE\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 301,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: send,\n                        className: \"px-3 py-2 rounded-md bg-gray-900 text-white\",\n                        children: \"Envoyer\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 302,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        ref: fileInputRef,\n                        type: \"file\",\n                        onChange: handlePickFile,\n                        hidden: true\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                        lineNumber: 303,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                lineNumber: 296,\n                columnNumber: 7\n            }, this),\n            pickerOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MemberPicker__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                title: \"Message priv\\xe9 \\xe0…\",\n                onSelect: (m)=>{\n                    setMode(\"dm\");\n                    setDmTarget({\n                        id: m.id,\n                        name: m.name\n                    });\n                    setPickerOpen(false);\n                },\n                onClose: ()=>setPickerOpen(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n                lineNumber: 307,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\ChatPanel.tsx\",\n        lineNumber: 228,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPanel, \"vwHehHmppykM6GE3WidRxpgHhSI=\");\n_c = ChatPanel;\nvar _c;\n$RefreshReg$(_c, \"ChatPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9DaGF0UGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ29FO0FBQ0o7QUFDdEI7QUFPMUMsU0FBU08sTUFBTUMsQ0FBUyxFQUFFQyxDQUFTO0lBQ2pDLE1BQU0sQ0FBQ0MsR0FBR0MsRUFBRSxHQUFHSCxJQUFJQyxJQUFJO1FBQUNEO1FBQUdDO0tBQUUsR0FBRztRQUFDQTtRQUFHRDtLQUFFO0lBQ3RDLE9BQU8sTUFBV0csT0FBTEQsR0FBRSxLQUFLLE9BQUZDO0FBQ3BCO0FBRWUsU0FBU0MsVUFBVSxLQWNqQztRQWRpQyxFQUNoQ0MsTUFBTSxFQUNOQyxNQUFNLEVBQ05DLElBQUksRUFDSkMsT0FBTyxTQUFpQixFQUN4QkMsU0FBUyxHQUFHLEVBQ1pDLGVBQWUsRUFRaEIsR0FkaUM7O0lBZWhDLE1BQU1DLEtBQUtkLHlFQUFpQkE7SUFDNUIsTUFBTSxDQUFDZSxNQUFNQyxRQUFRLEdBQUdqQiwrQ0FBUUEsQ0FBZ0I7SUFDaEQsTUFBTSxDQUFDa0IsVUFBVUMsWUFBWSxHQUFHbkIsK0NBQVFBLENBQXNDO0lBQzlFLE1BQU0sQ0FBQ29CLFlBQVlDLGNBQWMsR0FBR3JCLCtDQUFRQSxDQUFDO0lBRTdDLE1BQU0sQ0FBQ3NCLE1BQU1DLFFBQVEsR0FBR3ZCLCtDQUFRQSxDQUFRLEVBQUU7SUFDMUMsTUFBTSxDQUFDd0IsT0FBT0MsU0FBUyxHQUFHekIsK0NBQVFBLENBQVksRUFBRTtJQUNoRCxNQUFNLENBQUMwQixNQUFNQyxRQUFRLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNNEIsVUFBVTdCLDZDQUFNQSxDQUFjLElBQUk4QjtJQUN4QyxNQUFNQyxjQUFjL0IsNkNBQU1BLENBQXdCO0lBQ2xELE1BQU0sQ0FBQ2dDLFdBQVdDLGFBQWEsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2lDLFdBQVdDLGFBQWEsR0FBR2xDLCtDQUFRQSxDQUFnQjtJQUMx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Z0JBQVE7Z0JBQUc4TCxTQUFTLElBQU05TCxjQUFjOzs7Ozs7Ozs7Ozs7QUFJaEw7R0F2U3dCYjtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9Db2xsYWIvQ2hhdFBhbmVsLnRzeD9jN2IzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGdldFJlYWx0aW1lQ2xpZW50IH0gZnJvbSBcIi4uLy4uL2xpYi9yZWFsdGltZS9wcm92aWRlclwiO1xyXG5pbXBvcnQgTWVtYmVyUGlja2VyIGZyb20gXCIuL01lbWJlclBpY2tlclwiO1xyXG5cclxudHlwZSBSb2xlID0gXCJjaGVmXCIgfCBcIm1hbmFnZXJcIiB8IFwiYXNzaXN0YW50XCIgfCBcImVtcGxveWVcIjtcclxudHlwZSBNc2cgPSB7IGlkOiBzdHJpbmc7IHVzZXI6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyByb2xlOiBSb2xlIH07IHRleHQ6IHN0cmluZzsgdHM6IG51bWJlciB9O1xyXG50eXBlIEZpbGVFdnQgPSB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgc2l6ZTogbnVtYmVyOyBtaW1lOiBzdHJpbmc7IHVybDogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nOyBzY29wZTogXCJyb29tXCIgfCBcImRpcmVjdFwiOyB0b1VzZXJJZD86IHN0cmluZzsgcm9vbT86IHN0cmluZzsgfTtcclxudHlwZSBUYXNrRXZ0ID0geyB0YXNrOiB7IGlkOiBzdHJpbmc7IHVzZXJJZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBwcm9qZWN0OiBzdHJpbmc7IHN0YXR1czogXCJ0b2RvXCIgfCBcImluX3Byb2dyZXNzXCIgfCBcImRvbmVcIjsgdXBkYXRlZEF0OiBudW1iZXI7IGNyZWF0ZWRBdDogbnVtYmVyOyBjcmVhdGVkQnk6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH07IGR1ZUF0PzogbnVtYmVyIHwgbnVsbDsgfTsgfTtcclxuXHJcbmZ1bmN0aW9uIGRtS2V5KGE6IHN0cmluZywgYjogc3RyaW5nKSB7XHJcbiAgY29uc3QgW3gsIHldID0gYSA8IGIgPyBbYSwgYl0gOiBbYiwgYV07XHJcbiAgcmV0dXJuIGBkbToke3h9OiR7eX1gO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0UGFuZWwoe1xyXG4gIHJvb21JZCxcclxuICB1c2VySWQsXHJcbiAgdXNlcixcclxuICByb2xlID0gXCJlbXBsb3llXCIgYXMgUm9sZSxcclxuICBoZWlnaHQgPSA0MjAsXHJcbiAgb25Db250ZXh0VXBkYXRlLFxyXG59OiB7XHJcbiAgcm9vbUlkOiBzdHJpbmc7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgdXNlcjogc3RyaW5nO1xyXG4gIHJvbGU/OiBSb2xlO1xyXG4gIGhlaWdodD86IG51bWJlcjtcclxuICBvbkNvbnRleHRVcGRhdGU/OiAoY3R4OiB7IG1vZGU6IFwicm9vbVwiIHwgXCJkbVwiOyBkbVRhcmdldElkPzogc3RyaW5nIH0pID0+IHZvaWQ7XHJcbn0pIHtcclxuICBjb25zdCBydCA9IGdldFJlYWx0aW1lQ2xpZW50KCk7XHJcbiAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gdXNlU3RhdGU8XCJyb29tXCIgfCBcImRtXCI+KFwicm9vbVwiKTtcclxuICBjb25zdCBbZG1UYXJnZXQsIHNldERtVGFyZ2V0XSA9IHVzZVN0YXRlPHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbcGlja2VyT3Blbiwgc2V0UGlja2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IFttc2dzLCBzZXRNc2dzXSA9IHVzZVN0YXRlPE1zZ1tdPihbXSk7XHJcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlRXZ0W10+KFtdKTtcclxuICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBzZWVuSWRzID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xyXG4gIGNvbnN0IHNjcm9sbGVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2Nvbm5SZWFkeSwgc2V0Q29ublJlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbGFzdEVycm9yLCBzZXRMYXN0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3VwbG9hZGluZywgc2V0VXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG5cclxuICBjb25zdCBjYW5Bc3NpZ25Qcml2YXRlbHkgPSByb2xlID09PSBcImNoZWZcIiAmJiBtb2RlID09PSBcImRtXCIgJiYgISFkbVRhcmdldDtcclxuICBjb25zdCBbcHRUaXRsZSwgc2V0UHRUaXRsZV0gPSB1c2VTdGF0ZShcIlwiKTsgY29uc3QgW3B0UHJvamVjdCwgc2V0UHRQcm9qZWN0XSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtwdER1ZURhdGUsIHNldFB0RHVlRGF0ZV0gPSB1c2VTdGF0ZShcIlwiKTsgY29uc3QgW3B0RHVlVGltZSwgc2V0UHREdWVUaW1lXSA9IHVzZVN0YXRlKFwiXCIpOyBjb25zdCBbcHREdWVUZXh0LCBzZXRQdER1ZVRleHRdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW3B0U2F2aW5nLCBzZXRQdFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7IGNvbnN0IFtzaG93QXNzaWduLCBzZXRTaG93QXNzaWduXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHsgaWYgKGNhbkFzc2lnblByaXZhdGVseSkgc2V0U2hvd0Fzc2lnbih0cnVlKTsgfSwgW2NhbkFzc2lnblByaXZhdGVseV0pO1xyXG5cclxuICBjb25zdCByb29tS2V5ID0gdXNlTWVtbygoKSA9PiBgcm9vbToke3Jvb21JZH1gLCBbcm9vbUlkXSk7XHJcbiAgY29uc3QgZG1Sb29tS2V5ID0gdXNlTWVtbygoKSA9PiAoZG1UYXJnZXQgPyBkbUtleSh1c2VySWQsIGRtVGFyZ2V0LmlkKSA6IFwiXCIpLCBbZG1UYXJnZXQsIHVzZXJJZF0pO1xyXG5cclxuICAvLyBFY291dGUgZGVzIGNvbW1hbmRlcyBnbG9iYWxlczogb3V2cmlyIHVuIERNIChkZXB1aXMgdW5lIG5vdGlmaWNhdGlvbilcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGJjOiBCcm9hZGNhc3RDaGFubmVsIHwgbnVsbCA9IG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBiYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKFwiY2hhdC1jb250cm9sXCIpO1xyXG4gICAgICBiYy5vbm1lc3NhZ2UgPSAoZXYpID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gZXY/LmRhdGEgfHwge307XHJcbiAgICAgICAgaWYgKGRhdGE/LnR5cGUgPT09IFwib3Blbi1kbVwiICYmIGRhdGE/LnRhcmdldElkKSB7XHJcbiAgICAgICAgICBzZXRNb2RlKFwiZG1cIik7XHJcbiAgICAgICAgICBzZXREbVRhcmdldCh7IGlkOiBTdHJpbmcoZGF0YS50YXJnZXRJZCksIG5hbWU6IFN0cmluZyhkYXRhLnRhcmdldE5hbWUgfHwgXCJVdGlsaXNhdGV1clwiKSB9KTtcclxuICAgICAgICAgIHNldFBpY2tlck9wZW4oZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2gge31cclxuICAgIHJldHVybiAoKSA9PiB7IHRyeSB7IGJjPy5jbG9zZSgpOyB9IGNhdGNoIHt9IH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBQcm9wYWdlciBsZSBjb250ZXh0ZSBhdSBwYXJlbnRcclxuICB1c2VFZmZlY3QoKCkgPT4geyBvbkNvbnRleHRVcGRhdGU/Lih7IG1vZGUsIGRtVGFyZ2V0SWQ6IGRtVGFyZ2V0Py5pZCB9KTsgfSwgW21vZGUsIGRtVGFyZ2V0Py5pZCwgb25Db250ZXh0VXBkYXRlXSk7XHJcblxyXG4gIC8vIEhpc3RvcmlxdWUgKyBmaWNoaWVyc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBrZXkgPSBtb2RlID09PSBcInJvb21cIiA/IHJvb21LZXkgOiBkbVJvb21LZXk7XHJcbiAgICAgIGlmICgha2V5KSB7IHNldE1zZ3MoW10pOyBzZXRGaWxlcyhbXSk7IHJldHVybjsgfVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3JlYWx0aW1lL2hpc3Rvcnk/cm9vbT0ke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfWAsIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICBjb25zdCBpdGVtczogTXNnW10gPSAoZGF0YT8uaXRlbXMgfHwgW10pLm1hcCgobTogYW55KSA9PiAoeyBpZDogbS5pZCwgdGV4dDogbS50ZXh0LCB0czogbS50cywgdXNlcjogbS51c2VyIH0pKTtcclxuICAgICAgICBzZWVuSWRzLmN1cnJlbnQgPSBuZXcgU2V0KGl0ZW1zLm1hcCgobSkgPT4gbS5pZCkpO1xyXG4gICAgICAgIHNldE1zZ3MoaXRlbXMpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzY3JvbGxlclJlZi5jdXJyZW50Py5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsZXJSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQgfSkpO1xyXG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgICBzZXRMYXN0RXJyb3IoZT8ubWVzc2FnZSB8fCBcIkltcG9zc2libGUgZGUgY2hhcmdlciBsJ2hpc3RvcmlxdWVcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtb2RlID09PSBcInJvb21cIikge1xyXG4gICAgICAgIHRyeSB7IGNvbnN0IGZyZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9maWxlcy9saXN0P3Jvb209JHtlbmNvZGVVUklDb21wb25lbnQocm9vbUtleSl9YCwgeyBjYWNoZTogXCJuby1zdG9yZVwiIH0pOyBjb25zdCBmZGF0YSA9IGF3YWl0IGZyZXMuanNvbigpOyBzZXRGaWxlcygoZmRhdGE/Lml0ZW1zIHx8IFtdKSBhcyBGaWxlRXZ0W10pOyB9IGNhdGNoIHt9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGZyZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9maWxlcy9saXN0P3VzZXJJZD0ke2VuY29kZVVSSUNvbXBvbmVudCh1c2VySWQpfWAsIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcclxuICAgICAgICAgIGNvbnN0IGZkYXRhID0gYXdhaXQgZnJlcy5qc29uKCk7XHJcbiAgICAgICAgICBjb25zdCBhbGwgPSAoZmRhdGE/Lml0ZW1zIHx8IFtdKSBhcyBGaWxlRXZ0W107XHJcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IGFsbC5maWx0ZXIoKGYpID0+XHJcbiAgICAgICAgICAgIChmLnRvVXNlcklkID09PSB1c2VySWQgJiYgKGYgYXMgYW55KS5mcm9tPy5pZCA9PT0gZG1UYXJnZXQ/LmlkKSB8fFxyXG4gICAgICAgICAgICAoZi50b1VzZXJJZCA9PT0gZG1UYXJnZXQ/LmlkICYmIChmIGFzIGFueSkuZnJvbT8uaWQgPT09IHVzZXJJZClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBzZXRGaWxlcyhmaWx0ZXJlZCk7XHJcbiAgICAgICAgfSBjYXRjaCB7fVxyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG4gIH0sIFttb2RlLCByb29tS2V5LCBkbVJvb21LZXksIHVzZXJJZCwgZG1UYXJnZXRdKTtcclxuXHJcbiAgLy8gQWJvbm5lbWVudHMgdGVtcHMgcsOpZWxcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcnQuc2V0VXNlcih7IGlkOiB1c2VySWQsIG5hbWU6IHVzZXIsIHJvbGUgfSk7XHJcbiAgICBjb25zdCBvZmZzOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xyXG4gICAgY29uc3QgcmVhZHlSb29tID0gbW9kZSA9PT0gXCJyb29tXCIgPyByb29tS2V5IDogZG1Sb29tS2V5IHx8IHJvb21LZXk7XHJcbiAgICBvZmZzLnB1c2gocnQuc3Vic2NyaWJlKHJlYWR5Um9vbSwgXCJyZWFkeVwiLCAoKSA9PiBzZXRDb25uUmVhZHkodHJ1ZSkpKTtcclxuXHJcbiAgICBpZiAobW9kZSA9PT0gXCJyb29tXCIpIHtcclxuICAgICAgb2Zmcy5wdXNoKHJ0LnN1YnNjcmliZShyb29tS2V5LCBcImNoYXRcIiwgKGVudikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG06IE1zZyA9IHsgaWQ6IGVudj8ucGF5bG9hZD8uaWQsIHRleHQ6IGVudj8ucGF5bG9hZD8udGV4dCwgdXNlcjogZW52Py51c2VyLCB0czogZW52Py50cyB9O1xyXG4gICAgICAgIGlmICghbT8uaWQgfHwgc2Vlbklkcy5jdXJyZW50LmhhcyhtLmlkKSkgcmV0dXJuO1xyXG4gICAgICAgIHNlZW5JZHMuY3VycmVudC5hZGQobS5pZCk7XHJcbiAgICAgICAgc2V0TXNncygocHJldikgPT4geyBjb25zdCBuZXh0ID0gWy4uLnByZXYsIG1dLnNsaWNlKC0yMDApOyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2Nyb2xsZXJSZWYuY3VycmVudD8uc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbGVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KSk7IHJldHVybiBuZXh0OyB9KTtcclxuICAgICAgfSkpO1xyXG4gICAgICBvZmZzLnB1c2gocnQuc3Vic2NyaWJlKHJvb21LZXksIFwiZmlsZVwiLCAoZW52KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcCA9IGVudj8ucGF5bG9hZCBhcyBGaWxlRXZ0O1xyXG4gICAgICAgIGlmICghcD8uaWQpIHJldHVybjtcclxuICAgICAgICBzZXRGaWxlcygocHJldikgPT4gW3AsIC4uLnByZXZdKTtcclxuICAgICAgfSkpO1xyXG4gICAgfSBlbHNlIGlmIChkbVJvb21LZXkpIHtcclxuICAgICAgb2Zmcy5wdXNoKHJ0LnN1YnNjcmliZShkbVJvb21LZXksIFwiZG1cIiwgKGVudikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG06IE1zZyA9IHsgaWQ6IGVudj8ucGF5bG9hZD8uaWQsIHRleHQ6IGVudj8ucGF5bG9hZD8udGV4dCwgdXNlcjogZW52Py51c2VyLCB0czogZW52Py50cyB9O1xyXG4gICAgICAgIGlmICghbT8uaWQgfHwgc2Vlbklkcy5jdXJyZW50LmhhcyhtLmlkKSkgcmV0dXJuO1xyXG4gICAgICAgIHNlZW5JZHMuY3VycmVudC5hZGQobS5pZCk7XHJcbiAgICAgICAgc2V0TXNncygocHJldikgPT4gWy4uLnByZXYsIG1dLnNsaWNlKC0yMDApKTtcclxuICAgICAgfSkpO1xyXG4gICAgICBvZmZzLnB1c2gocnQuc3Vic2NyaWJlKGRtUm9vbUtleSwgXCJ0YXNrXCIsIChlbnYpID0+IHtcclxuICAgICAgICBjb25zdCBwID0gZW52Py5wYXlsb2FkIGFzIFRhc2tFdnQ7IGNvbnN0IHQgPSBwPy50YXNrOyBpZiAoIXQ/LmlkKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qgc3lzOiBNc2cgPSB7IGlkOiBgdGFzay0ke3QuaWR9YCwgdHM6IGVudj8udHMgfHwgRGF0ZS5ub3coKSwgdXNlcjogZW52Py51c2VyLCB0ZXh0OiBgVMOiY2hlIGFzc2lnbsOpZTogXCIke3QudGl0bGV9XCIgKCR7dC5wcm9qZWN0fSlgICsgKHQuZHVlQXQgPyBgIMK3IMOJY2jDqWFuY2U6ICR7bmV3IERhdGUodC5kdWVBdCkudG9Mb2NhbGVTdHJpbmcoKX1gIDogXCJcIikgfTtcclxuICAgICAgICBpZiAoIXNlZW5JZHMuY3VycmVudC5oYXMoc3lzLmlkKSkgeyBzZWVuSWRzLmN1cnJlbnQuYWRkKHN5cy5pZCk7IHNldE1zZ3MoKHByZXYpID0+IFsuLi5wcmV2LCBzeXNdLnNsaWNlKC0yMDApKTsgfVxyXG4gICAgICB9KSk7XHJcbiAgICAgIG9mZnMucHVzaChydC5zdWJzY3JpYmUoYHVzZXI6JHt1c2VySWR9YCwgXCJmaWxlXCIsIChlbnYpID0+IHtcclxuICAgICAgICBjb25zdCBwID0gZW52Py5wYXlsb2FkIGFzIEZpbGVFdnQ7IGlmICghcD8uaWQpIHJldHVybjtcclxuICAgICAgICBpZiAoKHAudG9Vc2VySWQgPT09IHVzZXJJZCAmJiAoZW52Py51c2VyPy5pZCkgPT09IGRtVGFyZ2V0Py5pZCkgfHwgKHAudG9Vc2VySWQgPT09IGRtVGFyZ2V0Py5pZCAmJiAoZW52Py51c2VyPy5pZCkgPT09IHVzZXJJZCkpIHtcclxuICAgICAgICAgIHNldEZpbGVzKChwcmV2KSA9PiBbcCwgLi4ucHJldl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSkpO1xyXG4gICAgICBvZmZzLnB1c2gocnQuc3Vic2NyaWJlKGB1c2VyOiR7dXNlcklkfWAsIFwiZG1cIiwgKGVudikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZyb21JZCA9IGVudj8udXNlcj8uaWQ7IGlmICghZnJvbUlkIHx8IGZyb21JZCAhPT0gZG1UYXJnZXQ/LmlkKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgbTogTXNnID0geyBpZDogZW52Py5wYXlsb2FkPy5pZCwgdGV4dDogZW52Py5wYXlsb2FkPy50ZXh0LCB1c2VyOiBlbnY/LnVzZXIsIHRzOiBlbnY/LnRzIH07XHJcbiAgICAgICAgaWYgKCFtPy5pZCB8fCBzZWVuSWRzLmN1cnJlbnQuaGFzKG0uaWQpKSByZXR1cm47XHJcbiAgICAgICAgc2Vlbklkcy5jdXJyZW50LmFkZChtLmlkKTtcclxuICAgICAgICBzZXRNc2dzKChwcmV2KSA9PiBbLi4ucHJldiwgbV0uc2xpY2UoLTIwMCkpO1xyXG4gICAgICB9KSk7XHJcbiAgICAgIG9mZnMucHVzaChydC5zdWJzY3JpYmUoYHVzZXI6JHt1c2VySWR9YCwgXCJ0YXNrXCIsIChlbnYpID0+IHtcclxuICAgICAgICBjb25zdCBwID0gZW52Py5wYXlsb2FkIGFzIFRhc2tFdnQ7IGNvbnN0IHQgPSBwPy50YXNrOyBpZiAoIXQ/LmlkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGRtVGFyZ2V0ICYmICh0LnVzZXJJZCA9PT0gZG1UYXJnZXQuaWQgfHwgdC5jcmVhdGVkQnk/LmlkID09PSBkbVRhcmdldC5pZCkpIHtcclxuICAgICAgICAgIGNvbnN0IHN5czogTXNnID0geyBpZDogYHRhc2stJHt0LmlkfWAsIHRzOiBlbnY/LnRzIHx8IERhdGUubm93KCksIHVzZXI6IGVudj8udXNlciwgdGV4dDogYFTDomNoZSBhc3NpZ27DqWU6IFwiJHt0LnRpdGxlfVwiICgke3QucHJvamVjdH0pYCArICh0LmR1ZUF0ID8gYCDCtyDDiWNow6lhbmNlOiAke25ldyBEYXRlKHQuZHVlQXQpLnRvTG9jYWxlU3RyaW5nKCl9YCA6IFwiXCIpIH07XHJcbiAgICAgICAgICBpZiAoIXNlZW5JZHMuY3VycmVudC5oYXMoc3lzLmlkKSkgeyBzZWVuSWRzLmN1cnJlbnQuYWRkKHN5cy5pZCk7IHNldE1zZ3MoKHByZXYpID0+IFsuLi5wcmV2LCBzeXNdLnNsaWNlKC0yMDApKTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7IG9mZnMuZm9yRWFjaCgob2ZmKSA9PiBvZmY/LigpKTsgfTtcclxuICB9LCBbbW9kZSwgcm9vbUtleSwgZG1Sb29tS2V5LCB1c2VySWQsIHVzZXIsIHJvbGUsIHJ0LCBkbVRhcmdldF0pO1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzZW5kKCkge1xyXG4gICAgY29uc3QgdHh0ID0gdGV4dC50cmltKCk7IGlmICghdHh0KSByZXR1cm47XHJcbiAgICBjb25zdCBpZCA9IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCl9YDtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBtZSA9IHsgaWQ6IHVzZXJJZCwgbmFtZTogdXNlciwgcm9sZSB9O1xyXG5cclxuICAgIGNvbnN0IG9wdGltaXN0aWM6IE1zZyA9IHsgaWQsIHRleHQ6IHR4dCwgdHM6IG5vdywgdXNlcjogbWUgfTtcclxuICAgIHNlZW5JZHMuY3VycmVudC5hZGQoaWQpO1xyXG4gICAgc2V0TXNncygocHJldikgPT4geyBjb25zdCBuZXh0ID0gWy4uLnByZXYsIG9wdGltaXN0aWNdLnNsaWNlKC0yMDApOyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2Nyb2xsZXJSZWYuY3VycmVudD8uc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbGVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KSk7IHJldHVybiBuZXh0OyB9KTtcclxuICAgIHNldFRleHQoXCJcIik7IHNldExhc3RFcnJvcihudWxsKTtcclxuXHJcbiAgICB0cnkgeyBpZiAobW9kZSA9PT0gXCJyb29tXCIpIHsgYXdhaXQgcnQudHJpZ2dlcihyb29tS2V5LCBcImNoYXRcIiwgeyBpZCwgdGV4dDogdHh0IH0pOyB9IGVsc2UgaWYgKGRtVGFyZ2V0KSB7IGF3YWl0IHJ0LnRyaWdnZXIoZG1Sb29tS2V5LCBcImRtXCIsIHsgaWQsIHRleHQ6IHR4dCwgdG9Vc2VySWQ6IGRtVGFyZ2V0LmlkIH0pOyB9IH1cclxuICAgIGNhdGNoIChlOiBhbnkpIHsgc2V0TGFzdEVycm9yKGU/Lm1lc3NhZ2UgfHwgXCLDiWNoZWMgZGUgbCdlbnZvaVwiKTsgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25LZXlEb3duKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pIHsgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzZW5kKCk7IH0gfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVQaWNrRmlsZShlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Pikge1xyXG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07IGlmICghZmlsZSkgcmV0dXJuOyBhd2FpdCB1cGxvYWRGaWxlKGZpbGUpOyBlLmN1cnJlbnRUYXJnZXQudmFsdWUgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlOiBGaWxlKSB7XHJcbiAgICBzZXRVcGxvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoXCJhY3RvcklkXCIsIHVzZXJJZCk7IGZkLmFwcGVuZChcImFjdG9yTmFtZVwiLCB1c2VyKTsgZmQuYXBwZW5kKFwiYWN0b3JSb2xlXCIsIHJvbGUpO1xyXG4gICAgICBpZiAobW9kZSA9PT0gXCJyb29tXCIpIHsgZmQuYXBwZW5kKFwic2NvcGVcIiwgXCJyb29tXCIpOyBmZC5hcHBlbmQoXCJyb29tXCIsIHJvb21LZXkpOyB9XHJcbiAgICAgIGVsc2UgaWYgKGRtVGFyZ2V0KSB7IGZkLmFwcGVuZChcInNjb3BlXCIsIFwiZGlyZWN0XCIpOyBmZC5hcHBlbmQoXCJ0b1VzZXJJZFwiLCBkbVRhcmdldC5pZCk7IH1cclxuICAgICAgaWYgKHRleHQudHJpbSgpKSBmZC5hcHBlbmQoXCJtZXNzYWdlXCIsIHRleHQudHJpbSgpKTtcclxuICAgICAgZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlLCBmaWxlLm5hbWUpO1xyXG5cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ZpbGVzL3VwbG9hZFwiLCB7IG1ldGhvZDogXCJQT1NUXCIsIGJvZHk6IGZkIH0pO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgaWYgKCFyZXMub2spIHsgYWxlcnQoZGF0YT8uZXJyb3IgfHwgXCJVcGxvYWQgw6ljaG91w6lcIik7IHJldHVybjsgfVxyXG4gICAgICBzZXRGaWxlcygocHJldikgPT4gW2RhdGEuZmlsZSwgLi4ucHJldl0pOyBzZXRUZXh0KFwiXCIpO1xyXG4gICAgfSBjYXRjaCB7IGFsZXJ0KFwiRXJyZXVyIHLDqXNlYXVcIik7IH0gZmluYWxseSB7IHNldFVwbG9hZGluZyhmYWxzZSk7IH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFzc2lnblByaXZhdGVUYXNrKCkge1xyXG4gICAgaWYgKCEocm9sZSA9PT0gXCJjaGVmXCIgJiYgZG1UYXJnZXQpKSByZXR1cm47XHJcbiAgICBpZiAoIXB0VGl0bGUudHJpbSgpIHx8ICFwdFByb2plY3QudHJpbSgpKSByZXR1cm47XHJcbiAgICBzZXRQdFNhdmluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS90ZWFtL3Rhc2tzXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBhY3RvcjogeyBpZDogdXNlcklkLCBuYW1lOiB1c2VyLCByb2xlIH0sXHJcbiAgICAgICAgICB1c2VySWQ6IGRtVGFyZ2V0LmlkLFxyXG4gICAgICAgICAgdGl0bGU6IHB0VGl0bGUudHJpbSgpLFxyXG4gICAgICAgICAgcHJvamVjdDogcHRQcm9qZWN0LnRyaW0oKSxcclxuICAgICAgICAgIGR1ZURhdGU6IHB0RHVlRGF0ZSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICBkdWVUaW1lOiBwdER1ZVRpbWUgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgZHVlVGV4dDogcHREdWVUZXh0IHx8IHVuZGVmaW5lZCxcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBpZiAoIXJlcy5vaykgeyBhbGVydChkYXRhPy5lcnJvciB8fCBcIkVycmV1ciBsb3JzIGRlIGzigJlhc3NpZ25hdGlvblwiKTsgcmV0dXJuOyB9XHJcbiAgICAgIHNldFB0VGl0bGUoXCJcIik7IHNldFB0UHJvamVjdChcIlwiKTsgc2V0UHREdWVEYXRlKFwiXCIpOyBzZXRQdER1ZVRpbWUoXCJcIik7IHNldFB0RHVlVGV4dChcIlwiKTtcclxuICAgIH0gY2F0Y2ggeyBhbGVydChcIkVycmV1ciByw6lzZWF1XCIpOyB9IGZpbmFsbHkgeyBzZXRQdFNhdmluZyhmYWxzZSk7IH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHN0eWxlPXt7IGJvcmRlcjogXCIxcHggc29saWQgI2U1ZTdlYlwiLCBib3JkZXJSYWRpdXM6IDEwIH19PlxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBnYXA6IDgsIHBhZGRpbmc6IFwiMTBweCAxNHB4XCIsIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2U1ZTdlYlwiIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogNzAwIH19PkNoYXQ8L2Rpdj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0TW9kZShcInJvb21cIik7IHNldERtVGFyZ2V0KG51bGwpOyB9fSBjbGFzc05hbWU9e2B0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkICR7bW9kZSA9PT0gXCJyb29tXCIgPyBcImJnLWdyYXktOTAwIHRleHQtd2hpdGVcIiA6IFwiYm9yZGVyXCJ9YH0gdGl0bGU9XCJTYWxvbiBnw6luw6lyYWxcIj5Hw6luw6lyYWw8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFBpY2tlck9wZW4odHJ1ZSl9IGNsYXNzTmFtZT17YHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQgJHttb2RlID09PSBcImRtXCIgPyBcImJnLWdyYXktOTAwIHRleHQtd2hpdGVcIiA6IFwiYm9yZGVyXCJ9YH0gdGl0bGU9XCJNZXNzYWdlIHByaXbDqVwiPlByaXbDqXtkbVRhcmdldCA/IGA6ICR7ZG1UYXJnZXQubmFtZX1gIDogXCJcIn08L2J1dHRvbj5cclxuICAgICAgICB7bW9kZSA9PT0gXCJkbVwiICYmIGRtVGFyZ2V0ICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkVuIHByaXbDqSBhdmVjIHtkbVRhcmdldC5uYW1lfTwvc3Bhbj59XHJcbiAgICAgICAgPHNwYW4gdGl0bGU9e2Nvbm5SZWFkeSA/IFwiQ29ubmVjdMOpXCIgOiBcIkNvbm5leGlvbuKAplwifSBzdHlsZT17eyB3aWR0aDogOCwgaGVpZ2h0OiA4LCBib3JkZXJSYWRpdXM6IDk5OTksIGJhY2tncm91bmQ6IGNvbm5SZWFkeSA/IFwiIzEwYjk4MVwiIDogXCIjZDFkNWRiXCIsIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsIG1hcmdpbkxlZnQ6IFwiYXV0b1wiIH19IC8+XHJcbiAgICAgICAge2xhc3RFcnJvciAmJiA8c3BhbiBzdHlsZT17eyBjb2xvcjogXCIjZGMyNjI2XCIsIGZvbnRTaXplOiAxMiwgbWFyZ2luTGVmdDogOCB9fT5FcnJldXI6IHtsYXN0RXJyb3J9PC9zcGFuPn1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7cm9sZSA9PT0gXCJjaGVmXCIgJiYgbW9kZSA9PT0gXCJkbVwiICYmIGRtVGFyZ2V0ICYmIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IDEyLCBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICNlNWU3ZWJcIiwgYmFja2dyb3VuZDogXCIjZmFmYWZhXCIgfX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNtXCI+QXNzaWduZXIgdW5lIHTDomNoZSDDoCB7ZG1UYXJnZXQ/Lm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0Fzc2lnbigodikgPT4gIXYpfSBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkIGJvcmRlclwiPntzaG93QXNzaWduID8gXCJNYXNxdWVyXCIgOiBcIkFmZmljaGVyXCJ9PC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHtzaG93QXNzaWduICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtwdFRpdGxlfSBvbkNoYW5nZT17KGUpID0+IHNldFB0VGl0bGUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj0nVGl0cmUgKGV4OiBcIlByw6lwYXJlciBsZSByYXBwb3J0XCIpJyBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBweC0yIHB5LTFcIiAvPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17cHRQcm9qZWN0fSBvbkNoYW5nZT17KGUpID0+IHNldFB0UHJvamVjdChlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPSdQcm9qZXQgKGV4OiBcIkNsaWVudCBYXCIpJyBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBweC0yIHB5LTFcIiAvPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+w4ljaMOpYW5jZSAoZGF0ZS9oZXVyZSBPVSB0ZXh0ZSk8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIHZhbHVlPXtwdER1ZURhdGV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHREdWVEYXRlKGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcHgtMiBweS0xXCIgLz5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGltZVwiIHZhbHVlPXtwdER1ZVRpbWV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHREdWVUaW1lKGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcHgtMiBweS0xXCIgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3B0RHVlVGV4dH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRQdER1ZVRleHQoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj0nVGV4dGUgKGV4OiBcImx1bmRpXCIsIFwiZGVtYWluIDE0OjAwXCIpJyBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBweC0yIHB5LTFcIiAvPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXthc3NpZ25Qcml2YXRlVGFza30gZGlzYWJsZWQ9e3B0U2F2aW5nIHx8ICFwdFRpdGxlLnRyaW0oKSB8fCAhcHRQcm9qZWN0LnRyaW0oKX0gY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQtbWQgYmctZ3JheS05MDAgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtwdFNhdmluZyA/IFwiQXNzaWduYXRpb27igKZcIiA6IFwiQXNzaWduZXJcIn1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7IGNvbnN0IHl5eXkgPSB0b2RheS5nZXRGdWxsWWVhcigpOyBjb25zdCBtbSA9IFN0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpOyBjb25zdCBkZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgc2V0UHREdWVEYXRlKGAke3l5eXl9LSR7bW19LSR7ZGR9YCk7IHNldFB0RHVlVGltZShcIjE3OjAwXCIpO1xyXG4gICAgICAgICAgICAgICAgfX0gY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQtbWQgYm9yZGVyXCI+QXVqb3VyZCdodWkgMTc6MDA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7IGQuc2V0RGF0ZShkLmdldERhdGUoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB5eXl5ID0gZC5nZXRGdWxsWWVhcigpOyBjb25zdCBtbSA9IFN0cmluZyhkLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7IGNvbnN0IGRkID0gU3RyaW5nKGQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgIHNldFB0RHVlRGF0ZShgJHt5eXl5fS0ke21tfS0ke2RkfWApOyBzZXRQdER1ZVRpbWUoXCIwOTowMFwiKTtcclxuICAgICAgICAgICAgICAgIH19IGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlclwiPkRlbWFpbiAwOTowMDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICA8ZGl2IHJlZj17c2Nyb2xsZXJSZWZ9IHN0eWxlPXt7IGhlaWdodCwgb3ZlcmZsb3c6IFwiYXV0b1wiLCBiYWNrZ3JvdW5kOiBcIiNmOWZhZmJcIiwgcGFkZGluZzogMTIsIGxpbmVIZWlnaHQ6IDEuNSwgZm9udFNpemU6IDE0IH19PlxyXG4gICAgICAgIHttc2dzLm1hcCgobSkgPT4gKFxyXG4gICAgICAgICAgPGRpdiBrZXk9e20uaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTAgfX0+XHJcbiAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6IDYwMCB9fT57bS51c2VyLm5hbWV9PC9zcGFuPjoge20udGV4dH1cclxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwiIzZiNzI4MFwiLCBtYXJnaW5MZWZ0OiA2LCBmb250U2l6ZTogMTIgfX0+e25ldyBEYXRlKG0udHMpLnRvTG9jYWxlVGltZVN0cmluZygpfTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwiIzljYTNhZlwiLCBtYXJnaW5MZWZ0OiA2LCBmb250U2l6ZTogMTIgfX0+KHttLnVzZXIucm9sZX0pPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgICAge2ZpbGVzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNlNWU3ZWJcIiwgbWFyZ2luVG9wOiA4LCBwYWRkaW5nVG9wOiA4IH19PlxyXG4gICAgICAgICAgICB7ZmlsZXMubWFwKChmKSA9PiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2YuaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogOCB9fT5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6IDYwMCB9fT5GaWNoaWVyPC9zcGFuPjogPGEgaHJlZj17Zi51cmx9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vcmVmZXJyZXJcIiBzdHlsZT17eyBjb2xvcjogXCIjMjU2M2ViXCIgfX0+e2YubmFtZX08L2E+e1wiIFwifVxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj17YCR7Zi51cmx9JHtmLnVybC5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wifWRvd25sb2FkPTFgfSBjbGFzc05hbWU9XCJtbC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCB1bmRlcmxpbmVcIiB0aXRsZT1cIlTDqWzDqWNoYXJnZXJcIj5Uw6lsw6ljaGFyZ2VyPC9hPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwiIzZiNzI4MFwiLCBmb250U2l6ZTogMTIsIG1hcmdpbkxlZnQ6IDYgfX0+KHtNYXRoLnJvdW5kKGYuc2l6ZSAvIDEwMjQpfSBLbyk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICB7KGYgYXMgYW55KS5tZXNzYWdlICYmIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiIzM3NDE1MVwiIH19PnsoZiBhcyBhbnkpLm1lc3NhZ2V9PC9kaXY+fVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgICAge21zZ3MubGVuZ3RoID09PSAwICYmIGZpbGVzLmxlbmd0aCA9PT0gMCAmJiA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiM2YjcyODBcIiB9fT5BdWN1biBtZXNzYWdlIHBvdXIgbOKAmWluc3RhbnQuPC9kaXY+fVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogOCwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgcGFkZGluZzogXCIxMHB4IDEycHhcIiB9fT5cclxuICAgICAgICA8dGV4dGFyZWEgcm93cz17Mn0gdmFsdWU9e3RleHR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGV4dChlLnRhcmdldC52YWx1ZSl9IG9uS2V5RG93bj17b25LZXlEb3dufVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e21vZGUgPT09IFwicm9vbVwiID8gXCLDiWNyaXJlIHVuIG1lc3NhZ2XigKYgKEVudHLDqWUgcG91ciBlbnZveWVyLCBTaGlmdCtFbnRyw6llIHBvdXIgbm91dmVsbGUgbGlnbmUpXCIgOiBgTWVzc2FnZSBwcml2w6kgw6AgJHtkbVRhcmdldD8ubmFtZSB8fCBcIuKAplwifWB9XHJcbiAgICAgICAgICBzdHlsZT17eyBmbGV4OiAxLCBwYWRkaW5nOiAxMCwgcmVzaXplOiBcInZlcnRpY2FsXCIsIGJvcmRlcjogXCIxcHggc29saWQgI2U1ZTdlYlwiLCBib3JkZXJSYWRpdXM6IDggfX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGRpc2FibGVkPXt1cGxvYWRpbmd9IHRpdGxlPVwiSm9pbmRyZSB1biBmaWNoaWVyXCIgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJvcmRlciByb3VuZGVkLW1kXCI+e3VwbG9hZGluZyA/IFwi4oCmXCIgOiBcIvCfk45cIn08L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3NlbmR9IGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkLW1kIGJnLWdyYXktOTAwIHRleHQtd2hpdGVcIj5FbnZveWVyPC9idXR0b24+XHJcbiAgICAgICAgPGlucHV0IHJlZj17ZmlsZUlucHV0UmVmfSB0eXBlPVwiZmlsZVwiIG9uQ2hhbmdlPXtoYW5kbGVQaWNrRmlsZX0gaGlkZGVuIC8+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAge3BpY2tlck9wZW4gJiYgKFxyXG4gICAgICAgIDxNZW1iZXJQaWNrZXIgdGl0bGU9XCJNZXNzYWdlIHByaXbDqSDDoOKAplwiIG9uU2VsZWN0PXsobSkgPT4geyBzZXRNb2RlKFwiZG1cIik7IHNldERtVGFyZ2V0KHsgaWQ6IG0uaWQsIG5hbWU6IG0ubmFtZSB9KTsgc2V0UGlja2VyT3BlbihmYWxzZSk7IH19IG9uQ2xvc2U9eygpID0+IHNldFBpY2tlck9wZW4oZmFsc2UpfSAvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImdldFJlYWx0aW1lQ2xpZW50IiwiTWVtYmVyUGlja2VyIiwiZG1LZXkiLCJhIiwiYiIsIngiLCJ5IiwiQ2hhdFBhbmVsIiwicm9vbUlkIiwidXNlcklkIiwidXNlciIsInJvbGUiLCJoZWlnaHQiLCJvbkNvbnRleHRVcGRhdGUiLCJydCIsIm1vZGUiLCJzZXRNb2RlIiwiZG1UYXJnZXQiLCJzZXREbVRhcmdldCIsInBpY2tlck9wZW4iLCJzZXRQaWNrZXJPcGVuIiwibXNncyIsInNldE1zZ3MiLCJmaWxlcyIsInNldEZpbGVzIiwidGV4dCIsInNldFRleHQiLCJzZWVuSWRzIiwiU2V0Iiwic2Nyb2xsZXJSZWYiLCJjb25uUmVhZHkiLCJzZXRDb25uUmVhZHkiLCJsYXN0RXJyb3IiLCJzZXRMYXN0RXJyb3IiLCJ1cGxvYWRpbmciLCJzZXRVcGxvYWRpbmciLCJmaWxlSW5wdXRSZWYiLCJjYW5Bc3NpZ25Qcml2YXRlbHkiLCJwdFRpdGxlIiwic2V0UHRUaXRsZSIsInB0UHJvamVjdCIsInNldFB0UHJvamVjdCIsInB0RHVlRGF0ZSIsInNldFB0RHVlRGF0ZSIsInB0RHVlVGltZSIsInNldFB0RHVlVGltZSIsInB0RHVlVGV4dCIsInNldFB0RHVlVGV4dCIsInB0U2F2aW5nIiwic2V0UHRTYXZpbmciLCJzaG93QXNzaWduIiwic2V0U2hvd0Fzc2lnbiIsInJvb21LZXkiLCJkbVJvb21LZXkiLCJpZCIsImJjIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsImV2IiwiZGF0YSIsInR5cGUiLCJ0YXJnZXRJZCIsIlN0cmluZyIsIm5hbWUiLCJ0YXJnZXROYW1lIiwiY2xvc2UiLCJkbVRhcmdldElkIiwia2V5IiwicmVzIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJjYWNoZSIsImpzb24iLCJpdGVtcyIsIm1hcCIsIm0iLCJ0cyIsImN1cnJlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzY3JvbGxUbyIsInRvcCIsInNjcm9sbEhlaWdodCIsImUiLCJtZXNzYWdlIiwiZnJlcyIsImZkYXRhIiwiYWxsIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJmIiwidG9Vc2VySWQiLCJmcm9tIiwic2V0VXNlciIsIm9mZnMiLCJyZWFkeVJvb20iLCJwdXNoIiwic3Vic2NyaWJlIiwiZW52IiwicGF5bG9hZCIsImhhcyIsImFkZCIsInByZXYiLCJuZXh0Iiwic2xpY2UiLCJiZWhhdmlvciIsInAiLCJ0IiwidGFzayIsInN5cyIsIkRhdGUiLCJub3ciLCJ0aXRsZSIsInByb2plY3QiLCJkdWVBdCIsInRvTG9jYWxlU3RyaW5nIiwiZnJvbUlkIiwiY3JlYXRlZEJ5IiwiZm9yRWFjaCIsIm9mZiIsInNlbmQiLCJ0eHQiLCJ0cmltIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwibWUiLCJvcHRpbWlzdGljIiwidHJpZ2dlciIsIm9uS2V5RG93biIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVQaWNrRmlsZSIsImZpbGUiLCJ0YXJnZXQiLCJ1cGxvYWRGaWxlIiwiY3VycmVudFRhcmdldCIsInZhbHVlIiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm1ldGhvZCIsImJvZHkiLCJvayIsImFsZXJ0IiwiZXJyb3IiLCJhc3NpZ25Qcml2YXRlVGFzayIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0b3IiLCJkdWVEYXRlIiwidW5kZWZpbmVkIiwiZHVlVGltZSIsImR1ZVRleHQiLCJkaXYiLCJzdHlsZSIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwicGFkZGluZyIsImJvcmRlckJvdHRvbSIsImZvbnRXZWlnaHQiLCJidXR0b24iLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwic3BhbiIsIndpZHRoIiwiYmFja2dyb3VuZCIsIm1hcmdpbkxlZnQiLCJjb2xvciIsImZvbnRTaXplIiwidiIsImlucHV0Iiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwidG9kYXkiLCJ5eXl5IiwiZ2V0RnVsbFllYXIiLCJtbSIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkZCIsImdldERhdGUiLCJkIiwic2V0RGF0ZSIsInJlZiIsIm92ZXJmbG93IiwibGluZUhlaWdodCIsIm1hcmdpbkJvdHRvbSIsInRvTG9jYWxlVGltZVN0cmluZyIsImxlbmd0aCIsImJvcmRlclRvcCIsIm1hcmdpblRvcCIsInBhZGRpbmdUb3AiLCJocmVmIiwidXJsIiwicmVsIiwiaW5jbHVkZXMiLCJyb3VuZCIsInNpemUiLCJ0ZXh0YXJlYSIsInJvd3MiLCJmbGV4IiwicmVzaXplIiwiY2xpY2siLCJoaWRkZW4iLCJvblNlbGVjdCIsIm9uQ2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Collab/ChatPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Collab/CollabPanel.tsx":
/*!***********************************************!*\
  !*** ./src/components/Collab/CollabPanel.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CollabPanel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LiveCursors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LiveCursors */ \"(app-pages-browser)/./src/components/Collab/LiveCursors.tsx\");\n/* harmony import */ var _FloatingChat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FloatingChat */ \"(app-pages-browser)/./src/components/Collab/FloatingChat.tsx\");\n/* harmony import */ var _lib_realtime_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/realtime/provider */ \"(app-pages-browser)/./src/lib/realtime/provider.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction CollabPanel(param) {\n    let { roomId = \"demo-room\", userName = \"Moi\", role = \"chef\", onClose } = param;\n    const userId = (0,_lib_realtime_provider__WEBPACK_IMPORTED_MODULE_4__.getStableUserId)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-y-0 right-0 w-[520px] bg-white border-l border-gray-300 shadow-2xl z-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between px-4 py-3 border-b\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"font-semibold\",\n                        children: \"Collaboration (temps r\\xe9el)\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"px-2 py-1 rounded-md hover:bg-gray-100\",\n                        title: \"Fermer\",\n                        children: \"✕\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 space-y-3 overflow-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Bouge ta souris dans la zone pour partager ton curseur. Le chat flottant est d\\xe9pla\\xe7able et redimensionnable. En DM (Priv\\xe9), les chefs peuvent assigner des t\\xe2ches.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LiveCursors__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        roomId: roomId,\n                        userId: userId,\n                        userName: userName,\n                        role: role\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FloatingChat__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                roomId: roomId,\n                userId: userId,\n                userName: userName,\n                role: role\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\CollabPanel.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\n_c = CollabPanel;\nvar _c;\n$RefreshReg$(_c, \"CollabPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9Db2xsYWJQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFMEI7QUFDYztBQUNFO0FBQ29CO0FBSS9DLFNBQVNJLFlBQVksS0FVbkM7UUFWbUMsRUFDbENDLFNBQVMsV0FBVyxFQUNwQkMsV0FBVyxLQUFLLEVBQ2hCQyxPQUFPLE1BQWMsRUFDckJDLE9BQU8sRUFNUixHQVZtQztJQVdsQyxNQUFNQyxTQUFTTix1RUFBZUE7SUFFOUIscUJBQ0UsOERBQUNPO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUFnQjs7Ozs7O2tDQUMvQiw4REFBQ0M7d0JBQU9DLFNBQVNMO3dCQUFTRyxXQUFVO3dCQUF5Q0csT0FBTTtrQ0FBUzs7Ozs7Ozs7Ozs7OzBCQUc5Riw4REFBQ0o7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBd0I7Ozs7OztrQ0FJdkMsOERBQUNWLG9EQUFXQTt3QkFBQ0ksUUFBUUE7d0JBQVFJLFFBQVFBO3dCQUFRSCxVQUFVQTt3QkFBVUMsTUFBTUE7Ozs7Ozs7Ozs7OzswQkFHekUsOERBQUNMLHFEQUFZQTtnQkFBQ0csUUFBUUE7Z0JBQVFJLFFBQVFBO2dCQUFRSCxVQUFVQTtnQkFBVUMsTUFBTUE7Ozs7Ozs7Ozs7OztBQUc5RTtLQS9Cd0JIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9Db2xsYWJQYW5lbC50c3g/YjQ3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IExpdmVDdXJzb3JzIGZyb20gXCIuL0xpdmVDdXJzb3JzXCI7XHJcbmltcG9ydCBGbG9hdGluZ0NoYXQgZnJvbSBcIi4vRmxvYXRpbmdDaGF0XCI7XHJcbmltcG9ydCB7IGdldFN0YWJsZVVzZXJJZCB9IGZyb20gXCIuLi8uLi9saWIvcmVhbHRpbWUvcHJvdmlkZXJcIjtcclxuXHJcbnR5cGUgUm9sZSA9IFwiY2hlZlwiIHwgXCJtYW5hZ2VyXCIgfCBcImFzc2lzdGFudFwiIHwgXCJlbXBsb3llXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xsYWJQYW5lbCh7XHJcbiAgcm9vbUlkID0gXCJkZW1vLXJvb21cIixcclxuICB1c2VyTmFtZSA9IFwiTW9pXCIsXHJcbiAgcm9sZSA9IFwiY2hlZlwiIGFzIFJvbGUsIC8vIGNoZWYgcGFyIGTDqWZhdXQgcG91ciB2b2lyIGwnYXNzaWduYXRpb24gcHJpdsOpZVxyXG4gIG9uQ2xvc2UsXHJcbn06IHtcclxuICByb29tSWQ/OiBzdHJpbmc7XHJcbiAgdXNlck5hbWU/OiBzdHJpbmc7XHJcbiAgcm9sZT86IFJvbGU7XHJcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XHJcbn0pIHtcclxuICBjb25zdCB1c2VySWQgPSBnZXRTdGFibGVVc2VySWQoKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQteS0wIHJpZ2h0LTAgdy1bNTIwcHhdIGJnLXdoaXRlIGJvcmRlci1sIGJvcmRlci1ncmF5LTMwMCBzaGFkb3ctMnhsIHotNTAgZmxleCBmbGV4LWNvbFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC00IHB5LTMgYm9yZGVyLWJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5Db2xsYWJvcmF0aW9uICh0ZW1wcyByw6llbCk8L2Rpdj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMTAwXCIgdGl0bGU9XCJGZXJtZXJcIj7inJU8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBzcGFjZS15LTMgb3ZlcmZsb3ctYXV0b1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICBCb3VnZSB0YSBzb3VyaXMgZGFucyBsYSB6b25lIHBvdXIgcGFydGFnZXIgdG9uIGN1cnNldXIuXHJcbiAgICAgICAgICBMZSBjaGF0IGZsb3R0YW50IGVzdCBkw6lwbGHDp2FibGUgZXQgcmVkaW1lbnNpb25uYWJsZS4gRW4gRE0gKFByaXbDqSksIGxlcyBjaGVmcyBwZXV2ZW50IGFzc2lnbmVyIGRlcyB0w6JjaGVzLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxMaXZlQ3Vyc29ycyByb29tSWQ9e3Jvb21JZH0gdXNlcklkPXt1c2VySWR9IHVzZXJOYW1lPXt1c2VyTmFtZX0gcm9sZT17cm9sZX0gLz5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8RmxvYXRpbmdDaGF0IHJvb21JZD17cm9vbUlkfSB1c2VySWQ9e3VzZXJJZH0gdXNlck5hbWU9e3VzZXJOYW1lfSByb2xlPXtyb2xlfSAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsIkxpdmVDdXJzb3JzIiwiRmxvYXRpbmdDaGF0IiwiZ2V0U3RhYmxlVXNlcklkIiwiQ29sbGFiUGFuZWwiLCJyb29tSWQiLCJ1c2VyTmFtZSIsInJvbGUiLCJvbkNsb3NlIiwidXNlcklkIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Collab/CollabPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Collab/FloatingChat.tsx":
/*!************************************************!*\
  !*** ./src/components/Collab/FloatingChat.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FloatingChat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ChatPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChatPanel */ \"(app-pages-browser)/./src/components/Collab/ChatPanel.tsx\");\n/* harmony import */ var _lib_realtime_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/realtime/provider */ \"(app-pages-browser)/./src/lib/realtime/provider.ts\");\n/* harmony import */ var _lib_notify_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/notify/client */ \"(app-pages-browser)/./src/lib/notify/client.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction FloatingChat(param) {\n    let { roomId, userId, userName, role = \"employe\" } = param;\n    _s();\n    const rt = (0,_lib_realtime_provider__WEBPACK_IMPORTED_MODULE_3__.getRealtimeClient)();\n    const [pos, setPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        if (false) {}\n        try {\n            const raw = localStorage.getItem(\"__float_chat_pos\");\n            if (raw) return JSON.parse(raw);\n        } catch (e) {}\n        return {\n            x: 24,\n            y: 24\n        };\n    });\n    const [size, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        if (false) {}\n        try {\n            const w = parseInt(localStorage.getItem(\"__float_chat_w\") || \"\", 10);\n            const h = parseInt(localStorage.getItem(\"__float_chat_h\") || \"\", 10);\n            if (isFinite(w) && isFinite(h) && w >= 360 && h >= 360) return {\n                w,\n                h\n            };\n        } catch (e) {}\n        return {\n            w: 560,\n            h: 520\n        };\n    });\n    const [min, setMin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        if (false) {}\n        return localStorage.getItem(\"__float_chat_min\") === \"1\";\n    });\n    // Interrupteur notifications\n    const [notifyEnabled, setNotifyEnabledState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        if (false) {}\n        return (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.getNotifyEnabled)();\n    });\n    // Contexte actif du ChatPanel (mode et cible DM)\n    const [activeCtx, setActiveCtx] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        mode: \"room\"\n    });\n    const activeCtxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(activeCtx);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        activeCtxRef.current = activeCtx;\n    }, [\n        activeCtx\n    ]);\n    // Notifications non lues par expéditeur (DM/fichiers/tâches directs)\n    const [unreadByUser, setUnreadByUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const unreadTotal = Object.values(unreadByUser).reduce((a, b)=>a + b, 0);\n    // Persist état UI\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            localStorage.setItem(\"__float_chat_pos\", JSON.stringify(pos));\n        } catch (e) {}\n    }, [\n        pos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            localStorage.setItem(\"__float_chat_w\", String(size.w));\n            localStorage.setItem(\"__float_chat_h\", String(size.h));\n        } catch (e) {}\n    }, [\n        size\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            localStorage.setItem(\"__float_chat_min\", min ? \"1\" : \"0\");\n        } catch (e) {}\n    }, [\n        min\n    ]);\n    // Drag\n    const dragging = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        mx: 0,\n        my: 0,\n        x: 0,\n        y: 0\n    });\n    function onHeaderDown(e) {\n        dragging.current = true;\n        start.current = {\n            mx: e.clientX,\n            my: e.clientY,\n            x: pos.x,\n            y: pos.y\n        };\n        window.addEventListener(\"mousemove\", onMove);\n        window.addEventListener(\"mouseup\", onUp, {\n            once: true\n        });\n    }\n    function onMove(e) {\n        if (dragging.current) {\n            const dx = e.clientX - start.current.mx;\n            const dy = e.clientY - start.current.my;\n            // Ancré à droite/bas\n            setPos({\n                x: Math.max(8, start.current.x - dx),\n                y: Math.max(8, start.current.y - dy)\n            });\n        }\n        if (resizing.current) {\n            const dx = rstart.current.mx - e.clientX;\n            const dy = rstart.current.my - e.clientY;\n            const w = Math.max(360, rstart.current.w + dx);\n            const h = Math.max(360, rstart.current.h + dy);\n            setSize({\n                w,\n                h\n            });\n        }\n    }\n    function onUp() {\n        dragging.current = false;\n        resizing.current = false;\n        window.removeEventListener(\"mousemove\", onMove);\n    }\n    // Resize\n    const resizing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const rstart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        mx: 0,\n        my: 0,\n        w: 0,\n        h: 0\n    });\n    function onResizeDown(e) {\n        e.stopPropagation();\n        resizing.current = true;\n        rstart.current = {\n            mx: e.clientX,\n            my: e.clientY,\n            w: size.w,\n            h: size.h\n        };\n        window.addEventListener(\"mousemove\", onMove);\n        window.addEventListener(\"mouseup\", onUp, {\n            once: true\n        });\n    }\n    const headerH = 40;\n    const scrollerHeight = Math.max(260, size.h - headerH - 160);\n    // Abonnements pour compter les non-lus + notifications (canal personnel)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        rt.setUser({\n            id: userId,\n            name: userName,\n            role\n        });\n        const offs = [];\n        const shouldNotify = (fromId)=>{\n            if (!fromId) return false;\n            const ctx = activeCtxRef.current;\n            const notFocused = min || ctx.mode !== \"dm\" || ctx.dmTargetId !== fromId;\n            return notFocused && notifyEnabled;\n        };\n        const bump = (fromId)=>{\n            if (!fromId) return;\n            const ctx = activeCtxRef.current;\n            const notFocused = min || ctx.mode !== \"dm\" || ctx.dmTargetId !== fromId;\n            if (!notFocused) return;\n            setUnreadByUser((prev)=>({\n                    ...prev,\n                    [fromId]: (prev[fromId] || 0) + 1\n                }));\n        };\n        // DM texte\n        offs.push(rt.subscribe(\"user:\".concat(userId), \"dm\", async (env)=>{\n            var _env_user, _env_user1, _env_payload;\n            const fromId = env === null || env === void 0 ? void 0 : (_env_user = env.user) === null || _env_user === void 0 ? void 0 : _env_user.id;\n            const fromName = env === null || env === void 0 ? void 0 : (_env_user1 = env.user) === null || _env_user1 === void 0 ? void 0 : _env_user1.name;\n            const text = String((env === null || env === void 0 ? void 0 : (_env_payload = env.payload) === null || _env_payload === void 0 ? void 0 : _env_payload.text) || \"\");\n            bump(fromId);\n            if (shouldNotify(fromId)) {\n                const perm = await (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.ensurePermission)();\n                if (perm === \"granted\") {\n                    (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.showNotification)({\n                        title: \"Nouveau message de \".concat(fromName || \"Quelqu'un\"),\n                        body: text.slice(0, 140),\n                        tag: \"dm-\".concat(fromId),\n                        targetId: fromId,\n                        targetName: fromName\n                    });\n                }\n            }\n        }));\n        // Fichier direct\n        offs.push(rt.subscribe(\"user:\".concat(userId), \"file\", async (env)=>{\n            var _env_payload, _env_user, _env_user1, _env_payload1, _env_payload2, _env_payload3;\n            const toUserId = env === null || env === void 0 ? void 0 : (_env_payload = env.payload) === null || _env_payload === void 0 ? void 0 : _env_payload.toUserId;\n            if (toUserId !== userId) return;\n            const fromId = env === null || env === void 0 ? void 0 : (_env_user = env.user) === null || _env_user === void 0 ? void 0 : _env_user.id;\n            const fromName = env === null || env === void 0 ? void 0 : (_env_user1 = env.user) === null || _env_user1 === void 0 ? void 0 : _env_user1.name;\n            const fname = String((env === null || env === void 0 ? void 0 : (_env_payload1 = env.payload) === null || _env_payload1 === void 0 ? void 0 : _env_payload1.name) || \"Fichier\");\n            const note = (env === null || env === void 0 ? void 0 : (_env_payload2 = env.payload) === null || _env_payload2 === void 0 ? void 0 : _env_payload2.message) ? \" \\xb7 \".concat(String(env === null || env === void 0 ? void 0 : (_env_payload3 = env.payload) === null || _env_payload3 === void 0 ? void 0 : _env_payload3.message).slice(0, 80)) : \"\";\n            bump(fromId);\n            if (shouldNotify(fromId)) {\n                const perm = await (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.ensurePermission)();\n                if (perm === \"granted\") {\n                    (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.showNotification)({\n                        title: \"Fichier de \".concat(fromName || \"Quelqu'un\"),\n                        body: \"\".concat(fname).concat(note),\n                        tag: \"file-\".concat(fromId),\n                        targetId: fromId,\n                        targetName: fromName\n                    });\n                }\n            }\n        }));\n        // Tâche privée\n        offs.push(rt.subscribe(\"user:\".concat(userId), \"task\", async (env)=>{\n            var _env_payload, _t_createdBy, _env_user, _env_user1;\n            const t = env === null || env === void 0 ? void 0 : (_env_payload = env.payload) === null || _env_payload === void 0 ? void 0 : _env_payload.task;\n            if (!t || t.userId !== userId && ((_t_createdBy = t.createdBy) === null || _t_createdBy === void 0 ? void 0 : _t_createdBy.id) !== userId) return;\n            const fromId = env === null || env === void 0 ? void 0 : (_env_user = env.user) === null || _env_user === void 0 ? void 0 : _env_user.id;\n            const fromName = env === null || env === void 0 ? void 0 : (_env_user1 = env.user) === null || _env_user1 === void 0 ? void 0 : _env_user1.name;\n            const title = String((t === null || t === void 0 ? void 0 : t.title) || \"Nouvelle t\\xe2che\");\n            const project = String((t === null || t === void 0 ? void 0 : t.project) || \"\");\n            const due = (t === null || t === void 0 ? void 0 : t.dueAt) ? \" \\xb7 \\xc9ch\\xe9ance \".concat(new Date(t.dueAt).toLocaleString()) : \"\";\n            bump(fromId);\n            if (shouldNotify(fromId)) {\n                const perm = await (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.ensurePermission)();\n                if (perm === \"granted\") {\n                    (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.showNotification)({\n                        title: \"T\\xe2che de \".concat(fromName || \"Votre chef\"),\n                        body: \"\".concat(title).concat(project ? \" (\".concat(project, \")\") : \"\").concat(due),\n                        tag: \"task-\".concat(fromId),\n                        targetId: fromId,\n                        targetName: fromName\n                    });\n                }\n            }\n        }));\n        return ()=>{\n            offs.forEach((off)=>off === null || off === void 0 ? void 0 : off());\n        };\n    }, [\n        rt,\n        userId,\n        userName,\n        role,\n        min,\n        notifyEnabled\n    ]);\n    // Marquer comme lu pour un utilisateur (quand on ouvre le DM correspondant)\n    function markReadFor(userIdToClear) {\n        if (!userIdToClear) return;\n        setUnreadByUser((prev)=>{\n            if (!prev[userIdToClear]) return prev;\n            const next = {\n                ...prev\n            };\n            delete next[userIdToClear];\n            return next;\n        });\n    }\n    // Contexte depuis ChatPanel\n    function handleContextUpdate(ctx) {\n        setActiveCtx(ctx);\n        if (!min && ctx.mode === \"dm\" && ctx.dmTargetId) {\n            markReadFor(ctx.dmTargetId);\n        }\n    }\n    // Toggle réduit\n    function toggleMin() {\n        setMin((prev)=>{\n            const next = !prev;\n            if (!next && activeCtx.mode === \"dm\" && activeCtx.dmTargetId) {\n                markReadFor(activeCtx.dmTargetId);\n            }\n            return next;\n        });\n    }\n    // Toggle notifications\n    async function toggleNotify() {\n        const next = !notifyEnabled;\n        if (next) {\n            const perm = await (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.ensurePermission)();\n            if (perm !== \"granted\") {\n                // Permission refusée: on reste désactivé\n                (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.setNotifyEnabled)(false);\n                setNotifyEnabledState(false);\n                alert(\"Active les notifications dans ton navigateur pour recevoir des alertes.\");\n                return;\n            }\n        }\n        (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.setNotifyEnabled)(next);\n        setNotifyEnabledState(next);\n    }\n    const badge = unreadTotal > 0 ? unreadTotal > 99 ? \"99+\" : String(unreadTotal) : \"\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            right: pos.x,\n            bottom: pos.y,\n            zIndex: 50,\n            width: min ? 300 : size.w\n        },\n        className: \"shadow-2xl\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onMouseDown: onHeaderDown,\n                className: \"cursor-move bg-gray-900 text-white rounded-t-md px-3 py-2 flex items-center justify-between\",\n                style: {\n                    height: headerH\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"font-semibold text-sm flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Chat\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                                lineNumber: 267,\n                                columnNumber: 11\n                            }, this),\n                            badge && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                title: \"Nouveaux messages priv\\xe9s\",\n                                className: \"inline-flex items-center justify-center text-[10px] font-semibold rounded-full \".concat(min ? \"bg-red-500\" : \"bg-red-600\", \" text-white\"),\n                                style: {\n                                    minWidth: 18,\n                                    height: 18,\n                                    padding: \"0 5px\"\n                                },\n                                children: badge\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                                lineNumber: 269,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                        lineNumber: 266,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>{\n                                    e.stopPropagation();\n                                    toggleNotify();\n                                },\n                                className: \"text-white/90 hover:text-white text-sm px-2 py-1 rounded \".concat(notifyEnabled && (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.canNotifyNow)() ? \"bg-white/10\" : \"bg-white/5\"),\n                                title: notifyEnabled ? \"D\\xe9sactiver les notifications\" : \"Activer les notifications\",\n                                children: notifyEnabled && (0,_lib_notify_client__WEBPACK_IMPORTED_MODULE_4__.canNotifyNow)() ? \"\\uD83D\\uDD14\" : \"\\uD83D\\uDD15\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>{\n                                    e.stopPropagation();\n                                    toggleMin();\n                                },\n                                className: \"text-white/90 hover:text-white text-sm\",\n                                children: min ? \"Ouvrir\" : \"R\\xe9duire\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                                lineNumber: 286,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                lineNumber: 261,\n                columnNumber: 7\n            }, this),\n            !min && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white border-x border-b rounded-b-md relative\",\n                style: {\n                    height: size.h - headerH\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatPanel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        roomId: roomId,\n                        userId: userId,\n                        user: userName,\n                        role: role,\n                        height: scrollerHeight,\n                        onContextUpdate: handleContextUpdate\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        onMouseDown: onResizeDown,\n                        title: \"Redimensionner\",\n                        style: {\n                            position: \"absolute\",\n                            right: 6,\n                            bottom: 6,\n                            width: 16,\n                            height: 16,\n                            cursor: \"nwse-resize\",\n                            opacity: 0.8\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 16 16\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M3 13h10M6 10h7M9 7h4\",\n                                stroke: \"#9ca3af\",\n                                strokeWidth: \"1.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                                lineNumber: 317,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                            lineNumber: 316,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                        lineNumber: 303,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n                lineNumber: 293,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\FloatingChat.tsx\",\n        lineNumber: 251,\n        columnNumber: 5\n    }, this);\n}\n_s(FloatingChat, \"q/HF08QE3tjLSXrsw2Mt3/2lqpA=\");\n_c = FloatingChat;\nvar _c;\n$RefreshReg$(_c, \"FloatingChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9GbG9hdGluZ0NoYXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVvRDtBQUNoQjtBQUM0QjtBQUMrRDtBQUloSCxTQUFTVSxhQUFhLEtBVXBDO1FBVm9DLEVBQ25DQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxPQUFPLFNBQWlCLEVBTXpCLEdBVm9DOztJQVduQyxNQUFNQyxLQUFLWCx5RUFBaUJBO0lBRTVCLE1BQU0sQ0FBQ1ksS0FBS0MsT0FBTyxHQUFHZiwrQ0FBUUEsQ0FBMkI7UUFDdkQsSUFBSSxLQUE2QixFQUFFLEVBQXdCO1FBQzNELElBQUk7WUFDRixNQUFNa0IsTUFBTUMsYUFBYUMsT0FBTyxDQUFDO1lBQ2pDLElBQUlGLEtBQUssT0FBT0csS0FBS0MsS0FBSyxDQUFDSjtRQUM3QixFQUFFLFVBQU0sQ0FBQztRQUNULE9BQU87WUFBRUYsR0FBRztZQUFJQyxHQUFHO1FBQUc7SUFDeEI7SUFDQSxNQUFNLENBQUNNLE1BQU1DLFFBQVEsR0FBR3hCLCtDQUFRQSxDQUEyQjtRQUN6RCxJQUFJLEtBQTZCLEVBQUUsRUFBMEI7UUFDN0QsSUFBSTtZQUNGLE1BQU15QixJQUFJRSxTQUFTUixhQUFhQyxPQUFPLENBQUMscUJBQXFCLElBQUk7WUFDakUsTUFBTU0sSUFBSUMsU0FBU1IsYUFBYUMsT0FBTyxDQUFDLHFCQUFxQixJQUFJO1lBQ2pFLElBQUlRLFNBQVNILE1BQU1HLFNBQVNGLE1BQU1ELEtBQUssT0FBT0MsS0FBSyxLQUFLLE9BQU87Z0JBQUVEO2dCQUFHQztZQUFFO1FBQ3hFLEVBQUUsVUFBTSxDQUFDO1FBQ1QsT0FBTztZQUFFRCxHQUFHO1lBQUtDLEdBQUc7UUFBSTtJQUMxQjtJQUNBLE1BQU0sQ0FBQ0csS0FBS0MsT0FBTyxHQUFHOUIsK0NBQVFBLENBQVU7UUFDdEMsSUFBSSxLQUE2QixFQUFFLEVBQWE7UUFDaEQsT0FBT21CLGFBQWFD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QU9DLFNBQVMsQ0FBQ2hGO29DQUFRQSxFQUFFZ0IsZUFBZTtvQ0FBSThDO2dDQUFhO2dDQUFHVyxXQUFVOzBDQUN0RWxHLE1BQU0sV0FBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBS3ZCLENBQUNBLHFCQUNBLDhEQUFDMkY7Z0JBQUlPLFdBQVU7Z0JBQW1ETixPQUFPO29CQUFFUSxRQUFRMUcsS0FBS0csQ0FBQyxHQUFHNkM7Z0JBQVE7O2tDQUNsRyw4REFBQ3RFLGtEQUFTQTt3QkFDUlEsUUFBUUE7d0JBQ1JDLFFBQVFBO3dCQUNSNkUsTUFBTTVFO3dCQUNOQyxNQUFNQTt3QkFDTnFILFFBQVF6RDt3QkFDUitELGlCQUFpQnBCOzs7Ozs7a0NBR25CLDhEQUFDSzt3QkFDQ1EsYUFBYTNEO3dCQUNidUIsT0FBTTt3QkFDTjZCLE9BQU87NEJBQ0xDLFVBQVU7NEJBQ1ZDLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JFLE9BQU87NEJBQ1BHLFFBQVE7NEJBQ1JPLFFBQVE7NEJBQ1JDLFNBQVM7d0JBQ1g7a0NBRUEsNEVBQUNDOzRCQUFJWixPQUFNOzRCQUFLRyxRQUFPOzRCQUFLVSxTQUFRO3NDQUNsQyw0RUFBQ0M7Z0NBQUtDLEdBQUU7Z0NBQXdCQyxRQUFPO2dDQUFVQyxhQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzNFO0dBMVR3QnZJO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9GbG9hdGluZ0NoYXQudHN4P2E5MDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IENoYXRQYW5lbCBmcm9tIFwiLi9DaGF0UGFuZWxcIjtcclxuaW1wb3J0IHsgZ2V0UmVhbHRpbWVDbGllbnQgfSBmcm9tIFwiLi4vLi4vbGliL3JlYWx0aW1lL3Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IGVuc3VyZVBlcm1pc3Npb24sIHNob3dOb3RpZmljYXRpb24sIGdldE5vdGlmeUVuYWJsZWQsIHNldE5vdGlmeUVuYWJsZWQsIGNhbk5vdGlmeU5vdyB9IGZyb20gXCIuLi8uLi9saWIvbm90aWZ5L2NsaWVudFwiO1xyXG5cclxudHlwZSBSb2xlID0gXCJjaGVmXCIgfCBcIm1hbmFnZXJcIiB8IFwiYXNzaXN0YW50XCIgfCBcImVtcGxveWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZsb2F0aW5nQ2hhdCh7XHJcbiAgcm9vbUlkLFxyXG4gIHVzZXJJZCxcclxuICB1c2VyTmFtZSxcclxuICByb2xlID0gXCJlbXBsb3llXCIgYXMgUm9sZSxcclxufToge1xyXG4gIHJvb21JZDogc3RyaW5nO1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIHVzZXJOYW1lOiBzdHJpbmc7XHJcbiAgcm9sZT86IFJvbGU7XHJcbn0pIHtcclxuICBjb25zdCBydCA9IGdldFJlYWx0aW1lQ2xpZW50KCk7XHJcblxyXG4gIGNvbnN0IFtwb3MsIHNldFBvc10gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+KCgpID0+IHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4geyB4OiAyNCwgeTogMjQgfTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiX19mbG9hdF9jaGF0X3Bvc1wiKTtcclxuICAgICAgaWYgKHJhdykgcmV0dXJuIEpTT04ucGFyc2UocmF3KTtcclxuICAgIH0gY2F0Y2gge31cclxuICAgIHJldHVybiB7IHg6IDI0LCB5OiAyNCB9O1xyXG4gIH0pO1xyXG4gIGNvbnN0IFtzaXplLCBzZXRTaXplXSA9IHVzZVN0YXRlPHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfT4oKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB7IHc6IDU2MCwgaDogNTIwIH07XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3ID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJfX2Zsb2F0X2NoYXRfd1wiKSB8fCBcIlwiLCAxMCk7XHJcbiAgICAgIGNvbnN0IGggPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIl9fZmxvYXRfY2hhdF9oXCIpIHx8IFwiXCIsIDEwKTtcclxuICAgICAgaWYgKGlzRmluaXRlKHcpICYmIGlzRmluaXRlKGgpICYmIHcgPj0gMzYwICYmIGggPj0gMzYwKSByZXR1cm4geyB3LCBoIH07XHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgICByZXR1cm4geyB3OiA1NjAsIGg6IDUyMCB9O1xyXG4gIH0pO1xyXG4gIGNvbnN0IFttaW4sIHNldE1pbl0gPSB1c2VTdGF0ZTxib29sZWFuPigoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiX19mbG9hdF9jaGF0X21pblwiKSA9PT0gXCIxXCI7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEludGVycnVwdGV1ciBub3RpZmljYXRpb25zXHJcbiAgY29uc3QgW25vdGlmeUVuYWJsZWQsIHNldE5vdGlmeUVuYWJsZWRTdGF0ZV0gPSB1c2VTdGF0ZTxib29sZWFuPigoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIGdldE5vdGlmeUVuYWJsZWQoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gQ29udGV4dGUgYWN0aWYgZHUgQ2hhdFBhbmVsIChtb2RlIGV0IGNpYmxlIERNKVxyXG4gIGNvbnN0IFthY3RpdmVDdHgsIHNldEFjdGl2ZUN0eF0gPSB1c2VTdGF0ZTx7IG1vZGU6IFwicm9vbVwiIHwgXCJkbVwiOyBkbVRhcmdldElkPzogc3RyaW5nIH0+KHsgbW9kZTogXCJyb29tXCIgfSk7XHJcbiAgY29uc3QgYWN0aXZlQ3R4UmVmID0gdXNlUmVmKGFjdGl2ZUN0eCk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHsgYWN0aXZlQ3R4UmVmLmN1cnJlbnQgPSBhY3RpdmVDdHg7IH0sIFthY3RpdmVDdHhdKTtcclxuXHJcbiAgLy8gTm90aWZpY2F0aW9ucyBub24gbHVlcyBwYXIgZXhww6lkaXRldXIgKERNL2ZpY2hpZXJzL3TDomNoZXMgZGlyZWN0cylcclxuICBjb25zdCBbdW5yZWFkQnlVc2VyLCBzZXRVbnJlYWRCeVVzZXJdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4oe30pO1xyXG4gIGNvbnN0IHVucmVhZFRvdGFsID0gT2JqZWN0LnZhbHVlcyh1bnJlYWRCeVVzZXIpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xyXG5cclxuICAvLyBQZXJzaXN0IMOpdGF0IFVJXHJcbiAgdXNlRWZmZWN0KCgpID0+IHsgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJfX2Zsb2F0X2NoYXRfcG9zXCIsIEpTT04uc3RyaW5naWZ5KHBvcykpOyB9IGNhdGNoIHt9IH0sIFtwb3NdKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJfX2Zsb2F0X2NoYXRfd1wiLCBTdHJpbmcoc2l6ZS53KSk7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiX19mbG9hdF9jaGF0X2hcIiwgU3RyaW5nKHNpemUuaCkpOyB9IGNhdGNoIHt9XHJcbiAgfSwgW3NpemVdKTtcclxuICB1c2VFZmZlY3QoKCkgPT4geyB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIl9fZmxvYXRfY2hhdF9taW5cIiwgbWluID8gXCIxXCIgOiBcIjBcIik7IH0gY2F0Y2gge30gfSwgW21pbl0pO1xyXG5cclxuICAvLyBEcmFnXHJcbiAgY29uc3QgZHJhZ2dpbmcgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIGNvbnN0IHN0YXJ0ID0gdXNlUmVmKHsgbXg6IDAsIG15OiAwLCB4OiAwLCB5OiAwIH0pO1xyXG4gIGZ1bmN0aW9uIG9uSGVhZGVyRG93bihlOiBSZWFjdC5Nb3VzZUV2ZW50KSB7XHJcbiAgICBkcmFnZ2luZy5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIHN0YXJ0LmN1cnJlbnQgPSB7IG14OiBlLmNsaWVudFgsIG15OiBlLmNsaWVudFksIHg6IHBvcy54LCB5OiBwb3MueSB9O1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3ZlIGFzIGFueSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgb25VcCBhcyBhbnksIHsgb25jZTogdHJ1ZSB9KTtcclxuICB9XHJcbiAgZnVuY3Rpb24gb25Nb3ZlKGU6IE1vdXNlRXZlbnQpIHtcclxuICAgIGlmIChkcmFnZ2luZy5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGR4ID0gZS5jbGllbnRYIC0gc3RhcnQuY3VycmVudC5teDtcclxuICAgICAgY29uc3QgZHkgPSBlLmNsaWVudFkgLSBzdGFydC5jdXJyZW50Lm15O1xyXG4gICAgICAvLyBBbmNyw6kgw6AgZHJvaXRlL2Jhc1xyXG4gICAgICBzZXRQb3MoeyB4OiBNYXRoLm1heCg4LCBzdGFydC5jdXJyZW50LnggLSBkeCksIHk6IE1hdGgubWF4KDgsIHN0YXJ0LmN1cnJlbnQueSAtIGR5KSB9KTtcclxuICAgIH1cclxuICAgIGlmIChyZXNpemluZy5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGR4ID0gcnN0YXJ0LmN1cnJlbnQubXggLSBlLmNsaWVudFg7XHJcbiAgICAgIGNvbnN0IGR5ID0gcnN0YXJ0LmN1cnJlbnQubXkgLSBlLmNsaWVudFk7XHJcbiAgICAgIGNvbnN0IHcgPSBNYXRoLm1heCgzNjAsIHJzdGFydC5jdXJyZW50LncgKyBkeCk7XHJcbiAgICAgIGNvbnN0IGggPSBNYXRoLm1heCgzNjAsIHJzdGFydC5jdXJyZW50LmggKyBkeSk7XHJcbiAgICAgIHNldFNpemUoeyB3LCBoIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBmdW5jdGlvbiBvblVwKCkge1xyXG4gICAgZHJhZ2dpbmcuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgcmVzaXppbmcuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3ZlIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICAvLyBSZXNpemVcclxuICBjb25zdCByZXNpemluZyA9IHVzZVJlZihmYWxzZSk7XHJcbiAgY29uc3QgcnN0YXJ0ID0gdXNlUmVmKHsgbXg6IDAsIG15OiAwLCB3OiAwLCBoOiAwIH0pO1xyXG4gIGZ1bmN0aW9uIG9uUmVzaXplRG93bihlOiBSZWFjdC5Nb3VzZUV2ZW50KSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgcmVzaXppbmcuY3VycmVudCA9IHRydWU7XHJcbiAgICByc3RhcnQuY3VycmVudCA9IHsgbXg6IGUuY2xpZW50WCwgbXk6IGUuY2xpZW50WSwgdzogc2l6ZS53LCBoOiBzaXplLmggfTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW92ZSBhcyBhbnkpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG9uVXAgYXMgYW55LCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBoZWFkZXJIID0gNDA7XHJcbiAgY29uc3Qgc2Nyb2xsZXJIZWlnaHQgPSBNYXRoLm1heCgyNjAsIHNpemUuaCAtIGhlYWRlckggLSAxNjApO1xyXG5cclxuICAvLyBBYm9ubmVtZW50cyBwb3VyIGNvbXB0ZXIgbGVzIG5vbi1sdXMgKyBub3RpZmljYXRpb25zIChjYW5hbCBwZXJzb25uZWwpXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHJ0LnNldFVzZXIoeyBpZDogdXNlcklkLCBuYW1lOiB1c2VyTmFtZSwgcm9sZSB9KTtcclxuICAgIGNvbnN0IG9mZnM6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XHJcblxyXG4gICAgY29uc3Qgc2hvdWxkTm90aWZ5ID0gKGZyb21JZD86IHN0cmluZykgPT4ge1xyXG4gICAgICBpZiAoIWZyb21JZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBjb25zdCBjdHggPSBhY3RpdmVDdHhSZWYuY3VycmVudDtcclxuICAgICAgY29uc3Qgbm90Rm9jdXNlZCA9IG1pbiB8fCBjdHgubW9kZSAhPT0gXCJkbVwiIHx8IGN0eC5kbVRhcmdldElkICE9PSBmcm9tSWQ7XHJcbiAgICAgIHJldHVybiBub3RGb2N1c2VkICYmIG5vdGlmeUVuYWJsZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGJ1bXAgPSAoZnJvbUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcclxuICAgICAgaWYgKCFmcm9tSWQpIHJldHVybjtcclxuICAgICAgY29uc3QgY3R4ID0gYWN0aXZlQ3R4UmVmLmN1cnJlbnQ7XHJcbiAgICAgIGNvbnN0IG5vdEZvY3VzZWQgPSBtaW4gfHwgY3R4Lm1vZGUgIT09IFwiZG1cIiB8fCBjdHguZG1UYXJnZXRJZCAhPT0gZnJvbUlkO1xyXG4gICAgICBpZiAoIW5vdEZvY3VzZWQpIHJldHVybjtcclxuICAgICAgc2V0VW5yZWFkQnlVc2VyKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbZnJvbUlkXTogKHByZXZbZnJvbUlkXSB8fCAwKSArIDEgfSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBETSB0ZXh0ZVxyXG4gICAgb2Zmcy5wdXNoKHJ0LnN1YnNjcmliZShgdXNlcjoke3VzZXJJZH1gLCBcImRtXCIsIGFzeW5jIChlbnYpID0+IHtcclxuICAgICAgY29uc3QgZnJvbUlkID0gZW52Py51c2VyPy5pZCBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IGZyb21OYW1lID0gZW52Py51c2VyPy5uYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgdGV4dCA9IFN0cmluZyhlbnY/LnBheWxvYWQ/LnRleHQgfHwgXCJcIik7XHJcbiAgICAgIGJ1bXAoZnJvbUlkKTtcclxuICAgICAgaWYgKHNob3VsZE5vdGlmeShmcm9tSWQpKSB7XHJcbiAgICAgICAgY29uc3QgcGVybSA9IGF3YWl0IGVuc3VyZVBlcm1pc3Npb24oKTtcclxuICAgICAgICBpZiAocGVybSA9PT0gXCJncmFudGVkXCIpIHtcclxuICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oe1xyXG4gICAgICAgICAgICB0aXRsZTogYE5vdXZlYXUgbWVzc2FnZSBkZSAke2Zyb21OYW1lIHx8IFwiUXVlbHF1J3VuXCJ9YCxcclxuICAgICAgICAgICAgYm9keTogdGV4dC5zbGljZSgwLCAxNDApLFxyXG4gICAgICAgICAgICB0YWc6IGBkbS0ke2Zyb21JZH1gLFxyXG4gICAgICAgICAgICB0YXJnZXRJZDogZnJvbUlkLFxyXG4gICAgICAgICAgICB0YXJnZXROYW1lOiBmcm9tTmFtZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIEZpY2hpZXIgZGlyZWN0XHJcbiAgICBvZmZzLnB1c2gocnQuc3Vic2NyaWJlKGB1c2VyOiR7dXNlcklkfWAsIFwiZmlsZVwiLCBhc3luYyAoZW52KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRvVXNlcklkID0gZW52Py5wYXlsb2FkPy50b1VzZXJJZCBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgIGlmICh0b1VzZXJJZCAhPT0gdXNlcklkKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGZyb21JZCA9IGVudj8udXNlcj8uaWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICBjb25zdCBmcm9tTmFtZSA9IGVudj8udXNlcj8ubmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IGZuYW1lID0gU3RyaW5nKGVudj8ucGF5bG9hZD8ubmFtZSB8fCBcIkZpY2hpZXJcIik7XHJcbiAgICAgIGNvbnN0IG5vdGUgPSBlbnY/LnBheWxvYWQ/Lm1lc3NhZ2UgPyBgIMK3ICR7U3RyaW5nKGVudj8ucGF5bG9hZD8ubWVzc2FnZSkuc2xpY2UoMCwgODApfWAgOiBcIlwiO1xyXG4gICAgICBidW1wKGZyb21JZCk7XHJcbiAgICAgIGlmIChzaG91bGROb3RpZnkoZnJvbUlkKSkge1xyXG4gICAgICAgIGNvbnN0IHBlcm0gPSBhd2FpdCBlbnN1cmVQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgaWYgKHBlcm0gPT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKHtcclxuICAgICAgICAgICAgdGl0bGU6IGBGaWNoaWVyIGRlICR7ZnJvbU5hbWUgfHwgXCJRdWVscXUndW5cIn1gLFxyXG4gICAgICAgICAgICBib2R5OiBgJHtmbmFtZX0ke25vdGV9YCxcclxuICAgICAgICAgICAgdGFnOiBgZmlsZS0ke2Zyb21JZH1gLFxyXG4gICAgICAgICAgICB0YXJnZXRJZDogZnJvbUlkLFxyXG4gICAgICAgICAgICB0YXJnZXROYW1lOiBmcm9tTmFtZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFTDomNoZSBwcml2w6llXHJcbiAgICBvZmZzLnB1c2gocnQuc3Vic2NyaWJlKGB1c2VyOiR7dXNlcklkfWAsIFwidGFza1wiLCBhc3luYyAoZW52KSA9PiB7XHJcbiAgICAgIGNvbnN0IHQgPSBlbnY/LnBheWxvYWQ/LnRhc2s7XHJcbiAgICAgIGlmICghdCB8fCAodC51c2VySWQgIT09IHVzZXJJZCAmJiB0LmNyZWF0ZWRCeT8uaWQgIT09IHVzZXJJZCkpIHJldHVybjtcclxuICAgICAgY29uc3QgZnJvbUlkID0gZW52Py51c2VyPy5pZCBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IGZyb21OYW1lID0gZW52Py51c2VyPy5uYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgdGl0bGUgPSBTdHJpbmcodD8udGl0bGUgfHwgXCJOb3V2ZWxsZSB0w6JjaGVcIik7XHJcbiAgICAgIGNvbnN0IHByb2plY3QgPSBTdHJpbmcodD8ucHJvamVjdCB8fCBcIlwiKTtcclxuICAgICAgY29uc3QgZHVlID0gdD8uZHVlQXQgPyBgIMK3IMOJY2jDqWFuY2UgJHtuZXcgRGF0ZSh0LmR1ZUF0KS50b0xvY2FsZVN0cmluZygpfWAgOiBcIlwiO1xyXG4gICAgICBidW1wKGZyb21JZCk7XHJcbiAgICAgIGlmIChzaG91bGROb3RpZnkoZnJvbUlkKSkge1xyXG4gICAgICAgIGNvbnN0IHBlcm0gPSBhd2FpdCBlbnN1cmVQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgaWYgKHBlcm0gPT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKHtcclxuICAgICAgICAgICAgdGl0bGU6IGBUw6JjaGUgZGUgJHtmcm9tTmFtZSB8fCBcIlZvdHJlIGNoZWZcIn1gLFxyXG4gICAgICAgICAgICBib2R5OiBgJHt0aXRsZX0ke3Byb2plY3QgPyBgICgke3Byb2plY3R9KWAgOiBcIlwifSR7ZHVlfWAsXHJcbiAgICAgICAgICAgIHRhZzogYHRhc2stJHtmcm9tSWR9YCxcclxuICAgICAgICAgICAgdGFyZ2V0SWQ6IGZyb21JZCxcclxuICAgICAgICAgICAgdGFyZ2V0TmFtZTogZnJvbU5hbWUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4geyBvZmZzLmZvckVhY2goKG9mZikgPT4gb2ZmPy4oKSk7IH07XHJcbiAgfSwgW3J0LCB1c2VySWQsIHVzZXJOYW1lLCByb2xlLCBtaW4sIG5vdGlmeUVuYWJsZWRdKTtcclxuXHJcbiAgLy8gTWFycXVlciBjb21tZSBsdSBwb3VyIHVuIHV0aWxpc2F0ZXVyIChxdWFuZCBvbiBvdXZyZSBsZSBETSBjb3JyZXNwb25kYW50KVxyXG4gIGZ1bmN0aW9uIG1hcmtSZWFkRm9yKHVzZXJJZFRvQ2xlYXI/OiBzdHJpbmcpIHtcclxuICAgIGlmICghdXNlcklkVG9DbGVhcikgcmV0dXJuO1xyXG4gICAgc2V0VW5yZWFkQnlVc2VyKChwcmV2KSA9PiB7XHJcbiAgICAgIGlmICghcHJldlt1c2VySWRUb0NsZWFyXSkgcmV0dXJuIHByZXY7XHJcbiAgICAgIGNvbnN0IG5leHQgPSB7IC4uLnByZXYgfTtcclxuICAgICAgZGVsZXRlIG5leHRbdXNlcklkVG9DbGVhcl07XHJcbiAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDb250ZXh0ZSBkZXB1aXMgQ2hhdFBhbmVsXHJcbiAgZnVuY3Rpb24gaGFuZGxlQ29udGV4dFVwZGF0ZShjdHg6IHsgbW9kZTogXCJyb29tXCIgfCBcImRtXCI7IGRtVGFyZ2V0SWQ/OiBzdHJpbmcgfSkge1xyXG4gICAgc2V0QWN0aXZlQ3R4KGN0eCk7XHJcbiAgICBpZiAoIW1pbiAmJiBjdHgubW9kZSA9PT0gXCJkbVwiICYmIGN0eC5kbVRhcmdldElkKSB7XHJcbiAgICAgIG1hcmtSZWFkRm9yKGN0eC5kbVRhcmdldElkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRvZ2dsZSByw6lkdWl0XHJcbiAgZnVuY3Rpb24gdG9nZ2xlTWluKCkge1xyXG4gICAgc2V0TWluKChwcmV2KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5leHQgPSAhcHJldjtcclxuICAgICAgaWYgKCFuZXh0ICYmIGFjdGl2ZUN0eC5tb2RlID09PSBcImRtXCIgJiYgYWN0aXZlQ3R4LmRtVGFyZ2V0SWQpIHtcclxuICAgICAgICBtYXJrUmVhZEZvcihhY3RpdmVDdHguZG1UYXJnZXRJZCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFRvZ2dsZSBub3RpZmljYXRpb25zXHJcbiAgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlTm90aWZ5KCkge1xyXG4gICAgY29uc3QgbmV4dCA9ICFub3RpZnlFbmFibGVkO1xyXG4gICAgaWYgKG5leHQpIHtcclxuICAgICAgY29uc3QgcGVybSA9IGF3YWl0IGVuc3VyZVBlcm1pc3Npb24oKTtcclxuICAgICAgaWYgKHBlcm0gIT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgLy8gUGVybWlzc2lvbiByZWZ1c8OpZTogb24gcmVzdGUgZMOpc2FjdGl2w6lcclxuICAgICAgICBzZXROb3RpZnlFbmFibGVkKGZhbHNlKTtcclxuICAgICAgICBzZXROb3RpZnlFbmFibGVkU3RhdGUoZmFsc2UpO1xyXG4gICAgICAgIGFsZXJ0KFwiQWN0aXZlIGxlcyBub3RpZmljYXRpb25zIGRhbnMgdG9uIG5hdmlnYXRldXIgcG91ciByZWNldm9pciBkZXMgYWxlcnRlcy5cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXROb3RpZnlFbmFibGVkKG5leHQpO1xyXG4gICAgc2V0Tm90aWZ5RW5hYmxlZFN0YXRlKG5leHQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYmFkZ2UgPSB1bnJlYWRUb3RhbCA+IDAgPyAodW5yZWFkVG90YWwgPiA5OSA/IFwiOTkrXCIgOiBTdHJpbmcodW5yZWFkVG90YWwpKSA6IFwiXCI7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcclxuICAgICAgICByaWdodDogcG9zLngsXHJcbiAgICAgICAgYm90dG9tOiBwb3MueSxcclxuICAgICAgICB6SW5kZXg6IDUwLFxyXG4gICAgICAgIHdpZHRoOiBtaW4gPyAzMDAgOiBzaXplLncsXHJcbiAgICAgIH19XHJcbiAgICAgIGNsYXNzTmFtZT1cInNoYWRvdy0yeGxcIlxyXG4gICAgPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgb25Nb3VzZURvd249e29uSGVhZGVyRG93bn1cclxuICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItbW92ZSBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtdC1tZCBweC0zIHB5LTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCJcclxuICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IGhlYWRlckggfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNtIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICA8c3Bhbj5DaGF0PC9zcGFuPlxyXG4gICAgICAgICAge2JhZGdlICYmIChcclxuICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICB0aXRsZT1cIk5vdXZlYXV4IG1lc3NhZ2VzIHByaXbDqXNcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHJvdW5kZWQtZnVsbCAke21pbiA/IFwiYmctcmVkLTUwMFwiIDogXCJiZy1yZWQtNjAwXCJ9IHRleHQtd2hpdGVgfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IG1pbldpZHRoOiAxOCwgaGVpZ2h0OiAxOCwgcGFkZGluZzogXCIwIDVweFwiIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7YmFkZ2V9XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB0b2dnbGVOb3RpZnkoKTsgfX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC13aGl0ZS85MCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQtc20gcHgtMiBweS0xIHJvdW5kZWQgJHtub3RpZnlFbmFibGVkICYmIGNhbk5vdGlmeU5vdygpID8gXCJiZy13aGl0ZS8xMFwiIDogXCJiZy13aGl0ZS81XCJ9YH1cclxuICAgICAgICAgICAgdGl0bGU9e25vdGlmeUVuYWJsZWQgPyBcIkTDqXNhY3RpdmVyIGxlcyBub3RpZmljYXRpb25zXCIgOiBcIkFjdGl2ZXIgbGVzIG5vdGlmaWNhdGlvbnNcIn1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge25vdGlmeUVuYWJsZWQgJiYgY2FuTm90aWZ5Tm93KCkgPyBcIvCflJRcIiA6IFwi8J+UlVwifVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHRvZ2dsZU1pbigpOyB9fSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzkwIGhvdmVyOnRleHQtd2hpdGUgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICB7bWluID8gXCJPdXZyaXJcIiA6IFwiUsOpZHVpcmVcIn1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHshbWluICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJvcmRlci14IGJvcmRlci1iIHJvdW5kZWQtYi1tZCByZWxhdGl2ZVwiIHN0eWxlPXt7IGhlaWdodDogc2l6ZS5oIC0gaGVhZGVySCB9fT5cclxuICAgICAgICAgIDxDaGF0UGFuZWxcclxuICAgICAgICAgICAgcm9vbUlkPXtyb29tSWR9XHJcbiAgICAgICAgICAgIHVzZXJJZD17dXNlcklkfVxyXG4gICAgICAgICAgICB1c2VyPXt1c2VyTmFtZX1cclxuICAgICAgICAgICAgcm9sZT17cm9sZX1cclxuICAgICAgICAgICAgaGVpZ2h0PXtzY3JvbGxlckhlaWdodH1cclxuICAgICAgICAgICAgb25Db250ZXh0VXBkYXRlPXtoYW5kbGVDb250ZXh0VXBkYXRlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIHsvKiBQb2lnbsOpZSBkZSByZWRpbWVuc2lvbm5lbWVudCAqL31cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgb25Nb3VzZURvd249e29uUmVzaXplRG93bn1cclxuICAgICAgICAgICAgdGl0bGU9XCJSZWRpbWVuc2lvbm5lclwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICByaWdodDogNixcclxuICAgICAgICAgICAgICBib3R0b206IDYsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IDE2LFxyXG4gICAgICAgICAgICAgIGhlaWdodDogMTYsXHJcbiAgICAgICAgICAgICAgY3Vyc29yOiBcIm53c2UtcmVzaXplXCIsXHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cclxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgMTNoMTBNNiAxMGg3TTkgN2g0XCIgc3Ryb2tlPVwiIzljYTNhZlwiIHN0cm9rZVdpZHRoPVwiMS41XCIgLz5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJDaGF0UGFuZWwiLCJnZXRSZWFsdGltZUNsaWVudCIsImVuc3VyZVBlcm1pc3Npb24iLCJzaG93Tm90aWZpY2F0aW9uIiwiZ2V0Tm90aWZ5RW5hYmxlZCIsInNldE5vdGlmeUVuYWJsZWQiLCJjYW5Ob3RpZnlOb3ciLCJGbG9hdGluZ0NoYXQiLCJyb29tSWQiLCJ1c2VySWQiLCJ1c2VyTmFtZSIsInJvbGUiLCJydCIsInBvcyIsInNldFBvcyIsIngiLCJ5IiwicmF3IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInNpemUiLCJzZXRTaXplIiwidyIsImgiLCJwYXJzZUludCIsImlzRmluaXRlIiwibWluIiwic2V0TWluIiwibm90aWZ5RW5hYmxlZCIsInNldE5vdGlmeUVuYWJsZWRTdGF0ZSIsImFjdGl2ZUN0eCIsInNldEFjdGl2ZUN0eCIsIm1vZGUiLCJhY3RpdmVDdHhSZWYiLCJjdXJyZW50IiwidW5yZWFkQnlVc2VyIiwic2V0VW5yZWFkQnlVc2VyIiwidW5yZWFkVG90YWwiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhIiwiYiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJTdHJpbmciLCJkcmFnZ2luZyIsInN0YXJ0IiwibXgiLCJteSIsIm9uSGVhZGVyRG93biIsImUiLCJjbGllbnRYIiwiY2xpZW50WSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbk1vdmUiLCJvblVwIiwib25jZSIsImR4IiwiZHkiLCJNYXRoIiwibWF4IiwicmVzaXppbmciLCJyc3RhcnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25SZXNpemVEb3duIiwic3RvcFByb3BhZ2F0aW9uIiwiaGVhZGVySCIsInNjcm9sbGVySGVpZ2h0Iiwic2V0VXNlciIsImlkIiwibmFtZSIsIm9mZnMiLCJzaG91bGROb3RpZnkiLCJmcm9tSWQiLCJjdHgiLCJub3RGb2N1c2VkIiwiZG1UYXJnZXRJZCIsImJ1bXAiLCJwcmV2IiwicHVzaCIsInN1YnNjcmliZSIsImVudiIsInVzZXIiLCJmcm9tTmFtZSIsInRleHQiLCJwYXlsb2FkIiwicGVybSIsInRpdGxlIiwiYm9keSIsInNsaWNlIiwidGFnIiwidGFyZ2V0SWQiLCJ0YXJnZXROYW1lIiwidG9Vc2VySWQiLCJmbmFtZSIsIm5vdGUiLCJtZXNzYWdlIiwidCIsInRhc2siLCJjcmVhdGVkQnkiLCJwcm9qZWN0IiwiZHVlIiwiZHVlQXQiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJmb3JFYWNoIiwib2ZmIiwibWFya1JlYWRGb3IiLCJ1c2VySWRUb0NsZWFyIiwibmV4dCIsImhhbmRsZUNvbnRleHRVcGRhdGUiLCJ0b2dnbGVNaW4iLCJ0b2dnbGVOb3RpZnkiLCJhbGVydCIsImJhZGdlIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiekluZGV4Iiwid2lkdGgiLCJjbGFzc05hbWUiLCJvbk1vdXNlRG93biIsImhlaWdodCIsInNwYW4iLCJtaW5XaWR0aCIsInBhZGRpbmciLCJidXR0b24iLCJvbkNsaWNrIiwib25Db250ZXh0VXBkYXRlIiwiY3Vyc29yIiwib3BhY2l0eSIsInN2ZyIsInZpZXdCb3giLCJwYXRoIiwiZCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Collab/FloatingChat.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Collab/LiveCursors.tsx":
/*!***********************************************!*\
  !*** ./src/components/Collab/LiveCursors.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LiveCursors; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/realtime/provider */ \"(app-pages-browser)/./src/lib/realtime/provider.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction hashColor(s) {\n    let h = 0;\n    for(let i = 0; i < s.length; i++)h = (h << 5) - h + s.charCodeAt(i);\n    const hue = Math.abs(h) % 360;\n    return \"hsl(\".concat(hue, \" 80% 45%)\");\n}\nfunction LiveCursors(param) {\n    let { roomId, userId, userName, role = \"employe\" } = param;\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rt = (0,_lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__.getRealtimeClient)();\n    const [cursors, setCursors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [self, setSelf] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0.5,\n        y: 0.5\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        rt.setUser({\n            id: userId,\n            name: userName,\n            role\n        });\n        const offPresence = rt.subscribe(\"room:\".concat(roomId), \"presence\", (msg)=>{\n            const type = msg === null || msg === void 0 ? void 0 : msg.type;\n            const members = (msg === null || msg === void 0 ? void 0 : msg.members) || [];\n            if (type === \"state\" || type === \"join\" || type === \"leave\") {\n                setCursors((prev)=>{\n                    const next = {};\n                    for (const m of members){\n                        if (m.id === userId) continue;\n                        next[m.id] = prev[m.id] || {\n                            userId: m.id,\n                            name: m.name,\n                            role: m.role,\n                            x: 0.5,\n                            y: 0.5\n                        };\n                    }\n                    return next;\n                });\n            }\n        });\n        const offCursor = rt.subscribe(\"room:\".concat(roomId), \"cursor\", (env)=>{\n            const u = env === null || env === void 0 ? void 0 : env.user;\n            const p = env === null || env === void 0 ? void 0 : env.payload;\n            if (!(u === null || u === void 0 ? void 0 : u.id) || u.id === userId) return;\n            setCursors((prev)=>{\n                var _p_x, _p_y;\n                return {\n                    ...prev,\n                    [u.id]: {\n                        userId: u.id,\n                        name: u.name,\n                        role: u.role,\n                        x: Number((_p_x = p === null || p === void 0 ? void 0 : p.x) !== null && _p_x !== void 0 ? _p_x : 0.5),\n                        y: Number((_p_y = p === null || p === void 0 ? void 0 : p.y) !== null && _p_y !== void 0 ? _p_y : 0.5)\n                    }\n                };\n            });\n        });\n        let raf = 0;\n        const onMove = (e)=>{\n            cancelAnimationFrame(raf);\n            raf = requestAnimationFrame(async ()=>{\n                const el = containerRef.current;\n                if (!el) return;\n                const rect = el.getBoundingClientRect();\n                const x = Math.min(1, Math.max(0, (e.clientX - rect.left) / rect.width));\n                const y = Math.min(1, Math.max(0, (e.clientY - rect.top) / rect.height));\n                setSelf({\n                    x,\n                    y\n                }); // Affichage local immédiat\n                await rt.sendCursor(\"room:\".concat(roomId), x, y); // Envoi aux autres\n            });\n        };\n        const el = containerRef.current;\n        el === null || el === void 0 ? void 0 : el.addEventListener(\"mousemove\", onMove);\n        return ()=>{\n            offPresence === null || offPresence === void 0 ? void 0 : offPresence();\n            offCursor === null || offCursor === void 0 ? void 0 : offCursor();\n            el === null || el === void 0 ? void 0 : el.removeEventListener(\"mousemove\", onMove);\n            cancelAnimationFrame(raf);\n        };\n    }, [\n        roomId,\n        role,\n        rt,\n        userId,\n        userName\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: \"relative\",\n            border: \"1px solid #e5e7eb\",\n            borderRadius: 8,\n            height: 280,\n            userSelect: \"none\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    inset: 0,\n                    padding: 8,\n                    color: \"#6b7280\",\n                    pointerEvents: \"none\"\n                },\n                children: [\n                    \"Bouge ta souris ici pour partager ta position.\",\n                    Object.keys(cursors).length === 0 ? \" (Tu vois ton curseur \\xab Moi \\xbb m\\xeame si tu es seul)\" : \" Les autres verront ton curseur et tu verras les leurs.\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                lineNumber: 100,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    left: \"\".concat(self.x * 100, \"%\"),\n                    top: \"\".concat(self.y * 100, \"%\"),\n                    transform: \"translate(-2px, -18px)\",\n                    pointerEvents: \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: 0,\n                            height: 0,\n                            borderLeft: \"6px solid transparent\",\n                            borderRight: \"6px solid transparent\",\n                            borderTop: \"10px solid #2563eb\",\n                            filter: \"drop-shadow(0 1px 1px rgba(0,0,0,.2))\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                        lineNumber: 115,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            background: \"#2563eb\",\n                            color: \"white\",\n                            padding: \"2px 6px\",\n                            borderRadius: 6,\n                            fontSize: 12,\n                            marginTop: 2,\n                            whiteSpace: \"nowrap\"\n                        },\n                        children: [\n                            \"Moi \\xb7 \",\n                            role\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                lineNumber: 106,\n                columnNumber: 7\n            }, this),\n            Object.values(cursors).map((c)=>{\n                const color = hashColor(c.userId);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        position: \"absolute\",\n                        left: \"\".concat(c.x * 100, \"%\"),\n                        top: \"\".concat(c.y * 100, \"%\"),\n                        transform: \"translate(-2px, -18px)\",\n                        pointerEvents: \"none\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                width: 0,\n                                height: 0,\n                                borderLeft: \"6px solid transparent\",\n                                borderRight: \"6px solid transparent\",\n                                borderTop: \"10px solid \".concat(color),\n                                filter: \"drop-shadow(0 1px 1px rgba(0,0,0,.2))\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                            lineNumber: 126,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                background: color,\n                                color: \"white\",\n                                padding: \"2px 6px\",\n                                borderRadius: 6,\n                                fontSize: 12,\n                                marginTop: 2,\n                                whiteSpace: \"nowrap\"\n                            },\n                            children: [\n                                c.name,\n                                \" \\xb7 \",\n                                c.role\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, c.userId, true, {\n                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n                    lineNumber: 125,\n                    columnNumber: 11\n                }, this);\n            })\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\LiveCursors.tsx\",\n        lineNumber: 99,\n        columnNumber: 5\n    }, this);\n}\n_s(LiveCursors, \"zUiXWBBYgsV4rElOfY2IAWQSsXI=\");\n_c = LiveCursors;\nvar _c;\n$RefreshReg$(_c, \"LiveCursors\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9MaXZlQ3Vyc29ycy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVvRDtBQUNZO0FBYWhFLFNBQVNJLFVBQVVDLENBQVM7SUFDMUIsSUFBSUMsSUFBSTtJQUNSLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJRixFQUFFRyxNQUFNLEVBQUVELElBQUtELElBQUksQ0FBQ0EsS0FBSyxLQUFLQSxJQUFJRCxFQUFFSSxVQUFVLENBQUNGO0lBQ25FLE1BQU1HLE1BQU1DLEtBQUtDLEdBQUcsQ0FBQ04sS0FBSztJQUMxQixPQUFPLE9BQVcsT0FBSkksS0FBSTtBQUNwQjtBQUVlLFNBQVNHLFlBQVksS0FVbkM7UUFWbUMsRUFDbENDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLE9BQU8sU0FBaUIsRUFNekIsR0FWbUM7O0lBV2xDLE1BQU1DLGVBQWVqQiw2Q0FBTUEsQ0FBd0I7SUFDbkQsTUFBTWtCLEtBQUtoQix5RUFBaUJBO0lBQzVCLE1BQU0sQ0FBQ2lCLFNBQVNDLFdBQVcsR0FBR25CLCtDQUFRQSxDQUF5QixDQUFDO0lBQ2hFLE1BQU0sQ0FBQ29CLE1BQU1DLFFBQVEsR0FBR3JCLCtDQUFRQSxDQUEyQjtRQUFFc0IsR0FBRztRQUFLQyxHQUFHO0lBQUk7SUFFNUV6QixnREFBU0EsQ0FBQztRQUNSbUIsR0FBR08sT0FBTyxDQUFDO1lBQUVDLElBQUlaO1lBQVFhLE1BQU1aO1lBQVVDO1FBQUs7UUFFOUMsTUFBTVksY0FBY1YsR0FBR1csU0FBUyxDQUFDLFFBQWUsT0FBUGhCLFNBQVUsWUFBWSxDQUFDaUI7WUFDOUQsTUFBTUMsT0FBT0QsZ0JBQUFBLDBCQUFBQSxJQUFLQyxJQUFJO1lBQ3RCLE1BQU1DLFVBQVdGLENBQUFBLGdCQUFBQSwwQkFBQUEsSUFBS0UsT0FBTyxLQUFJLEVBQUU7WUFDbkMsSUFBSUQsU0FBUyxXQUFXQSxTQUFTLFVBQVVBLFNBQVMsU0FBUztn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Qzs7Ozs7O3NDQUNoTSw4REFBQ2pCOzRCQUFJRSxPQUFPO2dDQUFFZ0IsWUFBWVQ7Z0NBQU9BLE9BQU87Z0NBQVNELFNBQVM7Z0NBQVdILGNBQWM7Z0NBQUdjLFVBQVU7Z0NBQUlDLFdBQVc7Z0NBQUdDLFlBQVk7NEJBQVM7O2dDQUNwSUcsRUFBRTVELElBQUk7Z0NBQUM7Z0NBQUk0RCxFQUFFdkUsSUFBSTs7Ozs7Ozs7bUJBSFp1RSxFQUFFekUsTUFBTTs7Ozs7WUFPdEI7Ozs7Ozs7QUFHTjtHQS9Hd0JGO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9MaXZlQ3Vyc29ycy50c3g/M2RiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBnZXRSZWFsdGltZUNsaWVudCB9IGZyb20gXCIuLi8uLi9saWIvcmVhbHRpbWUvcHJvdmlkZXJcIjtcclxuXHJcbi8vIFR5cGUgbG9jYWxcclxudHlwZSBSb2xlID0gXCJjaGVmXCIgfCBcIm1hbmFnZXJcIiB8IFwiYXNzaXN0YW50XCIgfCBcImVtcGxveWVcIjtcclxuXHJcbnR5cGUgQ3Vyc29yID0ge1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICByb2xlOiBSb2xlO1xyXG4gIHg6IG51bWJlcjsgLy8gMC4uMVxyXG4gIHk6IG51bWJlcjsgLy8gMC4uMVxyXG59O1xyXG5cclxuZnVuY3Rpb24gaGFzaENvbG9yKHM6IHN0cmluZykge1xyXG4gIGxldCBoID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIGggPSAoaCA8PCA1KSAtIGggKyBzLmNoYXJDb2RlQXQoaSk7XHJcbiAgY29uc3QgaHVlID0gTWF0aC5hYnMoaCkgJSAzNjA7XHJcbiAgcmV0dXJuIGBoc2woJHtodWV9IDgwJSA0NSUpYDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGl2ZUN1cnNvcnMoe1xyXG4gIHJvb21JZCxcclxuICB1c2VySWQsXHJcbiAgdXNlck5hbWUsXHJcbiAgcm9sZSA9IFwiZW1wbG95ZVwiIGFzIFJvbGUsXHJcbn06IHtcclxuICByb29tSWQ6IHN0cmluZztcclxuICB1c2VySWQ6IHN0cmluZztcclxuICB1c2VyTmFtZTogc3RyaW5nO1xyXG4gIHJvbGU/OiBSb2xlO1xyXG59KSB7XHJcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgcnQgPSBnZXRSZWFsdGltZUNsaWVudCgpO1xyXG4gIGNvbnN0IFtjdXJzb3JzLCBzZXRDdXJzb3JzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIEN1cnNvcj4+KHt9KTtcclxuICBjb25zdCBbc2VsZiwgc2V0U2VsZl0gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+KHsgeDogMC41LCB5OiAwLjUgfSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBydC5zZXRVc2VyKHsgaWQ6IHVzZXJJZCwgbmFtZTogdXNlck5hbWUsIHJvbGUgfSk7XHJcblxyXG4gICAgY29uc3Qgb2ZmUHJlc2VuY2UgPSBydC5zdWJzY3JpYmUoYHJvb206JHtyb29tSWR9YCwgXCJwcmVzZW5jZVwiLCAobXNnKSA9PiB7XHJcbiAgICAgIGNvbnN0IHR5cGUgPSBtc2c/LnR5cGU7XHJcbiAgICAgIGNvbnN0IG1lbWJlcnMgPSAobXNnPy5tZW1iZXJzIHx8IFtdKSBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcm9sZTogUm9sZSB9PjtcclxuICAgICAgaWYgKHR5cGUgPT09IFwic3RhdGVcIiB8fCB0eXBlID09PSBcImpvaW5cIiB8fCB0eXBlID09PSBcImxlYXZlXCIpIHtcclxuICAgICAgICBzZXRDdXJzb3JzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXh0OiBSZWNvcmQ8c3RyaW5nLCBDdXJzb3I+ID0ge307XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IG0gb2YgbWVtYmVycykge1xyXG4gICAgICAgICAgICBpZiAobS5pZCA9PT0gdXNlcklkKSBjb250aW51ZTtcclxuICAgICAgICAgICAgbmV4dFttLmlkXSA9IHByZXZbbS5pZF0gfHwgeyB1c2VySWQ6IG0uaWQsIG5hbWU6IG0ubmFtZSwgcm9sZTogbS5yb2xlLCB4OiAwLjUsIHk6IDAuNSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IG9mZkN1cnNvciA9IHJ0LnN1YnNjcmliZShgcm9vbToke3Jvb21JZH1gLCBcImN1cnNvclwiLCAoZW52KSA9PiB7XHJcbiAgICAgIGNvbnN0IHUgPSBlbnY/LnVzZXI7XHJcbiAgICAgIGNvbnN0IHAgPSBlbnY/LnBheWxvYWQ7XHJcbiAgICAgIGlmICghdT8uaWQgfHwgdS5pZCA9PT0gdXNlcklkKSByZXR1cm47XHJcbiAgICAgIHNldEN1cnNvcnMoKHByZXYpID0+ICh7XHJcbiAgICAgICAgLi4ucHJldixcclxuICAgICAgICBbdS5pZF06IHtcclxuICAgICAgICAgIHVzZXJJZDogdS5pZCxcclxuICAgICAgICAgIG5hbWU6IHUubmFtZSxcclxuICAgICAgICAgIHJvbGU6IHUucm9sZSxcclxuICAgICAgICAgIHg6IE51bWJlcihwPy54ID8/IDAuNSksXHJcbiAgICAgICAgICB5OiBOdW1iZXIocD8ueSA/PyAwLjUpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCByYWYgPSAwO1xyXG4gICAgY29uc3Qgb25Nb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcclxuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xyXG4gICAgICAgIGlmICghZWwpIHJldHVybjtcclxuICAgICAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIChlLmNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCkpO1xyXG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCAoZS5jbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQpKTtcclxuICAgICAgICBzZXRTZWxmKHsgeCwgeSB9KTsgLy8gQWZmaWNoYWdlIGxvY2FsIGltbcOpZGlhdFxyXG4gICAgICAgIGF3YWl0IHJ0LnNlbmRDdXJzb3IoYHJvb206JHtyb29tSWR9YCwgeCwgeSk7IC8vIEVudm9pIGF1eCBhdXRyZXNcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZWwgPSBjb250YWluZXJSZWYuY3VycmVudDtcclxuICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW92ZSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgb2ZmUHJlc2VuY2U/LigpO1xyXG4gICAgICBvZmZDdXJzb3I/LigpO1xyXG4gICAgICBlbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbk1vdmUpO1xyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xyXG4gICAgfTtcclxuICB9LCBbcm9vbUlkLCByb2xlLCBydCwgdXNlcklkLCB1c2VyTmFtZV0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiByZWY9e2NvbnRhaW5lclJlZn0gc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgYm9yZGVyOiBcIjFweCBzb2xpZCAjZTVlN2ViXCIsIGJvcmRlclJhZGl1czogOCwgaGVpZ2h0OiAyODAsIHVzZXJTZWxlY3Q6IFwibm9uZVwiIH19PlxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGluc2V0OiAwLCBwYWRkaW5nOiA4LCBjb2xvcjogXCIjNmI3MjgwXCIsIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiIH19PlxyXG4gICAgICAgIEJvdWdlIHRhIHNvdXJpcyBpY2kgcG91ciBwYXJ0YWdlciB0YSBwb3NpdGlvbi5cclxuICAgICAgICB7T2JqZWN0LmtleXMoY3Vyc29ycykubGVuZ3RoID09PSAwID8gXCIgKFR1IHZvaXMgdG9uIGN1cnNldXIgwqsgTW9pIMK7IG3Dqm1lIHNpIHR1IGVzIHNldWwpXCIgOiBcIiBMZXMgYXV0cmVzIHZlcnJvbnQgdG9uIGN1cnNldXIgZXQgdHUgdmVycmFzIGxlcyBsZXVycy5cIn1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogVG9uIHByb3ByZSBjdXJzZXVyIChsb2NhbCBwcmV2aWV3KSAqL31cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgbGVmdDogYCR7c2VsZi54ICogMTAwfSVgLFxyXG4gICAgICAgICAgdG9wOiBgJHtzZWxmLnkgKiAxMDB9JWAsXHJcbiAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0ycHgsIC0xOHB4KVwiLFxyXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IDAsIGhlaWdodDogMCwgYm9yZGVyTGVmdDogXCI2cHggc29saWQgdHJhbnNwYXJlbnRcIiwgYm9yZGVyUmlnaHQ6IFwiNnB4IHNvbGlkIHRyYW5zcGFyZW50XCIsIGJvcmRlclRvcDogXCIxMHB4IHNvbGlkICMyNTYzZWJcIiwgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgMXB4IDFweCByZ2JhKDAsMCwwLC4yKSlcIiB9fSAvPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgYmFja2dyb3VuZDogXCIjMjU2M2ViXCIsIGNvbG9yOiBcIndoaXRlXCIsIHBhZGRpbmc6IFwiMnB4IDZweFwiLCBib3JkZXJSYWRpdXM6IDYsIGZvbnRTaXplOiAxMiwgbWFyZ2luVG9wOiAyLCB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiIH19PlxyXG4gICAgICAgICAgTW9pIMK3IHtyb2xlfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBDdXJzb3JzIGRlcyBhdXRyZXMgKi99XHJcbiAgICAgIHtPYmplY3QudmFsdWVzKGN1cnNvcnMpLm1hcCgoYykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gaGFzaENvbG9yKGMudXNlcklkKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBrZXk9e2MudXNlcklkfSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBsZWZ0OiBgJHtjLnggKiAxMDB9JWAsIHRvcDogYCR7Yy55ICogMTAwfSVgLCB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0ycHgsIC0xOHB4KVwiLCBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIiB9fT5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBib3JkZXJMZWZ0OiBcIjZweCBzb2xpZCB0cmFuc3BhcmVudFwiLCBib3JkZXJSaWdodDogXCI2cHggc29saWQgdHJhbnNwYXJlbnRcIiwgYm9yZGVyVG9wOiBgMTBweCBzb2xpZCAke2NvbG9yfWAsIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDFweCAxcHggcmdiYSgwLDAsMCwuMikpXCIgfX0gLz5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBiYWNrZ3JvdW5kOiBjb2xvciwgY29sb3I6IFwid2hpdGVcIiwgcGFkZGluZzogXCIycHggNnB4XCIsIGJvcmRlclJhZGl1czogNiwgZm9udFNpemU6IDEyLCBtYXJnaW5Ub3A6IDIsIHdoaXRlU3BhY2U6IFwibm93cmFwXCIgfX0+XHJcbiAgICAgICAgICAgICAge2MubmFtZX0gwrcge2Mucm9sZX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgICB9KX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJnZXRSZWFsdGltZUNsaWVudCIsImhhc2hDb2xvciIsInMiLCJoIiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJodWUiLCJNYXRoIiwiYWJzIiwiTGl2ZUN1cnNvcnMiLCJyb29tSWQiLCJ1c2VySWQiLCJ1c2VyTmFtZSIsInJvbGUiLCJjb250YWluZXJSZWYiLCJydCIsImN1cnNvcnMiLCJzZXRDdXJzb3JzIiwic2VsZiIsInNldFNlbGYiLCJ4IiwieSIsInNldFVzZXIiLCJpZCIsIm5hbWUiLCJvZmZQcmVzZW5jZSIsInN1YnNjcmliZSIsIm1zZyIsInR5cGUiLCJtZW1iZXJzIiwicHJldiIsIm5leHQiLCJtIiwib2ZmQ3Vyc29yIiwiZW52IiwidSIsInVzZXIiLCJwIiwicGF5bG9hZCIsIk51bWJlciIsInJhZiIsIm9uTW92ZSIsImUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsIiwiY3VycmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtaW4iLCJtYXgiLCJjbGllbnRYIiwibGVmdCIsIndpZHRoIiwiY2xpZW50WSIsInRvcCIsImhlaWdodCIsInNlbmRDdXJzb3IiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsInJlZiIsInN0eWxlIiwicG9zaXRpb24iLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJ1c2VyU2VsZWN0IiwiaW5zZXQiLCJwYWRkaW5nIiwiY29sb3IiLCJwb2ludGVyRXZlbnRzIiwiT2JqZWN0Iiwia2V5cyIsInRyYW5zZm9ybSIsImJvcmRlckxlZnQiLCJib3JkZXJSaWdodCIsImJvcmRlclRvcCIsImZpbHRlciIsImJhY2tncm91bmQiLCJmb250U2l6ZSIsIm1hcmdpblRvcCIsIndoaXRlU3BhY2UiLCJ2YWx1ZXMiLCJtYXAiLCJjIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Collab/LiveCursors.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Collab/MemberPicker.tsx":
/*!************************************************!*\
  !*** ./src/components/Collab/MemberPicker.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MemberPicker; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction MemberPicker(param) {\n    let { onSelect, onClose, title = \"Choisir un destinataire\" } = param;\n    _s();\n    const [members, setMembers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [q, setQ] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            const res = await fetch(\"/api/team/directory\", {\n                cache: \"no-store\"\n            });\n            const data = await res.json();\n            setMembers((data === null || data === void 0 ? void 0 : data.items) || []);\n        })();\n    }, []);\n    const filtered = members.filter((m)=>{\n        const s = q.toLowerCase().trim();\n        if (!s) return true;\n        return [\n            m.name,\n            m.email,\n            m.title,\n            m.role\n        ].some((x)=>String(x).toLowerCase().includes(s));\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black/30 z-[60]\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute left-1/2 top-16 -translate-x-1/2 w-[420px] bg-white rounded-lg shadow-xl border\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between px-3 py-2 border-b\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"font-semibold\",\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                            lineNumber: 41,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"px-2 py-1 rounded hover:bg-gray-100\",\n                            children: \"✕\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                            lineNumber: 42,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                    lineNumber: 40,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            value: q,\n                            onChange: (e)=>setQ(e.target.value),\n                            placeholder: \"Rechercher par nom, email, r\\xf4le…\",\n                            className: \"w-full border rounded px-2 py-1 mb-2\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                            lineNumber: 45,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            className: \"max-h-72 overflow-auto\",\n                            children: [\n                                filtered.map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                onSelect(m);\n                                                onClose();\n                                            },\n                                            className: \"w-full text-left p-2 rounded hover:bg-gray-50 flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"w-2 h-2 rounded-full bg-gray-300\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                                    lineNumber: 58,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"font-medium\",\n                                                            children: [\n                                                                m.name,\n                                                                \" \",\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs text-gray-500\",\n                                                                    children: [\n                                                                        \"\\xb7 \",\n                                                                        m.role\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                                                    lineNumber: 60,\n                                                                    columnNumber: 59\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                                            lineNumber: 60,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-500\",\n                                                            children: [\n                                                                m.title,\n                                                                \" — \",\n                                                                m.email\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                                            lineNumber: 61,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                                    lineNumber: 59,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                            lineNumber: 54,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, m.id, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                        lineNumber: 53,\n                                        columnNumber: 15\n                                    }, this)),\n                                filtered.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"text-sm text-gray-500 p-2\",\n                                    children: \"Aucun r\\xe9sultat\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                                    lineNumber: 66,\n                                    columnNumber: 39\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                            lineNumber: 51,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n                    lineNumber: 44,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n            lineNumber: 36,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Collab\\\\MemberPicker.tsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, this);\n}\n_s(MemberPicker, \"/lvul8Qqd/v5HwMVIU6t7RusgGk=\");\n_c = MemberPicker;\nvar _c;\n$RefreshReg$(_c, \"MemberPicker\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9NZW1iZXJQaWNrZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU0QztBQUs3QixTQUFTRSxhQUFhLEtBUXBDO1FBUm9DLEVBQ25DQyxRQUFRLEVBQ1JDLE9BQU8sRUFDUEMsUUFBUSx5QkFBeUIsRUFLbEMsR0FSb0M7O0lBU25DLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHTiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ25ELE1BQU0sQ0FBQ08sR0FBR0MsS0FBSyxHQUFHUiwrQ0FBUUEsQ0FBQztJQUUzQkQsZ0RBQVNBLENBQUM7UUFDUDtZQUNDLE1BQU1VLE1BQU0sTUFBTUMsTUFBTSx1QkFBdUI7Z0JBQUVDLE9BQU87WUFBVztZQUNuRSxNQUFNQyxPQUFPLE1BQU1ILElBQUlJLElBQUk7WUFDM0JQLFdBQVdNLENBQUFBLGlCQUFBQSwyQkFBQUEsS0FBTUUsS0FBSyxLQUFJLEVBQUU7UUFDOUI7SUFDRixHQUFHLEVBQUU7SUFFTCxNQUFNQyxXQUFXVixRQUFRVyxNQUFNLENBQUMsQ0FBQ0M7UUFDL0IsTUFBTUMsSUFBSVgsRUFBRVksV0FBVyxHQUFHQyxJQUFJO1FBQzlCLElBQUksQ0FBQ0YsR0FBRyxPQUFPO1FBQ2YsT0FBTztZQUFDRCxFQUFFSSxJQUFJO1lBQUVKLEVBQUVLLEtBQUs7WUFBRUwsRUFBRWIsS0FBSztZQUFFYSxFQUFFTSxJQUFJO1NBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUNDLElBQU1DLE9BQU9ELEdBQUdOLFdBQVcsR0FBR1EsUUFBUSxDQUFDVDtJQUN6RjtJQUVBLHFCQUNFLDhEQUFDVTtRQUFJQyxXQUFVO1FBQW1DQyxTQUFTM0I7a0JBQ3pELDRFQUFDeUI7WUFDQ0MsV0FBVTtZQUNWQyxTQUFTLENBQUNDLElBQU1BLEVBQUVDLGVBQWU7OzhCQUVqQyw4REFBQ0o7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FBaUJ6Qjs7Ozs7O3NDQUNoQyw4REFBQzZCOzRCQUFPSCxTQUFTM0I7NEJBQVMwQixXQUFVO3NDQUFzQzs7Ozs7Ozs7Ozs7OzhCQUU1RSw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDSzs0QkFDQ0MsT0FBTzVCOzRCQUNQNkIsVUFBVSxDQUFDTCxJQUFNdkIsS0FBS3VCLEVBQUVNLE1BQU0sQ0FBQ0YsS0FBSzs0QkFDcENHLGFBQVk7NEJBQ1pULFdBQVU7Ozs7OztzQ0FFWiw4REFBQ1U7NEJBQUdWLFdBQVU7O2dDQUNYZCxTQUFTeUIsR0FBRyxDQUFDLENBQUN2QixrQkFDYiw4REFBQ3dCO2tEQUNDLDRFQUFDUjs0Q0FDQ0gsU0FBUztnREFBUTVCLFNBQVNlO2dEQUFJZDs0Q0FBVzs0Q0FDekMwQixXQUFVOzs4REFFViw4REFBQ2E7b0RBQUtiLFdBQVU7Ozs7Ozs4REFDaEIsOERBQUNEO29EQUFJQyxXQUFVOztzRUFDYiw4REFBQ0Q7NERBQUlDLFdBQVU7O2dFQUFlWixFQUFFSSxJQUFJO2dFQUFDOzhFQUFDLDhEQUFDcUI7b0VBQUtiLFdBQVU7O3dFQUF3Qjt3RUFBR1osRUFBRU0sSUFBSTs7Ozs7Ozs7Ozs7OztzRUFDdkYsOERBQUNLOzREQUFJQyxXQUFVOztnRUFBeUJaLEVBQUViLEtBQUs7Z0VBQUM7Z0VBQUlhLEVBQUVLLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7dUNBUnhETCxFQUFFMEIsRUFBRTs7Ozs7Z0NBYWQ1QixTQUFTNkIsTUFBTSxLQUFLLG1CQUFLLDhEQUFDSDtvQ0FBR1osV0FBVTs4Q0FBNEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTWhGO0dBaEV3QjVCO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0NvbGxhYi9NZW1iZXJQaWNrZXIudHN4PzdhODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG50eXBlIFJvbGUgPSBcImNoZWZcIiB8IFwibWFuYWdlclwiIHwgXCJhc3Npc3RhbnRcIiB8IFwiZW1wbG95ZVwiO1xyXG50eXBlIE1lbWJlciA9IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyByb2xlOiBSb2xlOyB0aXRsZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZW1iZXJQaWNrZXIoe1xyXG4gIG9uU2VsZWN0LFxyXG4gIG9uQ2xvc2UsXHJcbiAgdGl0bGUgPSBcIkNob2lzaXIgdW4gZGVzdGluYXRhaXJlXCIsXHJcbn06IHtcclxuICBvblNlbGVjdDogKG06IE1lbWJlcikgPT4gdm9pZDtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG4gIHRpdGxlPzogc3RyaW5nO1xyXG59KSB7XHJcbiAgY29uc3QgW21lbWJlcnMsIHNldE1lbWJlcnNdID0gdXNlU3RhdGU8TWVtYmVyW10+KFtdKTtcclxuICBjb25zdCBbcSwgc2V0UV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS90ZWFtL2RpcmVjdG9yeVwiLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBzZXRNZW1iZXJzKGRhdGE/Lml0ZW1zIHx8IFtdKTtcclxuICAgIH0pKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBmaWx0ZXJlZCA9IG1lbWJlcnMuZmlsdGVyKChtKSA9PiB7XHJcbiAgICBjb25zdCBzID0gcS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcclxuICAgIGlmICghcykgcmV0dXJuIHRydWU7XHJcbiAgICByZXR1cm4gW20ubmFtZSwgbS5lbWFpbCwgbS50aXRsZSwgbS5yb2xlXS5zb21lKCh4KSA9PiBTdHJpbmcoeCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzKSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svMzAgei1bNjBdXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTEvMiB0b3AtMTYgLXRyYW5zbGF0ZS14LTEvMiB3LVs0MjBweF0gYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgYm9yZGVyXCJcclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTMgcHktMiBib3JkZXItYlwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e3RpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTEwMFwiPuKclTwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdmFsdWU9e3F9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUmVjaGVyY2hlciBwYXIgbm9tLCBlbWFpbCwgcsO0bGXigKZcIlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIG1iLTJcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtYXgtaC03MiBvdmVyZmxvdy1hdXRvXCI+XHJcbiAgICAgICAgICAgIHtmaWx0ZXJlZC5tYXAoKG0pID0+IChcclxuICAgICAgICAgICAgICA8bGkga2V5PXttLmlkfT5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBvblNlbGVjdChtKTsgb25DbG9zZSgpOyB9fVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHAtMiByb3VuZGVkIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnttLm5hbWV9IDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPsK3IHttLnJvbGV9PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e20udGl0bGV9IOKAlCB7bS5lbWFpbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgICAge2ZpbHRlcmVkLmxlbmd0aCA9PT0gMCAmJiA8bGkgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIHAtMlwiPkF1Y3VuIHLDqXN1bHRhdDwvbGk+fVxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiTWVtYmVyUGlja2VyIiwib25TZWxlY3QiLCJvbkNsb3NlIiwidGl0bGUiLCJtZW1iZXJzIiwic2V0TWVtYmVycyIsInEiLCJzZXRRIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsImRhdGEiLCJqc29uIiwiaXRlbXMiLCJmaWx0ZXJlZCIsImZpbHRlciIsIm0iLCJzIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwibmFtZSIsImVtYWlsIiwicm9sZSIsInNvbWUiLCJ4IiwiU3RyaW5nIiwiaW5jbHVkZXMiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImJ1dHRvbiIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwidWwiLCJtYXAiLCJsaSIsInNwYW4iLCJpZCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Collab/MemberPicker.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Sidebar.tsx":
/*!************************************!*\
  !*** ./src/components/Sidebar.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sidebar: function() { return /* binding */ Sidebar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @store */ \"(app-pages-browser)/./src/store.ts\");\n/* harmony import */ var _Collab_CollabPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Collab/CollabPanel */ \"(app-pages-browser)/./src/components/Collab/CollabPanel.tsx\");\n/* harmony import */ var _Team_TeamPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Team/TeamPanel */ \"(app-pages-browser)/./src/components/Team/TeamPanel.tsx\");\n/* harmony import */ var _Tasks_TasksPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Tasks/TasksPanel */ \"(app-pages-browser)/./src/components/Tasks/TasksPanel.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/inbox.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/square-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/link-2.js\");\n/* harmony import */ var _barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CheckSquare,FileText,Inbox,Link2,LogOut,Send,Star,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* __next_internal_client_entry_do_not_use__ Sidebar,default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nfunction Sidebar(param) {\n    let { onFolderChange, currentFolder, isConnected, userInfo, onRefresh } = param;\n    _s();\n    const { focusInbox } = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useUI)();\n    const [gmailConnected, setGmailConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showCollab, setShowCollab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTeam, setShowTeam] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTasks, setShowTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Détection gmail pour la section \"Comptes\" uniquement\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const res = await fetch(\"/api/google/me\");\n                setGmailConnected(res.ok);\n            } catch (e) {\n                setGmailConnected(false);\n            }\n        })();\n    }, []);\n    async function disconnect() {\n        try {\n            await fetch(\"/api/google/disconnect\", {\n                method: \"POST\"\n            });\n            setGmailConnected(false);\n            alert(\"D\\xe9connect\\xe9 de Gmail.\");\n            location.reload();\n        } catch (e) {}\n    }\n    const folderNavEnabled = Boolean(isConnected); // IMAP ou Gmail\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n        className: \"panel h-full p-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FolderButton, {\n                        active: (currentFolder === null || currentFolder === void 0 ? void 0 : currentFolder.toUpperCase()) === \"INBOX\",\n                        disabled: !folderNavEnabled,\n                        title: !folderNavEnabled ? \"Connectez un compte email d'abord\" : \"Bo\\xeete de r\\xe9ception\",\n                        onClick: ()=>onFolderChange === null || onFolderChange === void 0 ? void 0 : onFolderChange(\"INBOX\"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 52,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Bo\\xeete de r\\xe9ception\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 53,\n                                columnNumber: 11\n                            }, this),\n                            (currentFolder === null || currentFolder === void 0 ? void 0 : currentFolder.toUpperCase()) === \"INBOX\" && focusInbox && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-auto text-xs bg-blue-600 text-white px-1 rounded\",\n                                children: \"Focus\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 55,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FolderItem, {\n                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                            lineNumber: 59,\n                            columnNumber: 27\n                        }, void 0),\n                        label: \"Favoris\",\n                        folderId: \"STARRED\",\n                        currentFolder: currentFolder,\n                        onFolderChange: onFolderChange,\n                        enabled: folderNavEnabled\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FolderItem, {\n                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 27\n                        }, void 0),\n                        label: \"Envoy\\xe9s\",\n                        folderId: \"SENT\",\n                        currentFolder: currentFolder,\n                        onFolderChange: onFolderChange,\n                        enabled: folderNavEnabled\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FolderItem, {\n                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 27\n                        }, void 0),\n                        label: \"Brouillons\",\n                        folderId: \"DRAFTS\",\n                        currentFolder: currentFolder,\n                        onFolderChange: onFolderChange,\n                        enabled: folderNavEnabled\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-3\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 63,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md hover:bg-gray-100\",\n                        onClick: ()=>setShowCollab(true),\n                        title: \"Ouvrir la collaboration en temps r\\xe9el\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"w-4 h-4 inline-flex items-center justify-center\",\n                                children: \"\\uD83D\\uDD34\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 11\n                            }, this),\n                            \"Collaboration (temps r\\xe9el)\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md hover:bg-gray-100\",\n                        onClick: ()=>setShowTasks(true),\n                        title: \"Ajouter/voir des t\\xe2ches\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 72,\n                                columnNumber: 11\n                            }, this),\n                            \" T\\xe2ches\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md hover:bg-gray-100\",\n                        onClick: ()=>setShowTeam(true),\n                        title: \"Voir l'\\xe9quipe\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 76,\n                                columnNumber: 11\n                            }, this),\n                            \" \\xc9quipe\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-3\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 79,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-2 text-xs uppercase text-[var(--muted)] mb-1\",\n                        children: \"Comptes\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 80,\n                        columnNumber: 9\n                    }, this),\n                    gmailConnected === false && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                        href: \"/api/google/auth\",\n                        className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md hover:bg-gray-100 text-blue-600\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, this),\n                            \" Connecter Gmail\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 83,\n                        columnNumber: 11\n                    }, this),\n                    gmailConnected === true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full flex items-center gap-2 px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-green-500 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Gmail connect\\xe9\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: disconnect,\n                                className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md hover:bg-gray-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckSquare_FileText_Inbox_Link2_LogOut_Send_Star_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 95,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Se d\\xe9connecter\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 94,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this),\n            showCollab && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Collab_CollabPanel__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                roomId: \"demo-room\",\n                userName: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.userName) || \"Moi\",\n                role: \"manager\",\n                onClose: ()=>setShowCollab(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this),\n            showTeam && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Team_TeamPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                orgId: \"company-1\",\n                currentUserName: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.userName) || \"Moi\",\n                currentUserRole: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.role) || \"chef\",\n                onClose: ()=>setShowTeam(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 106,\n                columnNumber: 9\n            }, this),\n            showTasks && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Tasks_TasksPanel__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                currentUser: {\n                    id: \"u-bob\",\n                    name: \"Bob\",\n                    role: \"employe\"\n                },\n                onClose: ()=>setShowTasks(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 110,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n        lineNumber: 44,\n        columnNumber: 5\n    }, this);\n}\n_s(Sidebar, \"lH//XvNRYj8ql0P9Qphu0IVmCWY=\", false, function() {\n    return [\n        _store__WEBPACK_IMPORTED_MODULE_2__.useUI\n    ];\n});\n_c = Sidebar;\nfunction FolderButton(param) {\n    let { active, disabled, title, onClick, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md transition-colors \".concat(active ? \"bg-gray-900 text-white\" : disabled ? \"text-gray-400 cursor-not-allowed\" : \"hover:bg-gray-100\"),\n        onClick: disabled ? undefined : onClick,\n        disabled: disabled,\n        title: title,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n        lineNumber: 118,\n        columnNumber: 5\n    }, this);\n}\n_c1 = FolderButton;\nfunction FolderItem(param) {\n    let { icon, label, folderId, currentFolder, onFolderChange, enabled } = param;\n    const isActive = (currentFolder || \"\").toUpperCase() === folderId;\n    const disabled = !enabled;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: \"w-full flex items-center gap-2 px-2 py-2 rounded-md transition-colors \".concat(isActive ? \"bg-gray-900 text-white\" : disabled ? \"text-gray-400 cursor-not-allowed\" : \"hover:bg-gray-100\"),\n        onClick: ()=>!disabled && (onFolderChange === null || onFolderChange === void 0 ? void 0 : onFolderChange(folderId)),\n        disabled: disabled,\n        title: disabled ? \"Connectez un compte email d'abord\" : label,\n        children: [\n            icon,\n            \" \",\n            label\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Sidebar.tsx\",\n        lineNumber: 136,\n        columnNumber: 5\n    }, this);\n}\n_c2 = FolderItem;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sidebar);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"Sidebar\");\n$RefreshReg$(_c1, \"FolderButton\");\n$RefreshReg$(_c2, \"FolderItem\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1NpZGViYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUM0QztBQUNiO0FBQ2dCO0FBQ047QUFDRztBQUNrRDtBQUV2RixTQUFTYyxRQUFRLEtBWXZCO1FBWnVCLEVBQ3RCQyxjQUFjLEVBQ2RDLGFBQWEsRUFDYkMsV0FBVyxFQUNYQyxRQUFRLEVBQ1JDLFNBQVMsRUFPVixHQVp1Qjs7SUFhdEIsTUFBTSxFQUFFQyxVQUFVLEVBQUUsR0FBR2xCLDZDQUFLQTtJQUM1QixNQUFNLENBQUNtQixnQkFBZ0JDLGtCQUFrQixHQUFHckIsK0NBQVFBLENBQWlCO0lBQ3JFLE1BQU0sQ0FBQ3NCLFlBQVlDLGNBQWMsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3dCLFVBQVVDLFlBQVksR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzBCLFdBQVdDLGFBQWEsR0FBRzNCLCtDQUFRQSxDQUFDO0lBRTNDLHVEQUF1RDtJQUN2REQsZ0RBQVNBLENBQUM7UUFDUDtZQUNDLElBQUk7Z0JBQUUsTUFBTTZCLE1BQU0sTUFBTUMsTUFBTTtnQkFBbUJSLGtCQUFrQk8sSUFBSUUsRUFBRTtZQUFHLEVBQzVFLFVBQU07Z0JBQUVULGtCQUFrQjtZQUFRO1FBQ3BDO0lBQ0YsR0FBRyxFQUFFO0lBRUwsZUFBZVU7UUFDYixJQUFJO1lBQUUsTUFBTUYsTUFBTSwwQkFBMEI7Z0JBQUVHLFFBQVE7WUFBTztZQUFJWCxrQkFBa0I7WUFBUVksTUFBTTtZQUF5QkMsU0FBU0MsTUFBTTtRQUFJLEVBQzdJLFVBQU0sQ0FBQztJQUNUO0lBRUEsTUFBTUMsbUJBQW1CQyxRQUFRckIsY0FBYyxnQkFBZ0I7SUFFL0QscUJBQ0UsOERBQUNzQjtRQUFNQyxXQUFVOzswQkFDZiw4REFBQ0M7Z0JBQUlELFdBQVU7O2tDQUNiLDhEQUFDRTt3QkFDQ0MsUUFBUTNCLENBQUFBLDBCQUFBQSxvQ0FBQUEsY0FBZTRCLFdBQVcsUUFBTzt3QkFDekNDLFVBQVUsQ0FBQ1I7d0JBQ1hTLE9BQU8sQ0FBQ1QsbUJBQW1CLHNDQUFzQzt3QkFDakVVLFNBQVMsSUFBTWhDLDJCQUFBQSxxQ0FBQUEsZUFBaUI7OzBDQUVoQyw4REFBQ1QsbUlBQUtBO2dDQUFDa0MsV0FBVTs7Ozs7OzBDQUNqQiw4REFBQ1E7MENBQUs7Ozs7Ozs0QkFDTGhDLENBQUFBLDBCQUFBQSxvQ0FBQUEsY0FBZTRCLFdBQVcsUUFBTyxXQUFXeEIsNEJBQzNDLDhEQUFDNEI7Z0NBQUtSLFdBQVU7MENBQXNEOzs7Ozs7Ozs7Ozs7a0NBSTFFLDhEQUFDUzt3QkFBV0Msb0JBQU0sOERBQUMzQyxtSUFBSUE7NEJBQUNpQyxXQUFVOzs7Ozs7d0JBQWNXLE9BQU07d0JBQVVDLFVBQVM7d0JBQVVwQyxlQUFlQTt3QkFBZUQsZ0JBQWdCQTt3QkFBZ0JzQyxTQUFTaEI7Ozs7OztrQ0FDMUosOERBQUNZO3dCQUFXQyxvQkFBTSw4REFBQzFDLG1JQUFJQTs0QkFBQ2dDLFdBQVU7Ozs7Ozt3QkFBY1csT0FBTTt3QkFBVUMsVUFBUzt3QkFBT3BDLGVBQWVBO3dCQUFlRCxnQkFBZ0JBO3dCQUFnQnNDLFNBQVNoQjs7Ozs7O2tDQUN2Siw4REFBQ1k7d0JBQVdDLG9CQUFNLDhEQUFDekMsbUlBQVFBOzRCQUFDK0IsV0FBVTs7Ozs7O3dCQUFjVyxPQUFNO3dCQUFhQyxVQUFTO3dCQUFTcEMsZUFBZUE7d0JBQWVELGdCQUFnQkE7d0JBQWdCc0MsU0FBU2hCOzs7Ozs7a0NBRWhLLDhEQUFDaUI7d0JBQUlkLFdBQVU7Ozs7OztrQ0FHZiw4REFBQ2U7d0JBQU9mLFdBQVU7d0JBQXdFTyxTQUFTLElBQU12QixjQUFjO3dCQUFPc0IsT0FBTTs7MENBQ2xJLDhEQUFDRTtnQ0FBS1IsV0FBVTswQ0FBa0Q7Ozs7Ozs0QkFBUzs7Ozs7OztrQ0FJN0UsOERBQUNlO3dCQUFPZixXQUFVO3dCQUF3RU8sU0FBUyxJQUFNbkIsYUFBYTt3QkFBT2tCLE9BQU07OzBDQUNqSSw4REFBQ3BDLG9JQUFXQTtnQ0FBQzhCLFdBQVU7Ozs7Ozs0QkFBWTs7Ozs7OztrQ0FHckMsOERBQUNlO3dCQUFPZixXQUFVO3dCQUF3RU8sU0FBUyxJQUFNckIsWUFBWTt3QkFBT29CLE9BQU07OzBDQUNoSSw4REFBQ25DLG9JQUFLQTtnQ0FBQzZCLFdBQVU7Ozs7Ozs0QkFBWTs7Ozs7OztrQ0FHL0IsOERBQUNjO3dCQUFJZCxXQUFVOzs7Ozs7a0NBQ2YsOERBQUNjO3dCQUFJZCxXQUFVO2tDQUFrRDs7Ozs7O29CQUVoRW5CLG1CQUFtQix1QkFDbEIsOERBQUNtQzt3QkFBRUMsTUFBSzt3QkFBbUJqQixXQUFVOzswQ0FDbkMsOERBQUM1QixvSUFBS0E7Z0NBQUM0QixXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7b0JBSWhDbkIsbUJBQW1CLHNCQUNsQjs7MENBQ0UsOERBQUNpQztnQ0FBSWQsV0FBVTs7a0RBQ2IsOERBQUNjO3dDQUFJZCxXQUFVOzs7Ozs7b0NBQTBDOzs7Ozs7OzBDQUczRCw4REFBQ2U7Z0NBQU9SLFNBQVNmO2dDQUFZUSxXQUFVOztrREFDckMsOERBQUMzQixvSUFBTUE7d0NBQUMyQixXQUFVOzs7Ozs7b0NBQVk7Ozs7Ozs7Ozs7Ozs7OztZQU1yQ2pCLDRCQUNDLDhEQUFDcEIsMkRBQVdBO2dCQUFDdUQsUUFBTztnQkFBWUMsVUFBVXpDLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVXlDLFFBQVEsS0FBSTtnQkFBT0MsTUFBSztnQkFBVUMsU0FBUyxJQUFNckMsY0FBYzs7Ozs7O1lBR3BIQywwQkFDQyw4REFBQ3JCLHVEQUFTQTtnQkFBQzBELE9BQU07Z0JBQVlDLGlCQUFpQjdDLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVXlDLFFBQVEsS0FBSTtnQkFBT0ssaUJBQWtCOUMsQ0FBQUEscUJBQUFBLCtCQUFBQSxTQUFVMEMsSUFBSSxLQUFJO2dCQUFnQkMsU0FBUyxJQUFNbkMsWUFBWTs7Ozs7O1lBRzNKQywyQkFDQyw4REFBQ3RCLHlEQUFVQTtnQkFBQzRELGFBQWE7b0JBQUVDLElBQUk7b0JBQVNDLE1BQU07b0JBQU9QLE1BQU07Z0JBQW1CO2dCQUFHQyxTQUFTLElBQU1qQyxhQUFhOzs7Ozs7Ozs7Ozs7QUFJckg7R0F6R2dCZDs7UUFhU1oseUNBQUtBOzs7S0FiZFk7QUEyR2hCLFNBQVM0QixhQUFhLEtBQTBKO1FBQTFKLEVBQUVDLE1BQU0sRUFBRUUsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRXFCLFFBQVEsRUFBOEcsR0FBMUo7SUFDcEIscUJBQ0UsOERBQUNiO1FBQ0NmLFdBQVcseUVBQWlMLE9BQXhHRyxTQUFTLDJCQUEyQkUsV0FBVyxxQ0FBcUM7UUFDeEtFLFNBQVNGLFdBQVd3QixZQUFZdEI7UUFDaENGLFVBQVVBO1FBQ1ZDLE9BQU9BO2tCQUVOc0I7Ozs7OztBQUdQO01BWFMxQjtBQWFULFNBQVNPLFdBQVcsS0FHbkI7UUFIbUIsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRXBDLGFBQWEsRUFBRUQsY0FBYyxFQUFFc0MsT0FBTyxFQUdsRixHQUhtQjtJQUlsQixNQUFNaUIsV0FBVyxDQUFDdEQsaUJBQWlCLEVBQUMsRUFBRzRCLFdBQVcsT0FBT1E7SUFDekQsTUFBTVAsV0FBVyxDQUFDUTtJQUNsQixxQkFDRSw4REFBQ0U7UUFDQ2YsV0FBVyx5RUFBbUwsT0FBMUc4QixXQUFXLDJCQUEyQnpCLFdBQVcscUNBQXFDO1FBQzFLRSxTQUFTLElBQU0sQ0FBQ0YsYUFBWTlCLDJCQUFBQSxxQ0FBQUEsZUFBaUJxQztRQUM3Q1AsVUFBVUE7UUFDVkMsT0FBT0QsV0FBVyxzQ0FBc0NNOztZQUV2REQ7WUFBSztZQUFFQzs7Ozs7OztBQUdkO01BaEJTRjtBQWtCVCwrREFBZW5DLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3g/NTU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVVJIH0gZnJvbSBcIkBzdG9yZVwiO1xuaW1wb3J0IENvbGxhYlBhbmVsIGZyb20gXCIuL0NvbGxhYi9Db2xsYWJQYW5lbFwiO1xuaW1wb3J0IFRlYW1QYW5lbCBmcm9tIFwiLi9UZWFtL1RlYW1QYW5lbFwiO1xuaW1wb3J0IFRhc2tzUGFuZWwgZnJvbSBcIi4vVGFza3MvVGFza3NQYW5lbFwiO1xuaW1wb3J0IHsgSW5ib3gsIFN0YXIsIFNlbmQsIEZpbGVUZXh0LCBDaGVja1NxdWFyZSwgVXNlcnMsIExpbmsyLCBMb2dPdXQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTaWRlYmFyKHsgXG4gIG9uRm9sZGVyQ2hhbmdlLCBcbiAgY3VycmVudEZvbGRlcixcbiAgaXNDb25uZWN0ZWQsXG4gIHVzZXJJbmZvLFxuICBvblJlZnJlc2hcbn06IHsgXG4gIG9uRm9sZGVyQ2hhbmdlPzogKGZvbGRlcjogc3RyaW5nKSA9PiB2b2lkO1xuICBjdXJyZW50Rm9sZGVyPzogc3RyaW5nO1xuICBpc0Nvbm5lY3RlZD86IGJvb2xlYW47XG4gIHVzZXJJbmZvPzogYW55O1xuICBvblJlZnJlc2g/OiAoKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCB7IGZvY3VzSW5ib3ggfSA9IHVzZVVJKCk7XG4gIGNvbnN0IFtnbWFpbENvbm5lY3RlZCwgc2V0R21haWxDb25uZWN0ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0NvbGxhYiwgc2V0U2hvd0NvbGxhYl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93VGVhbSwgc2V0U2hvd1RlYW1dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1Rhc2tzLCBzZXRTaG93VGFza3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIETDqXRlY3Rpb24gZ21haWwgcG91ciBsYSBzZWN0aW9uIFwiQ29tcHRlc1wiIHVuaXF1ZW1lbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHsgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2dvb2dsZS9tZVwiKTsgc2V0R21haWxDb25uZWN0ZWQocmVzLm9rKTsgfVxuICAgICAgY2F0Y2ggeyBzZXRHbWFpbENvbm5lY3RlZChmYWxzZSk7IH1cbiAgICB9KSgpO1xuICB9LCBbXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICB0cnkgeyBhd2FpdCBmZXRjaChcIi9hcGkvZ29vZ2xlL2Rpc2Nvbm5lY3RcIiwgeyBtZXRob2Q6IFwiUE9TVFwiIH0pOyBzZXRHbWFpbENvbm5lY3RlZChmYWxzZSk7IGFsZXJ0KFwiRMOpY29ubmVjdMOpIGRlIEdtYWlsLlwiKTsgbG9jYXRpb24ucmVsb2FkKCk7IH1cbiAgICBjYXRjaCB7fVxuICB9XG5cbiAgY29uc3QgZm9sZGVyTmF2RW5hYmxlZCA9IEJvb2xlYW4oaXNDb25uZWN0ZWQpOyAvLyBJTUFQIG91IEdtYWlsXG5cbiAgcmV0dXJuIChcbiAgICA8YXNpZGUgY2xhc3NOYW1lPVwicGFuZWwgaC1mdWxsIHAtMlwiPlxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgIDxGb2xkZXJCdXR0b25cbiAgICAgICAgICBhY3RpdmU9e2N1cnJlbnRGb2xkZXI/LnRvVXBwZXJDYXNlKCkgPT09IFwiSU5CT1hcIn1cbiAgICAgICAgICBkaXNhYmxlZD17IWZvbGRlck5hdkVuYWJsZWR9XG4gICAgICAgICAgdGl0bGU9eyFmb2xkZXJOYXZFbmFibGVkID8gXCJDb25uZWN0ZXogdW4gY29tcHRlIGVtYWlsIGQnYWJvcmRcIiA6IFwiQm/DrnRlIGRlIHLDqWNlcHRpb25cIn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkZvbGRlckNoYW5nZT8uKFwiSU5CT1hcIil9XG4gICAgICAgID5cbiAgICAgICAgICA8SW5ib3ggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgPHNwYW4+Qm/DrnRlIGRlIHLDqWNlcHRpb248L3NwYW4+XG4gICAgICAgICAge2N1cnJlbnRGb2xkZXI/LnRvVXBwZXJDYXNlKCkgPT09IFwiSU5CT1hcIiAmJiBmb2N1c0luYm94ICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC14cyBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB4LTEgcm91bmRlZFwiPkZvY3VzPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvRm9sZGVyQnV0dG9uPlxuXG4gICAgICAgIDxGb2xkZXJJdGVtIGljb249ezxTdGFyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn0gbGFiZWw9XCJGYXZvcmlzXCIgZm9sZGVySWQ9XCJTVEFSUkVEXCIgY3VycmVudEZvbGRlcj17Y3VycmVudEZvbGRlcn0gb25Gb2xkZXJDaGFuZ2U9e29uRm9sZGVyQ2hhbmdlfSBlbmFibGVkPXtmb2xkZXJOYXZFbmFibGVkfSAvPlxuICAgICAgICA8Rm9sZGVySXRlbSBpY29uPXs8U2VuZCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz59IGxhYmVsPVwiRW52b3nDqXNcIiBmb2xkZXJJZD1cIlNFTlRcIiBjdXJyZW50Rm9sZGVyPXtjdXJyZW50Rm9sZGVyfSBvbkZvbGRlckNoYW5nZT17b25Gb2xkZXJDaGFuZ2V9IGVuYWJsZWQ9e2ZvbGRlck5hdkVuYWJsZWR9IC8+XG4gICAgICAgIDxGb2xkZXJJdGVtIGljb249ezxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz59IGxhYmVsPVwiQnJvdWlsbG9uc1wiIGZvbGRlcklkPVwiRFJBRlRTXCIgY3VycmVudEZvbGRlcj17Y3VycmVudEZvbGRlcn0gb25Gb2xkZXJDaGFuZ2U9e29uRm9sZGVyQ2hhbmdlfSBlbmFibGVkPXtmb2xkZXJOYXZFbmFibGVkfSAvPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTNcIiAvPlxuXG4gICAgICAgIHsvKiBDb2xsYWJvcmF0aW9uICh0ZW1wcyByw6llbCkg4oCUIHLDqXRhYmxpICovfVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0yIHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTEwMFwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dDb2xsYWIodHJ1ZSl9IHRpdGxlPVwiT3V2cmlyIGxhIGNvbGxhYm9yYXRpb24gZW4gdGVtcHMgcsOpZWxcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTQgaC00IGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPvCflLQ8L3NwYW4+XG4gICAgICAgICAgQ29sbGFib3JhdGlvbiAodGVtcHMgcsOpZWwpXG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTIgcHktMiByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMTAwXCIgb25DbGljaz17KCkgPT4gc2V0U2hvd1Rhc2tzKHRydWUpfSB0aXRsZT1cIkFqb3V0ZXIvdm9pciBkZXMgdMOiY2hlc1wiPlxuICAgICAgICAgIDxDaGVja1NxdWFyZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4gVMOiY2hlc1xuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0yIHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTEwMFwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dUZWFtKHRydWUpfSB0aXRsZT1cIlZvaXIgbCfDqXF1aXBlXCI+XG4gICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiDDiXF1aXBlXG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0zXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHRleHQteHMgdXBwZXJjYXNlIHRleHQtW3ZhcigtLW11dGVkKV0gbWItMVwiPkNvbXB0ZXM8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHtnbWFpbENvbm5lY3RlZCA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxhIGhyZWY9XCIvYXBpL2dvb2dsZS9hdXRoXCIgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTIgcHktMiByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMTAwIHRleHQtYmx1ZS02MDBcIj5cbiAgICAgICAgICAgIDxMaW5rMiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4gQ29ubmVjdGVyIEdtYWlsXG4gICAgICAgICAgPC9hPlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAge2dtYWlsQ29ubmVjdGVkID09PSB0cnVlICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMiBweS0xIHJvdW5kZWQtbWQgYmctZ3JlZW4tNTAgdGV4dC1ncmVlbi03MDAgdGV4dC14c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICBHbWFpbCBjb25uZWN0w6lcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtkaXNjb25uZWN0fSBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMiBweS0yIHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgPExvZ091dCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4gU2UgZMOpY29ubmVjdGVyXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvbmF2PlxuXG4gICAgICB7c2hvd0NvbGxhYiAmJiAoXG4gICAgICAgIDxDb2xsYWJQYW5lbCByb29tSWQ9XCJkZW1vLXJvb21cIiB1c2VyTmFtZT17dXNlckluZm8/LnVzZXJOYW1lIHx8IFwiTW9pXCJ9IHJvbGU9XCJtYW5hZ2VyXCIgb25DbG9zZT17KCkgPT4gc2V0U2hvd0NvbGxhYihmYWxzZSl9IC8+XG4gICAgICApfVxuXG4gICAgICB7c2hvd1RlYW0gJiYgKFxuICAgICAgICA8VGVhbVBhbmVsIG9yZ0lkPVwiY29tcGFueS0xXCIgY3VycmVudFVzZXJOYW1lPXt1c2VySW5mbz8udXNlck5hbWUgfHwgXCJNb2lcIn0gY3VycmVudFVzZXJSb2xlPXsodXNlckluZm8/LnJvbGUgfHwgXCJjaGVmXCIpIGFzIGFueX0gb25DbG9zZT17KCkgPT4gc2V0U2hvd1RlYW0oZmFsc2UpfSAvPlxuICAgICAgKX1cblxuICAgICAge3Nob3dUYXNrcyAmJiAoXG4gICAgICAgIDxUYXNrc1BhbmVsIGN1cnJlbnRVc2VyPXt7IGlkOiBcInUtYm9iXCIsIG5hbWU6IFwiQm9iXCIsIHJvbGU6IFwiZW1wbG95ZVwiIGFzIGNvbnN0IH19IG9uQ2xvc2U9eygpID0+IHNldFNob3dUYXNrcyhmYWxzZSl9IC8+XG4gICAgICApfVxuICAgIDwvYXNpZGU+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEZvbGRlckJ1dHRvbih7IGFjdGl2ZSwgZGlzYWJsZWQsIHRpdGxlLCBvbkNsaWNrLCBjaGlsZHJlbiB9OiB7IGFjdGl2ZT86IGJvb2xlYW47IGRpc2FibGVkPzogYm9vbGVhbjsgdGl0bGU/OiBzdHJpbmc7IG9uQ2xpY2s/OiAoKSA9PiB2b2lkOyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTIgcHktMiByb3VuZGVkLW1kIHRyYW5zaXRpb24tY29sb3JzICR7YWN0aXZlID8gXCJiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlXCIgOiBkaXNhYmxlZCA/IFwidGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWRcIiA6IFwiaG92ZXI6YmctZ3JheS0xMDBcIn1gfVxuICAgICAgb25DbGljaz17ZGlzYWJsZWQgPyB1bmRlZmluZWQgOiBvbkNsaWNrfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgdGl0bGU9e3RpdGxlfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRm9sZGVySXRlbSh7IGljb24sIGxhYmVsLCBmb2xkZXJJZCwgY3VycmVudEZvbGRlciwgb25Gb2xkZXJDaGFuZ2UsIGVuYWJsZWQgfTogeyBcbiAgaWNvbjogUmVhY3QuUmVhY3ROb2RlOyBsYWJlbDogc3RyaW5nOyBmb2xkZXJJZDogc3RyaW5nOyBjdXJyZW50Rm9sZGVyPzogc3RyaW5nO1xuICBvbkZvbGRlckNoYW5nZT86IChmb2xkZXI6IHN0cmluZykgPT4gdm9pZDsgZW5hYmxlZD86IGJvb2xlYW47XG59KSB7XG4gIGNvbnN0IGlzQWN0aXZlID0gKGN1cnJlbnRGb2xkZXIgfHwgXCJcIikudG9VcHBlckNhc2UoKSA9PT0gZm9sZGVySWQ7XG4gIGNvbnN0IGRpc2FibGVkID0gIWVuYWJsZWQ7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBcbiAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0yIHB5LTIgcm91bmRlZC1tZCB0cmFuc2l0aW9uLWNvbG9ycyAke2lzQWN0aXZlID8gXCJiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlXCIgOiBkaXNhYmxlZCA/IFwidGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWRcIiA6IFwiaG92ZXI6YmctZ3JheS0xMDBcIn1gfVxuICAgICAgb25DbGljaz17KCkgPT4gIWRpc2FibGVkICYmIG9uRm9sZGVyQ2hhbmdlPy4oZm9sZGVySWQpfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgdGl0bGU9e2Rpc2FibGVkID8gXCJDb25uZWN0ZXogdW4gY29tcHRlIGVtYWlsIGQnYWJvcmRcIiA6IGxhYmVsfVxuICAgID5cbiAgICAgIHtpY29ufSB7bGFiZWx9XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpZGViYXI7Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlVUkiLCJDb2xsYWJQYW5lbCIsIlRlYW1QYW5lbCIsIlRhc2tzUGFuZWwiLCJJbmJveCIsIlN0YXIiLCJTZW5kIiwiRmlsZVRleHQiLCJDaGVja1NxdWFyZSIsIlVzZXJzIiwiTGluazIiLCJMb2dPdXQiLCJTaWRlYmFyIiwib25Gb2xkZXJDaGFuZ2UiLCJjdXJyZW50Rm9sZGVyIiwiaXNDb25uZWN0ZWQiLCJ1c2VySW5mbyIsIm9uUmVmcmVzaCIsImZvY3VzSW5ib3giLCJnbWFpbENvbm5lY3RlZCIsInNldEdtYWlsQ29ubmVjdGVkIiwic2hvd0NvbGxhYiIsInNldFNob3dDb2xsYWIiLCJzaG93VGVhbSIsInNldFNob3dUZWFtIiwic2hvd1Rhc2tzIiwic2V0U2hvd1Rhc2tzIiwicmVzIiwiZmV0Y2giLCJvayIsImRpc2Nvbm5lY3QiLCJtZXRob2QiLCJhbGVydCIsImxvY2F0aW9uIiwicmVsb2FkIiwiZm9sZGVyTmF2RW5hYmxlZCIsIkJvb2xlYW4iLCJhc2lkZSIsImNsYXNzTmFtZSIsIm5hdiIsIkZvbGRlckJ1dHRvbiIsImFjdGl2ZSIsInRvVXBwZXJDYXNlIiwiZGlzYWJsZWQiLCJ0aXRsZSIsIm9uQ2xpY2siLCJzcGFuIiwiRm9sZGVySXRlbSIsImljb24iLCJsYWJlbCIsImZvbGRlcklkIiwiZW5hYmxlZCIsImRpdiIsImJ1dHRvbiIsImEiLCJocmVmIiwicm9vbUlkIiwidXNlck5hbWUiLCJyb2xlIiwib25DbG9zZSIsIm9yZ0lkIiwiY3VycmVudFVzZXJOYW1lIiwiY3VycmVudFVzZXJSb2xlIiwiY3VycmVudFVzZXIiLCJpZCIsIm5hbWUiLCJjaGlsZHJlbiIsInVuZGVmaW5lZCIsImlzQWN0aXZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Sidebar.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Tasks/TasksPanel.tsx":
/*!*********************************************!*\
  !*** ./src/components/Tasks/TasksPanel.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TasksPanel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction TasksPanel(param) {\n    let { currentUser, onClose } = param;\n    var _directory_find;\n    _s();\n    const [directory, setDirectory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [assigneeId, setAssigneeId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [tasks, setTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Form\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [project, setProject] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [dueDate, setDueDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [dueTime, setDueTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [dueText, setDueText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const canAssignAnyone = currentUser.role === \"chef\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            var _items_find, _items_;\n            const res = await fetch(\"/api/team/directory\", {\n                cache: \"no-store\"\n            });\n            const data = await res.json();\n            const items = (data === null || data === void 0 ? void 0 : data.items) || [];\n            setDirectory(items);\n            // Par défaut: si employé -> lui-même; si chef -> lui-même (modifiable)\n            const defaultId = ((_items_find = items.find((m)=>m.id === currentUser.id)) === null || _items_find === void 0 ? void 0 : _items_find.id) || currentUser.id || ((_items_ = items[0]) === null || _items_ === void 0 ? void 0 : _items_.id) || \"\";\n            setAssigneeId(defaultId);\n        })();\n    }, [\n        currentUser.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!assigneeId) return;\n        (async ()=>{\n            setLoading(true);\n            try {\n                const res = await fetch(\"/api/team/tasks?userId=\".concat(encodeURIComponent(assigneeId)), {\n                    cache: \"no-store\"\n                });\n                const data = await res.json();\n                setTasks((data === null || data === void 0 ? void 0 : data.items) || []);\n            } finally{\n                setLoading(false);\n            }\n        })();\n    }, [\n        assigneeId\n    ]);\n    async function addTask() {\n        if (!title.trim() || !project.trim() || !assigneeId) return;\n        setSaving(true);\n        try {\n            // Si l'utilisateur n'est pas chef, forcer l'assignation à lui-même côté client\n            const targetUserId = canAssignAnyone ? assigneeId : currentUser.id;\n            const res = await fetch(\"/api/team/tasks\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    actor: currentUser,\n                    userId: targetUserId,\n                    title: title.trim(),\n                    project: project.trim(),\n                    dueDate: dueDate || undefined,\n                    dueTime: dueTime || undefined,\n                    dueText: dueText || undefined\n                })\n            });\n            const data = await res.json();\n            if (!res.ok) {\n                alert((data === null || data === void 0 ? void 0 : data.error) || \"Erreur lors de l'ajout\");\n                return;\n            }\n            const created = data.task;\n            // Rafraîchir la liste si on est sur la même personne\n            if (created.userId === assigneeId) {\n                setTasks((prev)=>[\n                        created,\n                        ...prev\n                    ]);\n            }\n            // Reset form\n            setTitle(\"\");\n            setProject(\"\");\n            setDueDate(\"\");\n            setDueTime(\"\");\n            setDueText(\"\");\n        } catch (e) {\n            alert(\"Erreur r\\xe9seau\");\n        } finally{\n            setSaving(false);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-y-0 right-0 w-[520px] bg-white border-l border-gray-300 shadow-2xl z-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between px-4 py-3 border-b\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"font-semibold\",\n                        children: \"T\\xe2ches\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"px-2 py-1 rounded-md hover:bg-gray-100\",\n                        children: \"✕\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                        lineNumber: 113,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                lineNumber: 111,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 space-y-4 overflow-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Ajouter une t\\xe2che\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                lineNumber: 118,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-1 gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: \"Assigner \\xe0\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 122,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                value: assigneeId,\n                                                onChange: (e)=>setAssigneeId(e.target.value),\n                                                disabled: !canAssignAnyone,\n                                                className: \"border rounded-md px-2 py-1 disabled:opacity-60\",\n                                                title: canAssignAnyone ? \"Choisir un membre\" : \"Seul un chef peut assigner \\xe0 quelqu'un d'autre\",\n                                                children: [\n                                                    (canAssignAnyone ? directory : directory.filter((m)=>m.id === currentUser.id)).map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: m.id,\n                                                            children: [\n                                                                m.name,\n                                                                \" \\xb7 \",\n                                                                m.role\n                                                            ]\n                                                        }, m.id, true, {\n                                                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                            lineNumber: 131,\n                                                            columnNumber: 19\n                                                        }, this)),\n                                                    !directory.find((m)=>m.id === currentUser.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: currentUser.id,\n                                                        children: [\n                                                            currentUser.name,\n                                                            \" \\xb7 \",\n                                                            currentUser.role\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                        lineNumber: 136,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 123,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: title,\n                                        onChange: (e)=>setTitle(e.target.value),\n                                        placeholder: 'Titre (ex: \"Pr\\xe9parer le rapport\")',\n                                        className: \"border rounded-md px-2 py-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: project,\n                                        onChange: (e)=>setProject(e.target.value),\n                                        placeholder: 'Projet (ex: \"Client X\" ou \"Interne\")',\n                                        className: \"border rounded-md px-2 py-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 147,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: \"\\xc9ch\\xe9ance (au choix: date/heure OU texte)\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 154,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"date\",\n                                                value: dueDate,\n                                                onChange: (e)=>setDueDate(e.target.value),\n                                                className: \"border rounded-md px-2 py-1\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 156,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"time\",\n                                                value: dueTime,\n                                                onChange: (e)=>setDueTime(e.target.value),\n                                                className: \"border rounded-md px-2 py-1\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 155,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: dueText,\n                                        onChange: (e)=>setDueText(e.target.value),\n                                        placeholder: 'Texte (ex: \"lundi\", \"demain 14:00\", \"14h\")',\n                                        className: \"border rounded-md px-2 py-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 159,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: addTask,\n                                                disabled: saving || !title.trim() || !project.trim(),\n                                                className: \"px-3 py-2 rounded-md bg-gray-900 text-white disabled:opacity-50\",\n                                                children: saving ? \"Ajout...\" : \"Ajouter\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 167,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>{\n                                                    const today = new Date();\n                                                    const yyyy = today.getFullYear();\n                                                    const mm = String(today.getMonth() + 1).padStart(2, \"0\");\n                                                    const dd = String(today.getDate()).padStart(2, \"0\");\n                                                    setDueDate(\"\".concat(yyyy, \"-\").concat(mm, \"-\").concat(dd));\n                                                    setDueTime(\"17:00\");\n                                                },\n                                                className: \"px-3 py-2 rounded-md border\",\n                                                title: \"Aujourd'hui 17:00\",\n                                                children: \"Aujourd'hui 17:00\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 174,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>{\n                                                    const d = new Date();\n                                                    d.setDate(d.getDate() + 1);\n                                                    const yyyy = d.getFullYear();\n                                                    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n                                                    const dd = String(d.getDate()).padStart(2, \"0\");\n                                                    setDueDate(\"\".concat(yyyy, \"-\").concat(mm, \"-\").concat(dd));\n                                                    setDueTime(\"09:00\");\n                                                },\n                                                className: \"px-3 py-2 rounded-md border\",\n                                                title: \"Demain 09:00\",\n                                                children: \"Demain 09:00\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 189,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 166,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                        lineNumber: 117,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-2\",\n                                children: [\n                                    \"T\\xe2ches de \",\n                                    ((_directory_find = directory.find((m)=>m.id === assigneeId)) === null || _directory_find === void 0 ? void 0 : _directory_find.name) || \"la personne s\\xe9lectionn\\xe9e\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                lineNumber: 210,\n                                columnNumber: 11\n                            }, this),\n                            loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Chargement…\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 13\n                            }, this) : tasks.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Aucune t\\xe2che.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                lineNumber: 216,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"space-y-2\",\n                                children: tasks.map((t)=>{\n                                    var _t_createdBy;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"flex items-start gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"mt-2 inline-block w-2 h-2 rounded-full \".concat(t.status === \"done\" ? \"bg-green-500\" : t.status === \"in_progress\" ? \"bg-blue-500\" : \"bg-gray-300\")\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 221,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"font-medium\",\n                                                        children: t.title\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                        lineNumber: 227,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: [\n                                                            t.project,\n                                                            \" — \",\n                                                            t.status,\n                                                            t.dueAt ? \" \\xb7 \\xc9ch\\xe9ance: \".concat(new Date(t.dueAt).toLocaleString()) : \"\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                        lineNumber: 228,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-gray-400\",\n                                                        children: [\n                                                            \"Ajout\\xe9e par \",\n                                                            (_t_createdBy = t.createdBy) === null || _t_createdBy === void 0 ? void 0 : _t_createdBy.name,\n                                                            \" \\xb7 \",\n                                                            new Date(t.createdAt).toLocaleString()\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                        lineNumber: 232,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                                lineNumber: 226,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, t.id, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                        lineNumber: 220,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                                lineNumber: 218,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                        lineNumber: 209,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n                lineNumber: 116,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Tasks\\\\TasksPanel.tsx\",\n        lineNumber: 110,\n        columnNumber: 5\n    }, this);\n}\n_s(TasksPanel, \"5Z88LoijWTjcZExgaaKqZWxzZAA=\");\n_c = TasksPanel;\nvar _c;\n$RefreshReg$(_c, \"TasksPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Rhc2tzL1Rhc2tzUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVxRDtBQWdCdEMsU0FBU0UsV0FBVyxLQU1sQztRQU5rQyxFQUNqQ0MsV0FBVyxFQUNYQyxPQUFPLEVBSVIsR0FOa0M7UUFnTVpDOztJQXpMckIsTUFBTSxDQUFDQSxXQUFXQyxhQUFhLEdBQUdMLCtDQUFRQSxDQUFXLEVBQUU7SUFDdkQsTUFBTSxDQUFDTSxZQUFZQyxjQUFjLEdBQUdQLCtDQUFRQSxDQUFTO0lBQ3JELE1BQU0sQ0FBQ1EsT0FBT0MsU0FBUyxHQUFHVCwrQ0FBUUEsQ0FBUyxFQUFFO0lBQzdDLE1BQU0sQ0FBQ1UsU0FBU0MsV0FBVyxHQUFHWCwrQ0FBUUEsQ0FBQztJQUV2QyxPQUFPO0lBQ1AsTUFBTSxDQUFDWSxPQUFPQyxTQUFTLEdBQUdiLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ2MsU0FBU0MsV0FBVyxHQUFHZiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNnQixTQUFTQyxXQUFXLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNrQixTQUFTQyxXQUFXLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNvQixTQUFTQyxXQUFXLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNzQixRQUFRQyxVQUFVLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUVyQyxNQUFNd0Isa0JBQWtCdEIsWUFBWXVCLElBQUksS0FBSztJQUU3QzFCLGdEQUFTQSxDQUFDO1FBQ1A7Z0JBTW1CMkIsYUFBb0VBO1lBTHRGLE1BQU1DLE1BQU0sTUFBTUMsTUFBTSx1QkFBdUI7Z0JBQUVDLE9BQU87WUFBVztZQUNuRSxNQUFNQyxPQUFPLE1BQU1ILElBQUlJLElBQUk7WUFDM0IsTUFBTUwsUUFBa0JJLENBQUFBLGlCQUFBQSwyQkFBQUEsS0FBTUosS0FBSyxLQUFJLEVBQUU7WUFDekNy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NERBQXdCOzZEQUN4QmdDLGVBQUFBLEVBQUVNLFNBQVMsY0FBWE4sbUNBQUFBLGFBQWFsQixJQUFJOzREQUFDOzREQUFJLElBQUlLLEtBQUthLEVBQUVPLFNBQVMsRUFBRUYsY0FBYzs7Ozs7Ozs7Ozs7Ozs7dUNBYnBFTCxFQUFFcEQsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QjdCO0dBak93QmxDO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL1Rhc2tzL1Rhc2tzUGFuZWwudHN4P2M2NTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG50eXBlIFJvbGUgPSBcImNoZWZcIiB8IFwibWFuYWdlclwiIHwgXCJhc3Npc3RhbnRcIiB8IFwiZW1wbG95ZVwiO1xyXG50eXBlIE1lbWJlciA9IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyByb2xlOiBSb2xlOyB0aXRsZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH07XHJcbnR5cGUgVGFzayA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgcHJvamVjdDogc3RyaW5nO1xyXG4gIHN0YXR1czogXCJ0b2RvXCIgfCBcImluX3Byb2dyZXNzXCIgfCBcImRvbmVcIjtcclxuICB1cGRhdGVkQXQ6IG51bWJlcjtcclxuICBjcmVhdGVkQXQ6IG51bWJlcjtcclxuICBjcmVhdGVkQnk6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH07XHJcbiAgZHVlQXQ/OiBudW1iZXIgfCBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGFza3NQYW5lbCh7XHJcbiAgY3VycmVudFVzZXIsXHJcbiAgb25DbG9zZSxcclxufToge1xyXG4gIGN1cnJlbnRVc2VyOiB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcm9sZTogUm9sZSB9O1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbn0pIHtcclxuICBjb25zdCBbZGlyZWN0b3J5LCBzZXREaXJlY3RvcnldID0gdXNlU3RhdGU8TWVtYmVyW10+KFtdKTtcclxuICBjb25zdCBbYXNzaWduZWVJZCwgc2V0QXNzaWduZWVJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xyXG4gIGNvbnN0IFt0YXNrcywgc2V0VGFza3NdID0gdXNlU3RhdGU8VGFza1tdPihbXSk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBGb3JtXHJcbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbcHJvamVjdCwgc2V0UHJvamVjdF0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbZHVlRGF0ZSwgc2V0RHVlRGF0ZV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbZHVlVGltZSwgc2V0RHVlVGltZV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbZHVlVGV4dCwgc2V0RHVlVGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBjYW5Bc3NpZ25BbnlvbmUgPSBjdXJyZW50VXNlci5yb2xlID09PSBcImNoZWZcIjtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS90ZWFtL2RpcmVjdG9yeVwiLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBjb25zdCBpdGVtczogTWVtYmVyW10gPSBkYXRhPy5pdGVtcyB8fCBbXTtcclxuICAgICAgc2V0RGlyZWN0b3J5KGl0ZW1zKTtcclxuICAgICAgLy8gUGFyIGTDqWZhdXQ6IHNpIGVtcGxvecOpIC0+IGx1aS1tw6ptZTsgc2kgY2hlZiAtPiBsdWktbcOqbWUgKG1vZGlmaWFibGUpXHJcbiAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGl0ZW1zLmZpbmQoKG0pID0+IG0uaWQgPT09IGN1cnJlbnRVc2VyLmlkKT8uaWQgfHwgY3VycmVudFVzZXIuaWQgfHwgaXRlbXNbMF0/LmlkIHx8IFwiXCI7XHJcbiAgICAgIHNldEFzc2lnbmVlSWQoZGVmYXVsdElkKTtcclxuICAgIH0pKCk7XHJcbiAgfSwgW2N1cnJlbnRVc2VyLmlkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWFzc2lnbmVlSWQpIHJldHVybjtcclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvdGVhbS90YXNrcz91c2VySWQ9JHtlbmNvZGVVUklDb21wb25lbnQoYXNzaWduZWVJZCl9YCwgeyBjYWNoZTogXCJuby1zdG9yZVwiIH0pO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICAgIHNldFRhc2tzKChkYXRhPy5pdGVtcyB8fCBbXSkgYXMgVGFza1tdKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9LCBbYXNzaWduZWVJZF0pO1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBhZGRUYXNrKCkge1xyXG4gICAgaWYgKCF0aXRsZS50cmltKCkgfHwgIXByb2plY3QudHJpbSgpIHx8ICFhc3NpZ25lZUlkKSByZXR1cm47XHJcbiAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTaSBsJ3V0aWxpc2F0ZXVyIG4nZXN0IHBhcyBjaGVmLCBmb3JjZXIgbCdhc3NpZ25hdGlvbiDDoCBsdWktbcOqbWUgY8O0dMOpIGNsaWVudFxyXG4gICAgICBjb25zdCB0YXJnZXRVc2VySWQgPSBjYW5Bc3NpZ25BbnlvbmUgPyBhc3NpZ25lZUlkIDogY3VycmVudFVzZXIuaWQ7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS90ZWFtL3Rhc2tzXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBhY3RvcjogY3VycmVudFVzZXIsXHJcbiAgICAgICAgICB1c2VySWQ6IHRhcmdldFVzZXJJZCxcclxuICAgICAgICAgIHRpdGxlOiB0aXRsZS50cmltKCksXHJcbiAgICAgICAgICBwcm9qZWN0OiBwcm9qZWN0LnRyaW0oKSxcclxuICAgICAgICAgIGR1ZURhdGU6IGR1ZURhdGUgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgZHVlVGltZTogZHVlVGltZSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICBkdWVUZXh0OiBkdWVUZXh0IHx8IHVuZGVmaW5lZCxcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICAgIGFsZXJ0KGRhdGE/LmVycm9yIHx8IFwiRXJyZXVyIGxvcnMgZGUgbCdham91dFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgY3JlYXRlZCA9IGRhdGEudGFzayBhcyBUYXNrO1xyXG4gICAgICAvLyBSYWZyYcOuY2hpciBsYSBsaXN0ZSBzaSBvbiBlc3Qgc3VyIGxhIG3Dqm1lIHBlcnNvbm5lXHJcbiAgICAgIGlmIChjcmVhdGVkLnVzZXJJZCA9PT0gYXNzaWduZWVJZCkge1xyXG4gICAgICAgIHNldFRhc2tzKChwcmV2KSA9PiBbY3JlYXRlZCwgLi4ucHJldl0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIFJlc2V0IGZvcm1cclxuICAgICAgc2V0VGl0bGUoXCJcIik7XHJcbiAgICAgIHNldFByb2plY3QoXCJcIik7XHJcbiAgICAgIHNldER1ZURhdGUoXCJcIik7XHJcbiAgICAgIHNldER1ZVRpbWUoXCJcIik7XHJcbiAgICAgIHNldER1ZVRleHQoXCJcIik7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgYWxlcnQoXCJFcnJldXIgcsOpc2VhdVwiKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC15LTAgcmlnaHQtMCB3LVs1MjBweF0gYmctd2hpdGUgYm9yZGVyLWwgYm9yZGVyLWdyYXktMzAwIHNoYWRvdy0yeGwgei01MCBmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgcHktMyBib3JkZXItYlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlTDomNoZXM8L2Rpdj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMTAwXCI+4pyVPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00IG92ZXJmbG93LWF1dG9cIj5cclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBwLTNcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+QWpvdXRlciB1bmUgdMOiY2hlPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBnYXAtMVwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5Bc3NpZ25lciDDoDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Fzc2lnbmVlSWR9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFzc2lnbmVlSWQoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5Bc3NpZ25BbnlvbmV9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBweC0yIHB5LTEgZGlzYWJsZWQ6b3BhY2l0eS02MFwiXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17Y2FuQXNzaWduQW55b25lID8gXCJDaG9pc2lyIHVuIG1lbWJyZVwiIDogXCJTZXVsIHVuIGNoZWYgcGV1dCBhc3NpZ25lciDDoCBxdWVscXUndW4gZCdhdXRyZVwifVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHsoY2FuQXNzaWduQW55b25lID8gZGlyZWN0b3J5IDogZGlyZWN0b3J5LmZpbHRlcigobSkgPT4gbS5pZCA9PT0gY3VycmVudFVzZXIuaWQpKS5tYXAoKG0pID0+IChcclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e20uaWR9IHZhbHVlPXttLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICB7bS5uYW1lfSDCtyB7bS5yb2xlfVxyXG4gICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgeyFkaXJlY3RvcnkuZmluZCgobSkgPT4gbS5pZCA9PT0gY3VycmVudFVzZXIuaWQpICYmIChcclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17Y3VycmVudFVzZXIuaWR9PntjdXJyZW50VXNlci5uYW1lfSDCtyB7Y3VycmVudFVzZXIucm9sZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdUaXRyZSAoZXg6IFwiUHLDqXBhcmVyIGxlIHJhcHBvcnRcIiknXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcHgtMiBweS0xXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3Byb2plY3R9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qZWN0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nUHJvamV0IChleDogXCJDbGllbnQgWFwiIG91IFwiSW50ZXJuZVwiKSdcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBweC0yIHB5LTFcIlxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj7DiWNow6lhbmNlIChhdSBjaG9peDogZGF0ZS9oZXVyZSBPVSB0ZXh0ZSk8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgdmFsdWU9e2R1ZURhdGV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHVlRGF0ZShlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkLW1kIHB4LTIgcHktMVwiIC8+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgdmFsdWU9e2R1ZVRpbWV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHVlVGltZShlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkLW1kIHB4LTIgcHktMVwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB2YWx1ZT17ZHVlVGV4dH1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldER1ZVRleHQoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdUZXh0ZSAoZXg6IFwibHVuZGlcIiwgXCJkZW1haW4gMTQ6MDBcIiwgXCIxNGhcIiknXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcHgtMiBweS0xXCJcclxuICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FkZFRhc2t9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nIHx8ICF0aXRsZS50cmltKCkgfHwgIXByb2plY3QudHJpbSgpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQtbWQgYmctZ3JheS05MDAgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7c2F2aW5nID8gXCJBam91dC4uLlwiIDogXCJBam91dGVyXCJ9XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1tID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRkID0gU3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICBzZXREdWVEYXRlKGAke3l5eXl9LSR7bW19LSR7ZGR9YCk7XHJcbiAgICAgICAgICAgICAgICAgIHNldER1ZVRpbWUoXCIxNzowMFwiKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZC1tZCBib3JkZXJcIlxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJBdWpvdXJkJ2h1aSAxNzowMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQXVqb3VyZCdodWkgMTc6MDBcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgIGQuc2V0RGF0ZShkLmdldERhdGUoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB5eXl5ID0gZC5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBtbSA9IFN0cmluZyhkLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRkID0gU3RyaW5nKGQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgIHNldER1ZURhdGUoYCR7eXl5eX0tJHttbX0tJHtkZH1gKTtcclxuICAgICAgICAgICAgICAgICAgc2V0RHVlVGltZShcIjA5OjAwXCIpO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkLW1kIGJvcmRlclwiXHJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbWFpbiAwOTowMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgRGVtYWluIDA5OjAwXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG5cclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBwLTNcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XHJcbiAgICAgICAgICAgIFTDomNoZXMgZGUge2RpcmVjdG9yeS5maW5kKChtKSA9PiBtLmlkID09PSBhc3NpZ25lZUlkKT8ubmFtZSB8fCBcImxhIHBlcnNvbm5lIHPDqWxlY3Rpb25uw6llXCJ9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPkNoYXJnZW1lbnTigKY8L2Rpdj5cclxuICAgICAgICAgICkgOiB0YXNrcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+QXVjdW5lIHTDomNoZS48L2Rpdj5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICB7dGFza3MubWFwKCh0KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8bGkga2V5PXt0LmlkfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXQtMiBpbmxpbmUtYmxvY2sgdy0yIGgtMiByb3VuZGVkLWZ1bGwgJHtcclxuICAgICAgICAgICAgICAgICAgICAgIHQuc3RhdHVzID09PSBcImRvbmVcIiA/IFwiYmctZ3JlZW4tNTAwXCIgOiB0LnN0YXR1cyA9PT0gXCJpbl9wcm9ncmVzc1wiID8gXCJiZy1ibHVlLTUwMFwiIDogXCJiZy1ncmF5LTMwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0LnRpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dC5wcm9qZWN0fSDigJQge3Quc3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAge3QuZHVlQXQgPyBgIMK3IMOJY2jDqWFuY2U6ICR7bmV3IERhdGUodC5kdWVBdCkudG9Mb2NhbGVTdHJpbmcoKX1gIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgQWpvdXTDqWUgcGFyIHt0LmNyZWF0ZWRCeT8ubmFtZX0gwrcge25ldyBEYXRlKHQuY3JlYXRlZEF0KS50b0xvY2FsZVN0cmluZygpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVGFza3NQYW5lbCIsImN1cnJlbnRVc2VyIiwib25DbG9zZSIsImRpcmVjdG9yeSIsInNldERpcmVjdG9yeSIsImFzc2lnbmVlSWQiLCJzZXRBc3NpZ25lZUlkIiwidGFza3MiLCJzZXRUYXNrcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwidGl0bGUiLCJzZXRUaXRsZSIsInByb2plY3QiLCJzZXRQcm9qZWN0IiwiZHVlRGF0ZSIsInNldER1ZURhdGUiLCJkdWVUaW1lIiwic2V0RHVlVGltZSIsImR1ZVRleHQiLCJzZXREdWVUZXh0Iiwic2F2aW5nIiwic2V0U2F2aW5nIiwiY2FuQXNzaWduQW55b25lIiwicm9sZSIsIml0ZW1zIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsImRhdGEiLCJqc29uIiwiZGVmYXVsdElkIiwiZmluZCIsIm0iLCJpZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImFkZFRhc2siLCJ0cmltIiwidGFyZ2V0VXNlcklkIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0b3IiLCJ1c2VySWQiLCJ1bmRlZmluZWQiLCJvayIsImFsZXJ0IiwiZXJyb3IiLCJjcmVhdGVkIiwidGFzayIsInByZXYiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwic2VjdGlvbiIsImxhYmVsIiwic2VsZWN0IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJkaXNhYmxlZCIsImZpbHRlciIsIm1hcCIsIm9wdGlvbiIsIm5hbWUiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwidHlwZSIsInRvZGF5IiwiRGF0ZSIsInl5eXkiLCJnZXRGdWxsWWVhciIsIm1tIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRkIiwiZ2V0RGF0ZSIsImQiLCJzZXREYXRlIiwibGVuZ3RoIiwidWwiLCJ0IiwibGkiLCJzcGFuIiwic3RhdHVzIiwiZHVlQXQiLCJ0b0xvY2FsZVN0cmluZyIsImNyZWF0ZWRCeSIsImNyZWF0ZWRBdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Tasks/TasksPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Team/TeamPanel.tsx":
/*!*******************************************!*\
  !*** ./src/components/Team/TeamPanel.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TeamPanel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/realtime/provider */ \"(app-pages-browser)/./src/lib/realtime/provider.ts\");\n/* harmony import */ var _UserDrawer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UserDrawer */ \"(app-pages-browser)/./src/components/Team/UserDrawer.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction TeamPanel(param) {\n    let { orgId = \"company-1\", currentUserName = \"Moi\", currentUserRole = \"manager\", onClose } = param;\n    _s();\n    const rt = (0,_lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__.getRealtimeClient)();\n    const myId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_lib_realtime_provider__WEBPACK_IMPORTED_MODULE_2__.getStableUserId)(), []);\n    const room = \"org:\".concat(orgId);\n    const [directory, setDirectory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [onlineIds, setOnlineIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        rt.setUser({\n            id: myId,\n            name: currentUserName,\n            role: currentUserRole\n        });\n        const offPresence = rt.subscribe(room, \"presence\", (msg)=>{\n            const members = (msg === null || msg === void 0 ? void 0 : msg.members) || [];\n            setOnlineIds(new Set(members.map((m)=>m.id)));\n        });\n        return ()=>offPresence === null || offPresence === void 0 ? void 0 : offPresence();\n    }, [\n        currentUserName,\n        currentUserRole,\n        myId,\n        room,\n        rt\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            const res = await fetch(\"/api/team/directory\", {\n                cache: \"no-store\"\n            });\n            const data = await res.json();\n            setDirectory((data === null || data === void 0 ? void 0 : data.items) || []);\n        })();\n    }, []);\n    const filtered = directory.filter((m)=>{\n        const q = search.toLowerCase().trim();\n        if (!q) return true;\n        return [\n            m.name,\n            m.email,\n            m.title,\n            m.role\n        ].some((x)=>String(x).toLowerCase().includes(q));\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-y-0 right-0 w-[520px] bg-white border-l border-gray-300 shadow-2xl z-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between px-4 py-3 border-b\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"font-semibold\",\n                        children: \"\\xc9quipe\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                        lineNumber: 56,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"px-2 py-1 rounded-md hover:bg-gray-100\",\n                        children: \"✕\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                        lineNumber: 57,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                lineNumber: 55,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 border-b\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                    value: search,\n                    onChange: (e)=>setSearch(e.target.value),\n                    placeholder: \"Rechercher par nom, email, r\\xf4le, poste…\",\n                    className: \"w-full border rounded-md px-2 py-1\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                    lineNumber: 61,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                lineNumber: 60,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 overflow-auto\",\n                children: filtered.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Aucun membre.\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                    className: \"space-y-2\",\n                    children: filtered.map((m)=>{\n                        const online = onlineIds.has(m.id);\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setActive(m),\n                                className: \"w-full flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 text-left\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"w-2 h-2 rounded-full \".concat(online ? \"bg-green-500\" : \"bg-gray-300\"),\n                                        title: online ? \"En ligne\" : \"Hors ligne\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                        lineNumber: 82,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    m.name,\n                                                    \" \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: [\n                                                            \"\\xb7 \",\n                                                            m.role\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                                        lineNumber: 84,\n                                                        columnNumber: 61\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                                lineNumber: 84,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: [\n                                                    m.title,\n                                                    \" — \",\n                                                    m.email\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                                lineNumber: 85,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                        lineNumber: 83,\n                                        columnNumber: 21\n                                    }, this),\n                                    online && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-green-600\",\n                                        children: \"En ligne\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                        lineNumber: 87,\n                                        columnNumber: 32\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 19\n                            }, this)\n                        }, m.id, false, {\n                            fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                            lineNumber: 77,\n                            columnNumber: 17\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                lineNumber: 69,\n                columnNumber: 7\n            }, this),\n            active && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UserDrawer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                member: active,\n                online: onlineIds.has(active.id),\n                onClose: ()=>setActive(null),\n                currentUser: {\n                    id: myId,\n                    name: currentUserName,\n                    role: currentUserRole\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n                lineNumber: 97,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\TeamPanel.tsx\",\n        lineNumber: 54,\n        columnNumber: 5\n    }, this);\n}\n_s(TeamPanel, \"Yx5YyIJ/96G8mriDO/EtY2+44eE=\");\n_c = TeamPanel;\nvar _c;\n$RefreshReg$(_c, \"TeamPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1RlYW0vVGVhbVBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVxRDtBQUM0QjtBQUMzQztBQUt2QixTQUFTTSxVQUFVLEtBVWpDO1FBVmlDLEVBQ2hDQyxRQUFRLFdBQVcsRUFDbkJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxrQkFBa0IsU0FBaUIsRUFDbkNDLE9BQU8sRUFNUixHQVZpQzs7SUFXaEMsTUFBTUMsS0FBS1IseUVBQWlCQTtJQUM1QixNQUFNUyxPQUFPWCw4Q0FBT0EsQ0FBQyxJQUFNRyx1RUFBZUEsSUFBSSxFQUFFO0lBQ2hELE1BQU1TLE9BQU8sT0FBYSxPQUFOTjtJQUVwQixNQUFNLENBQUNPLFdBQVdDLGFBQWEsR0FBR2IsK0NBQVFBLENBQVcsRUFBRTtJQUN2RCxNQUFNLENBQUNjLFdBQVdDLGFBQWEsR0FBR2YsK0NBQVFBLENBQWMsSUFBSWdCO0lBQzVELE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHbEIsK0NBQVFBLENBQUM7SUFDckMsTUFBTSxDQUFDbUIsUUFBUUMsVUFBVSxHQUFHcEIsK0NBQVFBLENBQWdCO0lBRXBERixnREFBU0EsQ0FBQztRQUNSVyxHQUFHWSxPQUFPLENBQUM7WUFBRUMsSUFBSVo7WUFBTWEsTUFBTWpCO1lBQWlCa0IsTUFBTWpCO1FBQWdCO1FBQ3BFLE1BQU1rQixjQUFjaEIsR0FBR2lCLFNBQVMsQ0FBQ2YsTUFBTSxZQUFZLENBQUNnQjtZQUNsRCxNQUFNQyxVQUFXRCxDQUFBQSxnQkFBQUEsMEJBQUFBLElBQUtDLE9BQU8sS0FBSSxFQUFFO1lBQ25DYixhQUFhLElBQUlDLElBQUlZLFFBQVFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFUixFQUFFO1FBQzlDO1FBQ0EsT0FBTyxJQUFNRyx3QkFBQUEsa0NBQUFBO0lBQ2YsR0FBRztRQUFDbkI7UUFBaUJDO1FBQWlCRztRQUFNQztRQUFNRjtLQUFHO0lBRXJEWCxnREFBU0EsQ0FBQztRQUNQO1lBQ0MsTUFBTWlDLE1BQU0sTUFBTUMsTUFBTSx1QkFBdUI7Z0JBQUVDLE9BQU87WUFBVztZQUNuRSxNQUFNQyxPQUFPLE1BQU1ILElBQUlJLElBQUk7WUFDM0J0QixhQUFhcUIsQ0FBQUEsaUJBQUFBLDJCQUFBQSxLQUFNRSxLQUFLLEtBQUksRUFBRTtRQUNoQztJQUNGLEdBQUcsRUFBRTtJQUVMLE1BQU1DLFdBQVd6QixVQUFVMEIsTUFBTSxDQUFDLENBQUNSO1FBQ2pDLE1BQU1TLElBQUl0QixPQUFPdUIsV0FBVyxHQUFHQyxJQUFJO1FBQ25DLElBQUksQ0FBQ0YsR0FBRyxPQUFPO1FBQ2YsT0FBTztZQUFDVCxFQUFFUCxJQUFJO1lBQUVPLEVBQUVZLEtBQUs7WUFBRVosRUFBRWEsS0FBSztZQUFFYixFQUFFTixJQUFJO1NBQUMsQ0FBQ29CLElBQUksQ0FBQyxDQUFDQyxJQUFNQyxPQUFPRCxHQUFHTCxXQUFXLEdBQUdPLFFBQVEsQ0FBQ1I7SUFDekY7SUFFQSxxQkFDRSw4REFBQ1M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQWdCOzs7Ozs7a0NBQy9CLDhEQUFDQzt3QkFBT0MsU0FBUzNDO3dCQUFTeUMsV0FBVTtrQ0FBeUM7Ozs7Ozs7Ozs7OzswQkFHL0UsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRztvQkFDQ0MsT0FBT3BDO29CQUNQcUMsVUFBVSxDQUFDQyxJQUFNckMsVUFBVXFDLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSztvQkFDekNJLGFBQVk7b0JBQ1pSLFdBQVU7Ozs7Ozs7Ozs7OzBCQUlkLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFDWlosU0FBU3FCLE1BQU0sS0FBSyxrQkFDbkIsOERBQUNWO29CQUFJQyxXQUFVOzhCQUF3Qjs7Ozs7eUNBRXZDLDhEQUFDVTtvQkFBR1YsV0FBVTs4QkFDWFosU0FBU1IsR0FBRyxDQUFDLENBQUNDO3dCQUNiLE1BQU04QixTQUFTOUMsVUFBVStDLEdBQUcsQ0FBQy9CLEVBQUVSLEVBQUU7d0JBQ2pDLHFCQUNFLDhEQUFDd0M7c0NBQ0MsNEVBQUNaO2dDQUNDQyxTQUFTLElBQU0vQixVQUFVVTtnQ0FDekJtQixXQUFVOztrREFFViw4REFBQ2M7d0NBQUtkLFdBQVcsd0JBQWdFLE9BQXhDVyxTQUFTLGlCQUFpQjt3Q0FBaUJqQixPQUFPaUIsU0FBUyxhQUFhOzs7Ozs7a0RBQ2pILDhEQUFDWjt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNEO2dEQUFJQyxXQUFVOztvREFBZW5CLEVBQUVQLElBQUk7b0RBQUM7a0VBQUMsOERBQUN3Qzt3REFBS2QsV0FBVTs7NERBQXdCOzREQUFHbkIsRUFBRU4sSUFBSTs7Ozs7Ozs7Ozs7OzswREFDdkYsOERBQUN3QjtnREFBSUMsV0FBVTs7b0RBQXlCbkIsRUFBRWEsS0FBSztvREFBQztvREFBSWIsRUFBRVksS0FBSzs7Ozs7Ozs7Ozs7OztvQ0FFNURrQix3QkFBVSw4REFBQ0c7d0NBQUtkLFdBQVU7a0RBQXlCOzs7Ozs7Ozs7Ozs7MkJBVi9DbkIsRUFBRVIsRUFBRTs7Ozs7b0JBY2pCOzs7Ozs7Ozs7OztZQUtMSCx3QkFDQyw4REFBQ2hCLG1EQUFVQTtnQkFDVDZELFFBQVE3QztnQkFDUnlDLFFBQVE5QyxVQUFVK0MsR0FBRyxDQUFDMUMsT0FBT0csRUFBRTtnQkFDL0JkLFNBQVMsSUFBTVksVUFBVTtnQkFDekI2QyxhQUFhO29CQUFFM0MsSUFBSVo7b0JBQU1hLE1BQU1qQjtvQkFBaUJrQixNQUFNakI7Z0JBQWdCOzs7Ozs7Ozs7Ozs7QUFLaEY7R0FoR3dCSDtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9UZWFtL1RlYW1QYW5lbC50c3g/ZDAwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgZ2V0UmVhbHRpbWVDbGllbnQsIGdldFN0YWJsZVVzZXJJZCB9IGZyb20gXCIuLi8uLi9saWIvcmVhbHRpbWUvcHJvdmlkZXJcIjtcclxuaW1wb3J0IFVzZXJEcmF3ZXIgZnJvbSBcIi4vVXNlckRyYXdlclwiO1xyXG5cclxudHlwZSBSb2xlID0gXCJjaGVmXCIgfCBcIm1hbmFnZXJcIiB8IFwiYXNzaXN0YW50XCIgfCBcImVtcGxveWVcIjtcclxudHlwZSBNZW1iZXIgPSB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcm9sZTogUm9sZTsgdGl0bGU6IHN0cmluZzsgZW1haWw6IHN0cmluZzsgYXZhdGFyPzogc3RyaW5nIH07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUZWFtUGFuZWwoe1xyXG4gIG9yZ0lkID0gXCJjb21wYW55LTFcIixcclxuICBjdXJyZW50VXNlck5hbWUgPSBcIk1vaVwiLFxyXG4gIGN1cnJlbnRVc2VyUm9sZSA9IFwibWFuYWdlclwiIGFzIFJvbGUsXHJcbiAgb25DbG9zZSxcclxufToge1xyXG4gIG9yZ0lkPzogc3RyaW5nO1xyXG4gIGN1cnJlbnRVc2VyTmFtZT86IHN0cmluZztcclxuICBjdXJyZW50VXNlclJvbGU/OiBSb2xlO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbn0pIHtcclxuICBjb25zdCBydCA9IGdldFJlYWx0aW1lQ2xpZW50KCk7XHJcbiAgY29uc3QgbXlJZCA9IHVzZU1lbW8oKCkgPT4gZ2V0U3RhYmxlVXNlcklkKCksIFtdKTtcclxuICBjb25zdCByb29tID0gYG9yZzoke29yZ0lkfWA7XHJcblxyXG4gIGNvbnN0IFtkaXJlY3RvcnksIHNldERpcmVjdG9yeV0gPSB1c2VTdGF0ZTxNZW1iZXJbXT4oW10pO1xyXG4gIGNvbnN0IFtvbmxpbmVJZHMsIHNldE9ubGluZUlkc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW2FjdGl2ZSwgc2V0QWN0aXZlXSA9IHVzZVN0YXRlPE1lbWJlciB8IG51bGw+KG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcnQuc2V0VXNlcih7IGlkOiBteUlkLCBuYW1lOiBjdXJyZW50VXNlck5hbWUsIHJvbGU6IGN1cnJlbnRVc2VyUm9sZSB9KTtcclxuICAgIGNvbnN0IG9mZlByZXNlbmNlID0gcnQuc3Vic2NyaWJlKHJvb20sIFwicHJlc2VuY2VcIiwgKG1zZykgPT4ge1xyXG4gICAgICBjb25zdCBtZW1iZXJzID0gKG1zZz8ubWVtYmVycyB8fCBbXSkgYXMgQXJyYXk8eyBpZDogc3RyaW5nIH0+O1xyXG4gICAgICBzZXRPbmxpbmVJZHMobmV3IFNldChtZW1iZXJzLm1hcCgobSkgPT4gbS5pZCkpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IG9mZlByZXNlbmNlPy4oKTtcclxuICB9LCBbY3VycmVudFVzZXJOYW1lLCBjdXJyZW50VXNlclJvbGUsIG15SWQsIHJvb20sIHJ0XSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvdGVhbS9kaXJlY3RvcnlcIiwgeyBjYWNoZTogXCJuby1zdG9yZVwiIH0pO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgc2V0RGlyZWN0b3J5KGRhdGE/Lml0ZW1zIHx8IFtdKTtcclxuICAgIH0pKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBmaWx0ZXJlZCA9IGRpcmVjdG9yeS5maWx0ZXIoKG0pID0+IHtcclxuICAgIGNvbnN0IHEgPSBzZWFyY2gudG9Mb3dlckNhc2UoKS50cmltKCk7XHJcbiAgICBpZiAoIXEpIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIFttLm5hbWUsIG0uZW1haWwsIG0udGl0bGUsIG0ucm9sZV0uc29tZSgoeCkgPT4gU3RyaW5nKHgpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC15LTAgcmlnaHQtMCB3LVs1MjBweF0gYmctd2hpdGUgYm9yZGVyLWwgYm9yZGVyLWdyYXktMzAwIHNoYWRvdy0yeGwgei01MCBmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgcHktMyBib3JkZXItYlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPsOJcXVpcGU8L2Rpdj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMTAwXCI+4pyVPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWJcIj5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHZhbHVlPXtzZWFyY2h9XHJcbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlJlY2hlcmNoZXIgcGFyIG5vbSwgZW1haWwsIHLDtGxlLCBwb3N0ZeKAplwiXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQtbWQgcHgtMiBweS0xXCJcclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIG92ZXJmbG93LWF1dG9cIj5cclxuICAgICAgICB7ZmlsdGVyZWQubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5BdWN1biBtZW1icmUuPC9kaXY+XHJcbiAgICAgICAgKSA6IChcclxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAge2ZpbHRlcmVkLm1hcCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG9ubGluZSA9IG9ubGluZUlkcy5oYXMobS5pZCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e20uaWR9PlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlKG0pfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwLTIgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTUwIHRleHQtbGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B3LTIgaC0yIHJvdW5kZWQtZnVsbCAke29ubGluZSA/IFwiYmctZ3JlZW4tNTAwXCIgOiBcImJnLWdyYXktMzAwXCJ9YH0gdGl0bGU9e29ubGluZSA/IFwiRW4gbGlnbmVcIiA6IFwiSG9ycyBsaWduZVwifSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e20ubmFtZX0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+wrcge20ucm9sZX08L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPnttLnRpdGxlfSDigJQge20uZW1haWx9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAge29ubGluZSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNjAwXCI+RW4gbGlnbmU8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAge2FjdGl2ZSAmJiAoXHJcbiAgICAgICAgPFVzZXJEcmF3ZXJcclxuICAgICAgICAgIG1lbWJlcj17YWN0aXZlfVxyXG4gICAgICAgICAgb25saW5lPXtvbmxpbmVJZHMuaGFzKGFjdGl2ZS5pZCl9XHJcbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRBY3RpdmUobnVsbCl9XHJcbiAgICAgICAgICBjdXJyZW50VXNlcj17eyBpZDogbXlJZCwgbmFtZTogY3VycmVudFVzZXJOYW1lLCByb2xlOiBjdXJyZW50VXNlclJvbGUgfX1cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJnZXRSZWFsdGltZUNsaWVudCIsImdldFN0YWJsZVVzZXJJZCIsIlVzZXJEcmF3ZXIiLCJUZWFtUGFuZWwiLCJvcmdJZCIsImN1cnJlbnRVc2VyTmFtZSIsImN1cnJlbnRVc2VyUm9sZSIsIm9uQ2xvc2UiLCJydCIsIm15SWQiLCJyb29tIiwiZGlyZWN0b3J5Iiwic2V0RGlyZWN0b3J5Iiwib25saW5lSWRzIiwic2V0T25saW5lSWRzIiwiU2V0Iiwic2VhcmNoIiwic2V0U2VhcmNoIiwiYWN0aXZlIiwic2V0QWN0aXZlIiwic2V0VXNlciIsImlkIiwibmFtZSIsInJvbGUiLCJvZmZQcmVzZW5jZSIsInN1YnNjcmliZSIsIm1zZyIsIm1lbWJlcnMiLCJtYXAiLCJtIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsImRhdGEiLCJqc29uIiwiaXRlbXMiLCJmaWx0ZXJlZCIsImZpbHRlciIsInEiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJlbWFpbCIsInRpdGxlIiwic29tZSIsIngiLCJTdHJpbmciLCJpbmNsdWRlcyIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJsZW5ndGgiLCJ1bCIsIm9ubGluZSIsImhhcyIsImxpIiwic3BhbiIsIm1lbWJlciIsImN1cnJlbnRVc2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Team/TeamPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Team/UserDrawer.tsx":
/*!********************************************!*\
  !*** ./src/components/Team/UserDrawer.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ UserDrawer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction UserDrawer(param) {\n    let { member, online, onClose, currentUser } = param;\n    _s();\n    const [tasks, setTasks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activity, setActivity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [fileNote, setFileNote] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const todayInfo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var _tasks_slice_reverse_find;\n        const now = new Date();\n        const startToday = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime();\n        const startYesterday = startToday - 86400000;\n        const today = activity.filter((a)=>a.ts >= startToday).length;\n        const yesterday = activity.filter((a)=>a.ts >= startYesterday && a.ts < startToday).length;\n        const currentTask = tasks.find((t)=>t.status === \"in_progress\");\n        const project = (currentTask === null || currentTask === void 0 ? void 0 : currentTask.project) || ((_tasks_slice_reverse_find = tasks.slice().reverse().find(Boolean)) === null || _tasks_slice_reverse_find === void 0 ? void 0 : _tasks_slice_reverse_find.project) || \"—\";\n        return {\n            today,\n            yesterday,\n            project\n        };\n    }, [\n        activity,\n        tasks\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            const [tRes, aRes, fRes] = await Promise.all([\n                fetch(\"/api/team/tasks?userId=\".concat(encodeURIComponent(member.id)), {\n                    cache: \"no-store\"\n                }),\n                fetch(\"/api/team/activity?userId=\".concat(encodeURIComponent(member.id)), {\n                    cache: \"no-store\"\n                }),\n                fetch(\"/api/files/list?userId=\".concat(encodeURIComponent(member.id)), {\n                    cache: \"no-store\"\n                })\n            ]);\n            const t = await tRes.json();\n            const a = await aRes.json();\n            const f = await fRes.json();\n            setTasks((t === null || t === void 0 ? void 0 : t.items) || []);\n            setActivity((a === null || a === void 0 ? void 0 : a.items) || []);\n            setFiles((f === null || f === void 0 ? void 0 : f.items) || []);\n        })();\n    }, [\n        member.id\n    ]);\n    async function handleSendFile(e) {\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (!file) return;\n        setSending(true);\n        try {\n            const fd = new FormData();\n            fd.append(\"actorId\", currentUser.id);\n            fd.append(\"actorName\", currentUser.name);\n            fd.append(\"actorRole\", currentUser.role);\n            fd.append(\"scope\", \"direct\");\n            fd.append(\"toUserId\", member.id);\n            if (fileNote.trim()) fd.append(\"message\", fileNote.trim());\n            fd.append(\"file\", file, file.name);\n            const res = await fetch(\"/api/files/upload\", {\n                method: \"POST\",\n                body: fd\n            });\n            const data = await res.json();\n            if (!res.ok) {\n                alert((data === null || data === void 0 ? void 0 : data.error) || \"Envoi \\xe9chou\\xe9\");\n            } else {\n                setFiles((prev)=>[\n                        data.file,\n                        ...prev\n                    ]);\n                setFileNote(\"\");\n            }\n        } catch (e) {\n            alert(\"Erreur r\\xe9seau\");\n        } finally{\n            setSending(false);\n            e.currentTarget.value = \"\";\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-y-0 right-0 w-[520px] bg-white border-l border-gray-300 shadow-2xl z-50 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between px-4 py-3 border-b\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold\",\n                                children: [\n                                    member.name,\n                                    \" \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: [\n                                            \"\\xb7 \",\n                                            member.role\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 27\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-500\",\n                                children: [\n                                    member.title,\n                                    \" — \",\n                                    member.email\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 93,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 89,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"w-2 h-2 rounded-full \".concat(online ? \"bg-green-500\" : \"bg-gray-300\"),\n                                title: online ? \"En ligne\" : \"Hors ligne\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 98,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onClose,\n                                className: \"px-2 py-1 rounded-md hover:bg-gray-100\",\n                                children: \"✕\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 99,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                lineNumber: 88,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 space-y-4 overflow-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-1\",\n                                children: \"R\\xe9sum\\xe9\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-700\",\n                                children: [\n                                    \"- En ligne: \",\n                                    online ? \"Oui\" : \"Non\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 107,\n                                        columnNumber: 49\n                                    }, this),\n                                    \"- Projet actuel: \",\n                                    todayInfo.project,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 108,\n                                        columnNumber: 49\n                                    }, this),\n                                    \"- Activit\\xe9 aujourd'hui: \",\n                                    todayInfo.today,\n                                    \" \\xe9v\\xe8nement(s)\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 109,\n                                        columnNumber: 67\n                                    }, this),\n                                    \"- Activit\\xe9 hier: \",\n                                    todayInfo.yesterday,\n                                    \" \\xe9v\\xe8nement(s)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 106,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-2\",\n                                children: [\n                                    \"Envoyer un fichier \\xe0 \",\n                                    member.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 115,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: fileNote,\n                                        onChange: (e)=>setFileNote(e.target.value),\n                                        placeholder: \"Message (optionnel)\",\n                                        className: \"border rounded-md px-2 py-1\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 117,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    var _fileInputRef_current;\n                                                    return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                                },\n                                                disabled: sending,\n                                                className: \"px-3 py-2 rounded-md border\",\n                                                children: sending ? \"Envoi…\" : \"Choisir un fichier\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 124,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: \"Le fichier sera visible ici et t\\xe9l\\xe9chargeable.\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 127,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        ref: fileInputRef,\n                                        type: \"file\",\n                                        onChange: handleSendFile,\n                                        hidden: true\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 116,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 114,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Fichiers \\xe9chang\\xe9s\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 134,\n                                columnNumber: 11\n                            }, this),\n                            files.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Aucun fichier.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"space-y-2\",\n                                children: files.map((f)=>{\n                                    var _f_from, _f_from1;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                href: f.url,\n                                                target: \"_blank\",\n                                                rel: \"noreferrer\",\n                                                className: \"text-blue-600 hover:underline\",\n                                                children: f.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 141,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-500\",\n                                                children: [\n                                                    \"(\",\n                                                    Math.round(f.size / 1024),\n                                                    \" Ko)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 144,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: [\n                                                    ((_f_from = f.from) === null || _f_from === void 0 ? void 0 : _f_from.id) === member.id ? \"Envoy\\xe9 par\" : \"Envoy\\xe9 \\xe0\",\n                                                    \" \",\n                                                    (_f_from1 = f.from) === null || _f_from1 === void 0 ? void 0 : _f_from1.name,\n                                                    \" \\xb7 \",\n                                                    new Date(f.createdAt).toLocaleString()\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 145,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, f.id, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 140,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 138,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 133,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"T\\xe2ches\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 155,\n                                columnNumber: 11\n                            }, this),\n                            tasks.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Aucune t\\xe2che.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 157,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"space-y-2\",\n                                children: tasks.map((t)=>{\n                                    var _t_createdBy;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"flex items-start gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"mt-2 inline-block w-2 h-2 rounded-full \".concat(t.status === \"done\" ? \"bg-green-500\" : t.status === \"in_progress\" ? \"bg-blue-500\" : \"bg-gray-300\")\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 162,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"font-medium\",\n                                                        children: t.title\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                        lineNumber: 166,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: [\n                                                            t.project,\n                                                            \" — \",\n                                                            t.status,\n                                                            t.dueAt ? \" \\xb7 \\xc9ch\\xe9ance: \".concat(new Date(t.dueAt).toLocaleString()) : \"\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                        lineNumber: 167,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-gray-400\",\n                                                        children: [\n                                                            \"Assign\\xe9e par \",\n                                                            (_t_createdBy = t.createdBy) === null || _t_createdBy === void 0 ? void 0 : _t_createdBy.name,\n                                                            \" \\xb7 \",\n                                                            new Date(t.createdAt).toLocaleString()\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                        lineNumber: 171,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 165,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, t.id, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 161,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 159,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 154,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"border rounded-md p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Activit\\xe9 r\\xe9cente\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 182,\n                                columnNumber: 11\n                            }, this),\n                            activity.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Aucune activit\\xe9 r\\xe9cente.\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 184,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"space-y-2\",\n                                children: activity.slice().reverse().map((a)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-500 mr-2\",\n                                                children: new Date(a.ts).toLocaleString()\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                                lineNumber: 189,\n                                                columnNumber: 19\n                                            }, this),\n                                            a.summary\n                                        ]\n                                    }, a.id, true, {\n                                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                                lineNumber: 186,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                        lineNumber: 181,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n                lineNumber: 103,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\pepite-mail-proto\\\\src\\\\components\\\\Team\\\\UserDrawer.tsx\",\n        lineNumber: 87,\n        columnNumber: 5\n    }, this);\n}\n_s(UserDrawer, \"2KuS6h3k1xj8YVWF9ZuWrY7BRhI=\");\n_c = UserDrawer;\nvar _c;\n$RefreshReg$(_c, \"UserDrawer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1RlYW0vVXNlckRyYXdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTZEO0FBUTlDLFNBQVNJLFdBQVcsS0FVbEM7UUFWa0MsRUFDakNDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1BDLFdBQVcsRUFNWixHQVZrQzs7SUFXakMsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdQLCtDQUFRQSxDQUFTLEVBQUU7SUFDN0MsTUFBTSxDQUFDUSxVQUFVQyxZQUFZLEdBQUdULCtDQUFRQSxDQUFVLEVBQUU7SUFDcEQsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUFlLEVBQUU7SUFDbkQsTUFBTVksZUFBZWIsNkNBQU1BLENBQTBCO0lBQ3JELE1BQU0sQ0FBQ2MsU0FBU0MsV0FBVyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNlLFVBQVVDLFlBQVksR0FBR2hCLCtDQUFRQSxDQUFDO0lBRXpDLE1BQU1pQixZQUFZbkIsOENBQU9BLENBQUM7WUFPZ0JRO1FBTnhDLE1BQU1ZLE1BQU0sSUFBSUM7UUFDaEIsTUFBTUMsYUFBYSxJQUFJRCxLQUFLRCxJQUFJRyxXQUFXLElBQUlILElBQUlJLFFBQVEsSUFBSUosSUFBSUssT0FBTyxJQUFJQyxPQUFPO1FBQ3JGLE1BQU1DLGlCQUFpQkwsYUFBYTtRQUNwQyxNQUFNTSxRQUFRbEIsU0FBU21CLE1BQU0sQ0FBQyxDQUFDQyxJQUFXQSxFQUFFQyxFQUFFLElBQUlULFlBQVlVLE1BQU07UUFDcEUsTUFBTUMsWUFBWXZCLFNBQVNtQixNQUFNLENBQUMsQ0FBQ0MsSUFBV0EsRUFBRUMsRUFBRSxJQUFJSixrQkFBa0JHLEVBQUVDLEVBQUUsR0FBR1QsWUFBWVUsTUFBTTtRQUNqRyxNQUFNRSxjQUFjMUIsTUFBTTJCLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxNQUFNLEtBQUs7UUFDbkQsTUFBTUMsVUFBVUos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aUI7Z0NBQUdqQixXQUFVOzBDQUNYLFNBQWtCcEMsS0FBSyxHQUFHQyxPQUFPLEdBQUdxRCxHQUFHLENBQUMsQ0FBQy9ELGtCQUN4Qyw4REFBQ2dFO3dDQUFjbkIsV0FBVTs7MERBQ3ZCLDhEQUFDQztnREFBS0QsV0FBVTswREFBc0IsSUFBSXRELEtBQUtTLEVBQUVDLEVBQUUsRUFBRXdFLGNBQWM7Ozs7Ozs0Q0FDbEV6RSxFQUFFNEUsT0FBTzs7dUNBRkg1RSxFQUFFbUIsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVc3QjtHQTVMd0I5QztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9UZWFtL1VzZXJEcmF3ZXIudHN4P2FmNzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbnR5cGUgUm9sZSA9IFwiY2hlZlwiIHwgXCJtYW5hZ2VyXCIgfCBcImFzc2lzdGFudFwiIHwgXCJlbXBsb3llXCI7XHJcbnR5cGUgTWVtYmVyID0geyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHJvbGU6IFJvbGU7IHRpdGxlOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IGF2YXRhcj86IHN0cmluZyB9O1xyXG50eXBlIFRhc2sgPSB7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IHByb2plY3Q6IHN0cmluZzsgc3RhdHVzOiBcInRvZG9cIiB8IFwiaW5fcHJvZ3Jlc3NcIiB8IFwiZG9uZVwiOyB1cGRhdGVkQXQ6IG51bWJlcjsgY3JlYXRlZEF0OiBudW1iZXI7IGNyZWF0ZWRCeTogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfTsgZHVlQXQ/OiBudW1iZXIgfCBudWxsIH07XHJcbnR5cGUgQXVkaXQgPSB7IGlkOiBzdHJpbmc7IHRzOiBudW1iZXI7IGV2ZW50OiBzdHJpbmc7IHN1bW1hcnk6IHN0cmluZyB9O1xyXG50eXBlIFNoYXJlZEZpbGUgPSB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgc2l6ZTogbnVtYmVyOyBtaW1lOiBzdHJpbmc7IHVybDogc3RyaW5nOyBjcmVhdGVkQXQ6IG51bWJlcjsgZnJvbTogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfTsgdG9Vc2VySWQ/OiBzdHJpbmcgfTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVzZXJEcmF3ZXIoe1xyXG4gIG1lbWJlcixcclxuICBvbmxpbmUsXHJcbiAgb25DbG9zZSxcclxuICBjdXJyZW50VXNlciwgLy8gbCd1dGlsaXNhdGV1ciBjb3VyYW50IChwZXV0IMOqdHJlIGNoZWYpXHJcbn06IHtcclxuICBtZW1iZXI6IE1lbWJlcjtcclxuICBvbmxpbmU6IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBjdXJyZW50VXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHJvbGU6IFJvbGUgfTtcclxufSkge1xyXG4gIGNvbnN0IFt0YXNrcywgc2V0VGFza3NdID0gdXNlU3RhdGU8VGFza1tdPihbXSk7XHJcbiAgY29uc3QgW2FjdGl2aXR5LCBzZXRBY3Rpdml0eV0gPSB1c2VTdGF0ZTxBZHVpdFtdPihbXSBhcyBhbnkpO1xyXG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGU8U2hhcmVkRmlsZVtdPihbXSk7XHJcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbc2VuZGluZywgc2V0U2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2ZpbGVOb3RlLCBzZXRGaWxlTm90ZV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuXHJcbiAgY29uc3QgdG9kYXlJbmZvID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3Qgc3RhcnRUb2RheSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgY29uc3Qgc3RhcnRZZXN0ZXJkYXkgPSBzdGFydFRvZGF5IC0gODY0MDAwMDA7XHJcbiAgICBjb25zdCB0b2RheSA9IGFjdGl2aXR5LmZpbHRlcigoYTogYW55KSA9PiBhLnRzID49IHN0YXJ0VG9kYXkpLmxlbmd0aDtcclxuICAgIGNvbnN0IHllc3RlcmRheSA9IGFjdGl2aXR5LmZpbHRlcigoYTogYW55KSA9PiBhLnRzID49IHN0YXJ0WWVzdGVyZGF5ICYmIGEudHMgPCBzdGFydFRvZGF5KS5sZW5ndGg7XHJcbiAgICBjb25zdCBjdXJyZW50VGFzayA9IHRhc2tzLmZpbmQoKHQpID0+IHQuc3RhdHVzID09PSBcImluX3Byb2dyZXNzXCIpO1xyXG4gICAgY29uc3QgcHJvamVjdCA9IGN1cnJlbnRUYXNrPy5wcm9qZWN0IHx8IHRhc2tzLnNsaWNlKCkucmV2ZXJzZSgpLmZpbmQoQm9vbGVhbik/LnByb2plY3QgfHwgXCLigJRcIjtcclxuICAgIHJldHVybiB7IHRvZGF5LCB5ZXN0ZXJkYXksIHByb2plY3QgfTtcclxuICB9LCBbYWN0aXZpdHksIHRhc2tzXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBbdFJlcywgYVJlcywgZlJlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgZmV0Y2goYC9hcGkvdGVhbS90YXNrcz91c2VySWQ9JHtlbmNvZGVVUklDb21wb25lbnQobWVtYmVyLmlkKX1gLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSksXHJcbiAgICAgICAgZmV0Y2goYC9hcGkvdGVhbS9hY3Rpdml0eT91c2VySWQ9JHtlbmNvZGVVUklDb21wb25lbnQobWVtYmVyLmlkKX1gLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSksXHJcbiAgICAgICAgZmV0Y2goYC9hcGkvZmlsZXMvbGlzdD91c2VySWQ9JHtlbmNvZGVVUklDb21wb25lbnQobWVtYmVyLmlkKX1gLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSksXHJcbiAgICAgIF0pO1xyXG4gICAgICBjb25zdCB0ID0gYXdhaXQgdFJlcy5qc29uKCk7XHJcbiAgICAgIGNvbnN0IGEgPSBhd2FpdCBhUmVzLmpzb24oKTtcclxuICAgICAgY29uc3QgZiA9IGF3YWl0IGZSZXMuanNvbigpO1xyXG4gICAgICBzZXRUYXNrcyh0Py5pdGVtcyB8fCBbXSk7XHJcbiAgICAgIHNldEFjdGl2aXR5KGE/Lml0ZW1zIHx8IFtdKTtcclxuICAgICAgc2V0RmlsZXMoZj8uaXRlbXMgfHwgW10pO1xyXG4gICAgfSkoKTtcclxuICB9LCBbbWVtYmVyLmlkXSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlbmRGaWxlKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSB7XHJcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcclxuICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG4gICAgc2V0U2VuZGluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZChcImFjdG9ySWRcIiwgY3VycmVudFVzZXIuaWQpO1xyXG4gICAgICBmZC5hcHBlbmQoXCJhY3Rvck5hbWVcIiwgY3VycmVudFVzZXIubmFtZSk7XHJcbiAgICAgIGZkLmFwcGVuZChcImFjdG9yUm9sZVwiLCBjdXJyZW50VXNlci5yb2xlKTtcclxuICAgICAgZmQuYXBwZW5kKFwic2NvcGVcIiwgXCJkaXJlY3RcIik7XHJcbiAgICAgIGZkLmFwcGVuZChcInRvVXNlcklkXCIsIG1lbWJlci5pZCk7XHJcbiAgICAgIGlmIChmaWxlTm90ZS50cmltKCkpIGZkLmFwcGVuZChcIm1lc3NhZ2VcIiwgZmlsZU5vdGUudHJpbSgpKTtcclxuICAgICAgZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlLCBmaWxlLm5hbWUpO1xyXG5cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2ZpbGVzL3VwbG9hZFwiLCB7IG1ldGhvZDogXCJQT1NUXCIsIGJvZHk6IGZkIH0pO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICBhbGVydChkYXRhPy5lcnJvciB8fCBcIkVudm9pIMOpY2hvdcOpXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldEZpbGVzKChwcmV2KSA9PiBbZGF0YS5maWxlLCAuLi5wcmV2XSk7XHJcbiAgICAgICAgc2V0RmlsZU5vdGUoXCJcIik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICBhbGVydChcIkVycmV1ciByw6lzZWF1XCIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2VuZGluZyhmYWxzZSk7XHJcbiAgICAgIGUuY3VycmVudFRhcmdldC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC15LTAgcmlnaHQtMCB3LVs1MjBweF0gYmctd2hpdGUgYm9yZGVyLWwgYm9yZGVyLWdyYXktMzAwIHNoYWRvdy0yeGwgei01MCBmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgcHktMyBib3JkZXItYlwiPlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5cclxuICAgICAgICAgICAge21lbWJlci5uYW1lfSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj7CtyB7bWVtYmVyLnJvbGV9PC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICB7bWVtYmVyLnRpdGxlfSDigJQge21lbWJlci5lbWFpbH1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHctMiBoLTIgcm91bmRlZC1mdWxsICR7b25saW5lID8gXCJiZy1ncmVlbi01MDBcIiA6IFwiYmctZ3JheS0zMDBcIn1gfSB0aXRsZT17b25saW5lID8gXCJFbiBsaWduZVwiIDogXCJIb3JzIGxpZ25lXCJ9IC8+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktMTAwXCI+4pyVPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00IG92ZXJmbG93LWF1dG9cIj5cclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBwLTNcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0xXCI+UsOpc3Vtw6k8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XHJcbiAgICAgICAgICAgIC0gRW4gbGlnbmU6IHtvbmxpbmUgPyBcIk91aVwiIDogXCJOb25cIn08YnIgLz5cclxuICAgICAgICAgICAgLSBQcm9qZXQgYWN0dWVsOiB7dG9kYXlJbmZvLnByb2plY3R9PGJyIC8+XHJcbiAgICAgICAgICAgIC0gQWN0aXZpdMOpIGF1am91cmQnaHVpOiB7dG9kYXlJbmZvLnRvZGF5fSDDqXbDqG5lbWVudChzKTxiciAvPlxyXG4gICAgICAgICAgICAtIEFjdGl2aXTDqSBoaWVyOiB7dG9kYXlJbmZvLnllc3RlcmRheX0gw6l2w6huZW1lbnQocylcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuXHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcC0zXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPkVudm95ZXIgdW4gZmljaGllciDDoCB7bWVtYmVyLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTJcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e2ZpbGVOb3RlfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RmlsZU5vdGUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWVzc2FnZSAob3B0aW9ubmVsKVwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcHgtMiBweS0xXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGRpc2FibGVkPXtzZW5kaW5nfSBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZC1tZCBib3JkZXJcIj5cclxuICAgICAgICAgICAgICAgIHtzZW5kaW5nID8gXCJFbnZvaeKAplwiIDogXCJDaG9pc2lyIHVuIGZpY2hpZXJcIn1cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5MZSBmaWNoaWVyIHNlcmEgdmlzaWJsZSBpY2kgZXQgdMOpbMOpY2hhcmdlYWJsZS48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aW5wdXQgcmVmPXtmaWxlSW5wdXRSZWZ9IHR5cGU9XCJmaWxlXCIgb25DaGFuZ2U9e2hhbmRsZVNlbmRGaWxlfSBoaWRkZW4gLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuXHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcC0zXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPkZpY2hpZXJzIMOpY2hhbmfDqXM8L2Rpdj5cclxuICAgICAgICAgIHtmaWxlcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+QXVjdW4gZmljaGllci48L2Rpdj5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICB7ZmlsZXMubWFwKChmKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8bGkga2V5PXtmLmlkfSBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2YudXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub3JlZmVycmVyXCIgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7Zi5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICA8L2E+e1wiIFwifVxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+KHtNYXRoLnJvdW5kKChmIGFzIGFueSkuc2l6ZSAvIDEwMjQpfSBLbyk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2YuZnJvbT8uaWQgPT09IG1lbWJlci5pZCA/IFwiRW52b3nDqSBwYXJcIiA6IFwiRW52b3nDqSDDoFwifSB7Zi5mcm9tPy5uYW1lfSDCtyB7bmV3IERhdGUoZi5jcmVhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG5cclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBwLTNcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+VMOiY2hlczwvZGl2PlxyXG4gICAgICAgICAge3Rhc2tzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5BdWN1bmUgdMOiY2hlLjwvZGl2PlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgIHt0YXNrcy5tYXAoKHQpID0+IChcclxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e3QuaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgbXQtMiBpbmxpbmUtYmxvY2sgdy0yIGgtMiByb3VuZGVkLWZ1bGwgJHtcclxuICAgICAgICAgICAgICAgICAgICB0LnN0YXR1cyA9PT0gXCJkb25lXCIgPyBcImJnLWdyZWVuLTUwMFwiIDogdC5zdGF0dXMgPT09IFwiaW5fcHJvZ3Jlc3NcIiA/IFwiYmctYmx1ZS01MDBcIiA6IFwiYmctZ3JheS0zMDBcIlxyXG4gICAgICAgICAgICAgICAgICB9YH0gLz5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3QudGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0LnByb2plY3R9IOKAlCB7dC5zdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dC5kdWVBdCA/IGAgwrcgw4ljaMOpYW5jZTogJHtuZXcgRGF0ZSh0LmR1ZUF0KS50b0xvY2FsZVN0cmluZygpfWAgOiBcIlwifVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBBc3NpZ27DqWUgcGFyIHt0LmNyZWF0ZWRCeT8ubmFtZX0gwrcge25ldyBEYXRlKHQuY3JlYXRlZEF0KS50b0xvY2FsZVN0cmluZygpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuXHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcC0zXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPkFjdGl2aXTDqSByw6ljZW50ZTwvZGl2PlxyXG4gICAgICAgICAge2FjdGl2aXR5Lmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5BdWN1bmUgYWN0aXZpdMOpIHLDqWNlbnRlLjwvZGl2PlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgIHsoYWN0aXZpdHkgYXMgYW55KS5zbGljZSgpLnJldmVyc2UoKS5tYXAoKGE6IGFueSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGxpIGtleT17YS5pZH0gY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1yLTJcIj57bmV3IERhdGUoYS50cykudG9Mb2NhbGVTdHJpbmcoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIHthLnN1bW1hcnl9XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJVc2VyRHJhd2VyIiwibWVtYmVyIiwib25saW5lIiwib25DbG9zZSIsImN1cnJlbnRVc2VyIiwidGFza3MiLCJzZXRUYXNrcyIsImFjdGl2aXR5Iiwic2V0QWN0aXZpdHkiLCJmaWxlcyIsInNldEZpbGVzIiwiZmlsZUlucHV0UmVmIiwic2VuZGluZyIsInNldFNlbmRpbmciLCJmaWxlTm90ZSIsInNldEZpbGVOb3RlIiwidG9kYXlJbmZvIiwibm93IiwiRGF0ZSIsInN0YXJ0VG9kYXkiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldFRpbWUiLCJzdGFydFllc3RlcmRheSIsInRvZGF5IiwiZmlsdGVyIiwiYSIsInRzIiwibGVuZ3RoIiwieWVzdGVyZGF5IiwiY3VycmVudFRhc2siLCJmaW5kIiwidCIsInN0YXR1cyIsInByb2plY3QiLCJzbGljZSIsInJldmVyc2UiLCJCb29sZWFuIiwidFJlcyIsImFSZXMiLCJmUmVzIiwiUHJvbWlzZSIsImFsbCIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaWQiLCJjYWNoZSIsImpzb24iLCJmIiwiaXRlbXMiLCJoYW5kbGVTZW5kRmlsZSIsImUiLCJmaWxlIiwidGFyZ2V0IiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm5hbWUiLCJyb2xlIiwidHJpbSIsInJlcyIsIm1ldGhvZCIsImJvZHkiLCJkYXRhIiwib2siLCJhbGVydCIsImVycm9yIiwicHJldiIsImN1cnJlbnRUYXJnZXQiLCJ2YWx1ZSIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJ0aXRsZSIsImVtYWlsIiwiYnV0dG9uIiwib25DbGljayIsInNlY3Rpb24iLCJiciIsImlucHV0Iiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImN1cnJlbnQiLCJjbGljayIsImRpc2FibGVkIiwicmVmIiwidHlwZSIsImhpZGRlbiIsInVsIiwibWFwIiwibGkiLCJocmVmIiwidXJsIiwicmVsIiwiTWF0aCIsInJvdW5kIiwic2l6ZSIsImZyb20iLCJjcmVhdGVkQXQiLCJ0b0xvY2FsZVN0cmluZyIsImR1ZUF0IiwiY3JlYXRlZEJ5Iiwic3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Team/UserDrawer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/notify/client.ts":
/*!**********************************!*\
  !*** ./src/lib/notify/client.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canNotifyNow: function() { return /* binding */ canNotifyNow; },\n/* harmony export */   ensurePermission: function() { return /* binding */ ensurePermission; },\n/* harmony export */   getNotifyEnabled: function() { return /* binding */ getNotifyEnabled; },\n/* harmony export */   isSupported: function() { return /* binding */ isSupported; },\n/* harmony export */   openDm: function() { return /* binding */ openDm; },\n/* harmony export */   setNotifyEnabled: function() { return /* binding */ setNotifyEnabled; },\n/* harmony export */   showNotification: function() { return /* binding */ showNotification; }\n/* harmony export */ });\n// Client-side only helpers for Web Notifications + preference persistence\nconst NOTIFY_KEY = \"__chat_notify_enabled\";\nlet prompted = false;\nfunction isSupported() {\n    return  true && \"Notification\" in window;\n}\nfunction getNotifyEnabled() {\n    if (!isSupported()) return false;\n    try {\n        const raw = localStorage.getItem(NOTIFY_KEY);\n        if (raw === \"1\") return true;\n        if (raw === \"0\") return false;\n        // Si jamais pas de préférence stockée: on active seulement si déjà autorisé\n        return Notification.permission === \"granted\";\n    } catch (e) {\n        return Notification.permission === \"granted\";\n    }\n}\nfunction setNotifyEnabled(v) {\n    if (!isSupported()) return;\n    try {\n        localStorage.setItem(NOTIFY_KEY, v ? \"1\" : \"0\");\n    } catch (e) {}\n}\nasync function ensurePermission() {\n    if (!isSupported()) return \"denied\";\n    if (Notification.permission === \"granted\") return \"granted\";\n    if (Notification.permission === \"denied\") return \"denied\";\n    if (!prompted) {\n        prompted = true;\n        try {\n            const res = await Notification.requestPermission();\n            return res;\n        } catch (e) {\n            return Notification.permission;\n        }\n    }\n    return Notification.permission;\n}\nfunction canNotifyNow() {\n    return isSupported() && Notification.permission === \"granted\" && getNotifyEnabled();\n}\nfunction openDm(targetId, targetName) {\n    try {\n        const bc = new BroadcastChannel(\"chat-control\");\n        bc.postMessage({\n            type: \"open-dm\",\n            targetId,\n            targetName\n        });\n        bc.close();\n    } catch (e) {}\n    try {\n        window.focus();\n    } catch (e) {}\n}\nfunction showNotification(opts) {\n    if (!canNotifyNow()) return false;\n    try {\n        var _opts_requireInteraction;\n        const n = new Notification(opts.title, {\n            body: opts.body,\n            tag: opts.tag,\n            icon: opts.icon,\n            requireInteraction: (_opts_requireInteraction = opts.requireInteraction) !== null && _opts_requireInteraction !== void 0 ? _opts_requireInteraction : false\n        });\n        n.onclick = ()=>{\n            try {\n                n.close();\n            } catch (e) {}\n            if (opts.targetId) openDm(opts.targetId, opts.targetName);\n        };\n        // Petit son discret (optionnel)\n        try {\n            const audio = new Audio(\"data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCA...\");\n            audio.volume = 0.2;\n            audio.play().catch(()=>{});\n        } catch (e) {}\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvbm90aWZ5L2NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMEVBQTBFO0FBRTFFLE1BQU1BLGFBQWE7QUFDbkIsSUFBSUMsV0FBVztBQUVSLFNBQVNDO0lBQ2QsT0FBTyxLQUE2QixJQUFJLGtCQUFrQkM7QUFDNUQ7QUFFTyxTQUFTQztJQUNkLElBQUksQ0FBQ0YsZUFBZSxPQUFPO0lBQzNCLElBQUk7UUFDRixNQUFNRyxNQUFNQyxhQUFhQyxPQUFPLENBQUNQO1FBQ2pDLElBQUlLLFFBQVEsS0FBSyxPQUFPO1FBQ3hCLElBQUlBLFFBQVEsS0FBSyxPQUFPO1FBQ3hCLDRFQUE0RTtRQUM1RSxPQUFPRyxhQUFhQyxVQUFVLEtBQUs7SUFDckMsRUFBRSxVQUFNO1FBQ04sT0FBT0QsYUFBYUMsVUFBVSxLQUFLO0lBQ3JDO0FBQ0Y7QUFFTyxTQUFTQyxpQkFBaUJDLENBQVU7SUFDekMsSUFBSSxDQUFDVCxlQUFlO0lBQ3BCLElBQUk7UUFDRkksYUFBYU0sT0FBTyxDQUFDWixZQUFZVyxJQUFJLE1BQU07SUFDN0MsRUFBRSxVQUFNLENBQUM7QUFDWDtBQUVPLGVBQWVFO0lBQ3BCLElBQUksQ0FBQ1gsZUFBZSxPQUFPO0lBQzNCLElBQUlNLGFBQWFDLFVBQVUsS0FBSyxXQUFXLE9BQU87SUFDbEQsSUFBSUQsYUFBYUMsVUFBVSxLQUFLLFVBQVUsT0FBTztJQUNqRCxJQUFJLENBQUNSLFVBQVU7UUFDYkEsV0FBVztRQUNYLElBQUk7WUFDRixNQUFNYSxNQUFNLE1BQU1OLGFBQWFPLGlCQUFpQjtZQUNoRCxPQUFPRDtRQUNULEVBQUUsVUFBTTtZQUNOLE9BQU9OLGFBQWFDLFVBQVU7UUFDaEM7SUFDRjtJQUNBLE9BQU9ELGFBQWFDLFVBQVU7QUFDaEM7QUFFTyxTQUFTTztJQUNkLE9BQU9kLGlCQUFpQk0sYUFBYUMsVUFBVSxLQUFLLGFBQWFMO0FBQ25FO0FBRU8sU0FBU2EsT0FBT0MsUUFBZ0IsRUFBRUMsVUFBbUI7SUFDMUQsSUFBSTtRQUNGLE1BQU1DLEtBQUssSUFBSUMsaUJBQWlCO1FBQ2hDRCxHQUFHRSxXQUFXLENBQUM7WUFBRUMsTUFBTTtZQUFXTDtZQUFVQztRQUFXO1FBQ3ZEQyxHQUFHSSxLQUFLO0lBQ1YsRUFBRSxVQUFNLENBQUM7SUFDVCxJQUFJO1FBQUVyQixPQUFPc0IsS0FBSztJQUFJLEVBQUUsVUFBTSxDQUFDO0FBQ2pDO0FBRU8sU0FBU0MsaUJBQWlCQyxJQVFoQztJQUNDLElBQUksQ0FBQ1gsZ0JBQWdCLE9BQU87SUFDNUIsSUFBSTtZQUtvQlc7UUFKdEIsTUFBTUMsSUFBSSxJQUFJcEIsYUFBYW1CLEtBQUtFLEtBQUssRUFBRTtZQUNyQ0MsTUFBTUgsS0FBS0csSUFBSTtZQUNmQyxLQUFLSixLQUFLSSxHQUFHO1lBQ2JDLE1BQU1MLEtBQUtLLElBQUk7WUFDZkMsb0JBQW9CTixDQUFBQSwyQkFBQUEsS0FBS00sa0JBQWtCLGNBQXZCTixzQ0FBQUEsMkJBQTJCO1FBQ2pEO1FBQ0FDLEVBQUVNLE9BQU8sR0FBRztZQUNWLElBQUk7Z0JBQUVOLEVBQUVKLEtBQUs7WUFBSSxFQUFFLFVBQU0sQ0FBQztZQUMxQixJQUFJRyxLQUFLVCxRQUFRLEVBQUVELE9BQU9VLEtBQUtULFFBQVEsRUFBRVMsS0FBS1IsVUFBVTtRQUMxRDtRQUNBLGdDQUFnQztRQUNoQyxJQUFJO1lBQ0YsTUFBTWdCLFFBQVEsSUFBSUMsTUFDaEI7WUFFRkQsTUFBTUUsTUFBTSxHQUFHO1lBQ2ZGLE1BQU1HLElBQUksR0FBR0MsS0FBSyxDQUFDLEtBQU87UUFDNUIsRUFBRSxVQUFNLENBQUM7UUFDVCxPQUFPO0lBQ1QsRUFBRSxVQUFNO1FBQ04sT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9ub3RpZnkvY2xpZW50LnRzPzI4MzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ2xpZW50LXNpZGUgb25seSBoZWxwZXJzIGZvciBXZWIgTm90aWZpY2F0aW9ucyArIHByZWZlcmVuY2UgcGVyc2lzdGVuY2VcclxuXHJcbmNvbnN0IE5PVElGWV9LRVkgPSBcIl9fY2hhdF9ub3RpZnlfZW5hYmxlZFwiO1xyXG5sZXQgcHJvbXB0ZWQgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcclxuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcIk5vdGlmaWNhdGlvblwiIGluIHdpbmRvdztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vdGlmeUVuYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgaWYgKCFpc1N1cHBvcnRlZCgpKSByZXR1cm4gZmFsc2U7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKE5PVElGWV9LRVkpO1xyXG4gICAgaWYgKHJhdyA9PT0gXCIxXCIpIHJldHVybiB0cnVlO1xyXG4gICAgaWYgKHJhdyA9PT0gXCIwXCIpIHJldHVybiBmYWxzZTtcclxuICAgIC8vIFNpIGphbWFpcyBwYXMgZGUgcHLDqWbDqXJlbmNlIHN0b2Nrw6llOiBvbiBhY3RpdmUgc2V1bGVtZW50IHNpIGTDqWrDoCBhdXRvcmlzw6lcclxuICAgIHJldHVybiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gXCJncmFudGVkXCI7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09IFwiZ3JhbnRlZFwiO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE5vdGlmeUVuYWJsZWQodjogYm9vbGVhbikge1xyXG4gIGlmICghaXNTdXBwb3J0ZWQoKSkgcmV0dXJuO1xyXG4gIHRyeSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShOT1RJRllfS0VZLCB2ID8gXCIxXCIgOiBcIjBcIik7XHJcbiAgfSBjYXRjaCB7fVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGVybWlzc2lvbigpOiBQcm9taXNlPE5vdGlmaWNhdGlvblBlcm1pc3Npb24+IHtcclxuICBpZiAoIWlzU3VwcG9ydGVkKCkpIHJldHVybiBcImRlbmllZFwiO1xyXG4gIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gXCJncmFudGVkXCIpIHJldHVybiBcImdyYW50ZWRcIjtcclxuICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09IFwiZGVuaWVkXCIpIHJldHVybiBcImRlbmllZFwiO1xyXG4gIGlmICghcHJvbXB0ZWQpIHtcclxuICAgIHByb21wdGVkID0gdHJ1ZTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xyXG4gICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHJldHVybiBOb3RpZmljYXRpb24ucGVybWlzc2lvbjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FuTm90aWZ5Tm93KCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBpc1N1cHBvcnRlZCgpICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIiAmJiBnZXROb3RpZnlFbmFibGVkKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcGVuRG0odGFyZ2V0SWQ6IHN0cmluZywgdGFyZ2V0TmFtZT86IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBiYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKFwiY2hhdC1jb250cm9sXCIpO1xyXG4gICAgYmMucG9zdE1lc3NhZ2UoeyB0eXBlOiBcIm9wZW4tZG1cIiwgdGFyZ2V0SWQsIHRhcmdldE5hbWUgfSk7XHJcbiAgICBiYy5jbG9zZSgpO1xyXG4gIH0gY2F0Y2gge31cclxuICB0cnkgeyB3aW5kb3cuZm9jdXMoKTsgfSBjYXRjaCB7fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbihvcHRzOiB7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBib2R5OiBzdHJpbmc7XHJcbiAgdGFnPzogc3RyaW5nO1xyXG4gIGljb24/OiBzdHJpbmc7XHJcbiAgcmVxdWlyZUludGVyYWN0aW9uPzogYm9vbGVhbjtcclxuICB0YXJnZXRJZD86IHN0cmluZztcclxuICB0YXJnZXROYW1lPzogc3RyaW5nO1xyXG59KSB7XHJcbiAgaWYgKCFjYW5Ob3RpZnlOb3coKSkgcmV0dXJuIGZhbHNlO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBuID0gbmV3IE5vdGlmaWNhdGlvbihvcHRzLnRpdGxlLCB7XHJcbiAgICAgIGJvZHk6IG9wdHMuYm9keSxcclxuICAgICAgdGFnOiBvcHRzLnRhZyxcclxuICAgICAgaWNvbjogb3B0cy5pY29uLFxyXG4gICAgICByZXF1aXJlSW50ZXJhY3Rpb246IG9wdHMucmVxdWlyZUludGVyYWN0aW9uID8/IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgICBuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgIHRyeSB7IG4uY2xvc2UoKTsgfSBjYXRjaCB7fVxyXG4gICAgICBpZiAob3B0cy50YXJnZXRJZCkgb3BlbkRtKG9wdHMudGFyZ2V0SWQsIG9wdHMudGFyZ2V0TmFtZSk7XHJcbiAgICB9O1xyXG4gICAgLy8gUGV0aXQgc29uIGRpc2NyZXQgKG9wdGlvbm5lbClcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKFxyXG4gICAgICAgIFwiZGF0YTphdWRpby9tcDM7YmFzZTY0LC8vdVFaQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFXR2x1WndBQUFBOEFBQUFDQUFBQ2NRQ0EuLi5cIlxyXG4gICAgICApO1xyXG4gICAgICBhdWRpby52b2x1bWUgPSAwLjI7XHJcbiAgICAgIGF1ZGlvLnBsYXkoKS5jYXRjaCgoKSA9PiB7fSk7XHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTk9USUZZX0tFWSIsInByb21wdGVkIiwiaXNTdXBwb3J0ZWQiLCJ3aW5kb3ciLCJnZXROb3RpZnlFbmFibGVkIiwicmF3IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJzZXROb3RpZnlFbmFibGVkIiwidiIsInNldEl0ZW0iLCJlbnN1cmVQZXJtaXNzaW9uIiwicmVzIiwicmVxdWVzdFBlcm1pc3Npb24iLCJjYW5Ob3RpZnlOb3ciLCJvcGVuRG0iLCJ0YXJnZXRJZCIsInRhcmdldE5hbWUiLCJiYyIsIkJyb2FkY2FzdENoYW5uZWwiLCJwb3N0TWVzc2FnZSIsInR5cGUiLCJjbG9zZSIsImZvY3VzIiwic2hvd05vdGlmaWNhdGlvbiIsIm9wdHMiLCJuIiwidGl0bGUiLCJib2R5IiwidGFnIiwiaWNvbiIsInJlcXVpcmVJbnRlcmFjdGlvbiIsIm9uY2xpY2siLCJhdWRpbyIsIkF1ZGlvIiwidm9sdW1lIiwicGxheSIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/notify/client.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/realtime/provider.ts":
/*!**************************************!*\
  !*** ./src/lib/realtime/provider.ts ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRealtimeClient: function() { return /* binding */ getRealtimeClient; },\n/* harmony export */   getStableUserId: function() { return /* binding */ getStableUserId; }\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ getStableUserId,getRealtimeClient auto */ const UID_KEY = \"__rt_uid\";\nfunction getStableUserId() {\n    if (false) {}\n    let id = localStorage.getItem(UID_KEY);\n    if (!id) {\n        id = \"u-\".concat(Math.random().toString(36).slice(2, 9));\n        localStorage.setItem(UID_KEY, id);\n    }\n    return id;\n}\nclass RealtimeClient {\n    setUser(user) {\n        const id = user.id || this.user.id || getStableUserId();\n        this.user = {\n            ...this.user,\n            ...user,\n            id\n        };\n    }\n    ensure(room) {\n        let conn = this.rooms.get(room);\n        if (conn) return conn;\n        const url = new URL(\"/api/realtime/stream\", location.origin);\n        url.searchParams.set(\"room\", room);\n        url.searchParams.set(\"id\", this.user.id);\n        url.searchParams.set(\"name\", this.user.name);\n        url.searchParams.set(\"role\", this.user.role);\n        const es = new EventSource(url.toString());\n        const handlers = new Map();\n        const on = (type, ev)=>{\n            try {\n                var _handlers_get;\n                const data = JSON.parse(ev.data || \"{}\");\n                (_handlers_get = handlers.get(type)) === null || _handlers_get === void 0 ? void 0 : _handlers_get.forEach((h)=>h(data));\n            } catch (e) {}\n        };\n        const connObj = {\n            es,\n            handlers,\n            refCount: 0\n        };\n        // IMPORTANT: on déclare ici tous les types d’événements qu’on veut écouter\n        [\n            \"presence\",\n            \"chat\",\n            \"cursor\",\n            \"file\",\n            \"dm\",\n            \"task\",\n            \"ready\",\n            \"ping\"\n        ].forEach((evt)=>connObj.es.addEventListener(evt, (e)=>on(evt, e)));\n        this.rooms.set(room, connObj);\n        return connObj;\n    }\n    subscribe(room, event, handler) {\n        const conn = this.ensure(room);\n        if (!conn.handlers.has(event)) conn.handlers.set(event, new Set());\n        conn.handlers.get(event).add(handler);\n        conn.refCount += 1;\n        return ()=>{\n            var _conn_handlers_get;\n            (_conn_handlers_get = conn.handlers.get(event)) === null || _conn_handlers_get === void 0 ? void 0 : _conn_handlers_get.delete(handler);\n            conn.refCount -= 1;\n            if (conn.refCount <= 0) {\n                conn.es.close();\n                this.rooms.delete(room);\n            }\n        };\n    }\n    async trigger(room, event, payload) {\n        await fetch(\"/api/realtime/emit\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                room,\n                event,\n                payload,\n                user: this.user\n            })\n        });\n    }\n    async sendChat(room, text) {\n        const msg = {\n            id: \"\".concat(Date.now(), \"-\").concat(Math.random().toString(36).slice(2, 6)),\n            text\n        };\n        await this.trigger(room, \"chat\", msg);\n    }\n    async sendCursor(room, xNorm, yNorm) {\n        await this.trigger(room, \"cursor\", {\n            x: xNorm,\n            y: yNorm\n        });\n    }\n    constructor(){\n        this.user = {\n            id: getStableUserId(),\n            name: \"Anonyme\",\n            role: \"employe\"\n        };\n        this.rooms = new Map();\n    }\n}\nconst g = globalThis;\nif (!g.__RT_CLIENT) g.__RT_CLIENT = new RealtimeClient();\nfunction getRealtimeClient() {\n    return g.__RT_CLIENT;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvcmVhbHRpbWUvcHJvdmlkZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7dUZBYUEsTUFBTUEsVUFBVTtBQUNULFNBQVNDO0lBQ2QsSUFBSSxLQUE2QixFQUFFLEVBQWdEO0lBQ25GLElBQUlLLEtBQUtDLGFBQWFDLE9BQU8sQ0FBQ1I7SUFDOUIsSUFBSSxDQUFDTSxJQUFJO1FBQ1BBLEtBQUssS0FBNEMsT0FBdkNKLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLEtBQUssQ0FBQyxHQUFHO1FBQzlDRSxhQUFhRSxPQUFPLENBQUNULFNBQVNNO0lBQ2hDO0lBQ0EsT0FBT0E7QUFDVDtBQUVBLE1BQU1JO0lBSUpDLFFBQVFDLElBQW1CLEVBQUU7UUFDM0IsTUFBTU4sS0FBS00sS0FBS04sRUFBRSxJQUFJLElBQUksQ0FBQ00sSUFBSSxDQUFDTixFQUFFLElBQUlMO1FBQ3RDLElBQUksQ0FBQ1csSUFBSSxHQUFHO1lBQUUsR0FBRyxJQUFJLENBQUNBLElBQUk7WUFBRSxHQUFHQSxJQUFJO1lBQUVOO1FBQUc7SUFDMUM7SUFFUU8sT0FBT0MsSUFBWSxFQUFFO1FBQzNCLElBQUlDLE9BQU8sSUFBSSxDQUFDQyxLQUFLLENBQUNDLEdBQUcsQ0FBQ0g7UUFDMUIsSUFBSUMsTUFBTSxPQUFPQTtRQUNqQixNQUFNRyxNQUFNLElBQUlDLElBQUksd0JBQXdCQyxTQUFTQyxNQUFNO1FBQzNESCxJQUFJSSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxRQUFRVDtRQUM3QkksSUFBSUksWUFBWSxDQUFDQyxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUNYLElBQUksQ0FBQ04sRUFBRTtRQUN2Q1ksSUFBSUksWUFBWSxDQUFDQyxHQUFHLENBQUMsUUFBUSxJQUFJLENBQUNYLElBQUksQ0FBQ1ksSUFBSTtRQUMzQ04sSUFBSUksWUFBWSxDQUFDQyxHQUFHLENBQUMsUUFBUSxJQUFJLENBQUNYLElBQUksQ0FBQ2EsSUFBSTtRQUMzQyxN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LCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9yZWFsdGltZS9wcm92aWRlci50cz9kMDBhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHR5cGUgeyBSb2xlIH0gZnJvbSBcIi4uL2F1dGgvcm9sZXNcIjtcclxuXHJcbnR5cGUgVXNlciA9IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyByb2xlOiBSb2xlIH07XHJcbnR5cGUgSGFuZGxlciA9IChkYXRhOiBhbnkpID0+IHZvaWQ7XHJcblxyXG50eXBlIFJvb21Db25uID0ge1xyXG4gIGVzOiBFdmVudFNvdXJjZTtcclxuICBoYW5kbGVyczogTWFwPHN0cmluZywgU2V0PEhhbmRsZXI+PjtcclxuICByZWZDb3VudDogbnVtYmVyO1xyXG59O1xyXG5cclxuY29uc3QgVUlEX0tFWSA9IFwiX19ydF91aWRcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWJsZVVzZXJJZCgpIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGB1LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOSl9YDtcclxuICBsZXQgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVSURfS0VZKTtcclxuICBpZiAoIWlkKSB7XHJcbiAgICBpZCA9IGB1LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOSl9YDtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVJRF9LRVksIGlkKTtcclxuICB9XHJcbiAgcmV0dXJuIGlkO1xyXG59XHJcblxyXG5jbGFzcyBSZWFsdGltZUNsaWVudCB7XHJcbiAgcHJpdmF0ZSB1c2VyOiBVc2VyID0geyBpZDogZ2V0U3RhYmxlVXNlcklkKCksIG5hbWU6IFwiQW5vbnltZVwiLCByb2xlOiBcImVtcGxveWVcIiB9O1xyXG4gIHByaXZhdGUgcm9vbXM6IE1hcDxzdHJpbmcsIFJvb21Db25uPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgc2V0VXNlcih1c2VyOiBQYXJ0aWFsPFVzZXI+KSB7XHJcbiAgICBjb25zdCBpZCA9IHVzZXIuaWQgfHwgdGhpcy51c2VyLmlkIHx8IGdldFN0YWJsZVVzZXJJZCgpO1xyXG4gICAgdGhpcy51c2VyID0geyAuLi50aGlzLnVzZXIsIC4uLnVzZXIsIGlkIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVuc3VyZShyb29tOiBzdHJpbmcpIHtcclxuICAgIGxldCBjb25uID0gdGhpcy5yb29tcy5nZXQocm9vbSk7XHJcbiAgICBpZiAoY29ubikgcmV0dXJuIGNvbm47XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwiL2FwaS9yZWFsdGltZS9zdHJlYW1cIiwgbG9jYXRpb24ub3JpZ2luKTtcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwicm9vbVwiLCByb29tKTtcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiaWRcIiwgdGhpcy51c2VyLmlkKTtcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwibmFtZVwiLCB0aGlzLnVzZXIubmFtZSk7XHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInJvbGVcIiwgdGhpcy51c2VyLnJvbGUpO1xyXG4gICAgY29uc3QgZXMgPSBuZXcgRXZlbnRTb3VyY2UodXJsLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZXJzID0gbmV3IE1hcDxzdHJpbmcsIFNldDxIYW5kbGVyPj4oKTtcclxuICAgIGNvbnN0IG9uID0gKHR5cGU6IHN0cmluZywgZXY6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2LmRhdGEgfHwgXCJ7fVwiKTtcclxuICAgICAgICBoYW5kbGVycy5nZXQodHlwZSk/LmZvckVhY2goKGgpID0+IGgoZGF0YSkpO1xyXG4gICAgICB9IGNhdGNoIHt9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNvbm5PYmo6IFJvb21Db25uID0geyBlcywgaGFuZGxlcnMsIHJlZkNvdW50OiAwIH07XHJcbiAgICAvLyBJTVBPUlRBTlQ6IG9uIGTDqWNsYXJlIGljaSB0b3VzIGxlcyB0eXBlcyBk4oCZw6l2w6luZW1lbnRzIHF14oCZb24gdmV1dCDDqWNvdXRlclxyXG4gICAgW1wicHJlc2VuY2VcIiwgXCJjaGF0XCIsIFwiY3Vyc29yXCIsIFwiZmlsZVwiLCBcImRtXCIsIFwidGFza1wiLCBcInJlYWR5XCIsIFwicGluZ1wiXS5mb3JFYWNoKChldnQpID0+XHJcbiAgICAgIGNvbm5PYmouZXMuYWRkRXZlbnRMaXN0ZW5lcihldnQsIChlKSA9PiBvbihldnQsIGUgYXMgTWVzc2FnZUV2ZW50KSlcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5yb29tcy5zZXQocm9vbSwgY29ubk9iaik7XHJcbiAgICByZXR1cm4gY29ubk9iajtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZShyb29tOiBzdHJpbmcsIGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEhhbmRsZXIpIHtcclxuICAgIGNvbnN0IGNvbm4gPSB0aGlzLmVuc3VyZShyb29tKTtcclxuICAgIGlmICghY29ubi5oYW5kbGVycy5oYXMoZXZlbnQpKSBjb25uLmhhbmRsZXJzLnNldChldmVudCwgbmV3IFNldCgpKTtcclxuICAgIGNvbm4uaGFuZGxlcnMuZ2V0KGV2ZW50KSEuYWRkKGhhbmRsZXIpO1xyXG4gICAgY29ubi5yZWZDb3VudCArPSAxO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY29ubi5oYW5kbGVycy5nZXQoZXZlbnQpPy5kZWxldGUoaGFuZGxlcik7XHJcbiAgICAgIGNvbm4ucmVmQ291bnQgLT0gMTtcclxuICAgICAgaWYgKGNvbm4ucmVmQ291bnQgPD0gMCkge1xyXG4gICAgICAgIGNvbm4uZXMuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLnJvb21zLmRlbGV0ZShyb29tKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHRyaWdnZXIocm9vbTogc3RyaW5nLCBldmVudDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpIHtcclxuICAgIGF3YWl0IGZldGNoKFwiL2FwaS9yZWFsdGltZS9lbWl0XCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJvb20sIGV2ZW50LCBwYXlsb2FkLCB1c2VyOiB0aGlzLnVzZXIgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbmRDaGF0KHJvb206IHN0cmluZywgdGV4dDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtc2cgPSB7IGlkOiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDYpfWAsIHRleHQgfTtcclxuICAgIGF3YWl0IHRoaXMudHJpZ2dlcihyb29tLCBcImNoYXRcIiwgbXNnKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbmRDdXJzb3Iocm9vbTogc3RyaW5nLCB4Tm9ybTogbnVtYmVyLCB5Tm9ybTogbnVtYmVyKSB7XHJcbiAgICBhd2FpdCB0aGlzLnRyaWdnZXIocm9vbSwgXCJjdXJzb3JcIiwgeyB4OiB4Tm9ybSwgeTogeU5vcm0gfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBnID0gZ2xvYmFsVGhpcyBhcyBhbnk7XHJcbmlmICghZy5fX1JUX0NMSUVOVCkgZy5fX1JUX0NMSUVOVCA9IG5ldyBSZWFsdGltZUNsaWVudCgpO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhbHRpbWVDbGllbnQoKSB7XHJcbiAgcmV0dXJuIGcuX19SVF9DTElFTlQgYXMgUmVhbHRpbWVDbGllbnQ7XHJcbn0iXSwibmFtZXMiOlsiVUlEX0tFWSIsImdldFN0YWJsZVVzZXJJZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwiaWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsIlJlYWx0aW1lQ2xpZW50Iiwic2V0VXNlciIsInVzZXIiLCJlbnN1cmUiLCJyb29tIiwiY29ubiIsInJvb21zIiwiZ2V0IiwidXJsIiwiVVJMIiwibG9jYXRpb24iLCJvcmlnaW4iLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJuYW1lIiwicm9sZSIsImVzIiwiRXZlbnRTb3VyY2UiLCJoYW5kbGVycyIsIk1hcCIsIm9uIiwidHlwZSIsImV2IiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImZvckVhY2giLCJoIiwiY29ubk9iaiIsInJlZkNvdW50IiwiZXZ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzdWJzY3JpYmUiLCJldmVudCIsImhhbmRsZXIiLCJoYXMiLCJTZXQiLCJhZGQiLCJkZWxldGUiLCJjbG9zZSIsInRyaWdnZXIiLCJwYXlsb2FkIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInN0cmluZ2lmeSIsInNlbmRDaGF0IiwidGV4dCIsIm1zZyIsIkRhdGUiLCJub3ciLCJzZW5kQ3Vyc29yIiwieE5vcm0iLCJ5Tm9ybSIsIngiLCJ5IiwiZyIsImdsb2JhbFRoaXMiLCJfX1JUX0NMSUVOVCIsImdldFJlYWx0aW1lQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/realtime/provider.ts\n"));

/***/ })

});